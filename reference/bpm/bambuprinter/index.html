
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/reference/bpm/bambuprinter/">
      
      
        <link rel="prev" href="../bambuconfig/">
      
      
        <link rel="next" href="../bambuspool/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>bambuprinter - bambu-printer-manager</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bpm.bambuprinter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="bambu-printer-manager" class="md-header__button md-logo" aria-label="bambu-printer-manager" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bambu-printer-manager
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              bambuprinter
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../__init__/" class="md-tabs__link">
          
  
  
  Code Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../container/" class="md-tabs__link">
        
  
  
    
  
  Client Container

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../license/" class="md-tabs__link">
        
  
  
    
  
  License

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="bambu-printer-manager" class="md-nav__button md-logo" aria-label="bambu-printer-manager" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    bambu-printer-manager
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    bpm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    bpm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bambucommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bambucommands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bambuconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bambuconfig
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    bambuprinter
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    bambuprinter
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BambuPrinter
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BambuPrinter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.bed_temp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bed_temp
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.bed_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bed_temp_target
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.chamber_temp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;chamber_temp
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.chamber_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;chamber_temp_target
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.fan_speed" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fan_speed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.fan_speed_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fan_speed_target
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.heatbreak_fan_speed" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;heatbreak_fan_speed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.on_update" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;on_update
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" on_update">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.on_update--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.tool_temp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tool_temp
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.tool_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tool_temp_target
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_sdcard_file
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" delete_sdcard_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_file--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_folder" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_sdcard_folder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" delete_sdcard_folder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_folder--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.download_sdcard_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;download_sdcard_file
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" download_sdcard_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.download_sdcard_file--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.ftp_connection" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ftp_connection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.get_current_bind_list" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_current_bind_list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sdcard_3mf_files
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_sdcard_3mf_files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files--usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.get_sdcard_contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sdcard_contents
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_sdcard_contents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.get_sdcard_contents--usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.jsonSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;jsonSerializer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.load_filament" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load_filament
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" load_filament">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.load_filament--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.make_sdcard_directory" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;make_sdcard_directory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" make_sdcard_directory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.make_sdcard_directory--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.pause_printing" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pause_printing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.pause_session" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pause_session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.print_3mf_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print_3mf_file
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" print_3mf_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.print_3mf_file--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.print_3mf_file--example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.print_3mf_file--ams-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        AMS Mapping
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.quit" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;quit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.refresh" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;refresh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.refresh_spool_rfid" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;refresh_spool_rfid
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.rename_sdcard_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;rename_sdcard_file
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" rename_sdcard_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.rename_sdcard_file--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.resume_printing" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;resume_printing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.resume_session" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;resume_session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.sdcard_file_exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sdcard_file_exists
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" sdcard_file_exists">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.sdcard_file_exists--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_extrusion_calibration_profile
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" select_extrusion_calibration_profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.send_ams_control_command" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_ams_control_command
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.send_anything" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_anything
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.send_gcode" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_gcode
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" send_gcode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.send_gcode--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.send_gcode--examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_active_tool" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_active_tool
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_ams_user_setting" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_ams_user_setting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_aux_fan_speed_target_percent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_aux_fan_speed_target_percent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_bed_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_bed_temp_target
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_bed_temp_target">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_bed_temp_target--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_buildplate_marker_detector" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_buildplate_marker_detector
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_chamber_temp
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_chamber_temp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_chamber_temp_target
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_chamber_temp_target">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp_target--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_exhaust_fan_speed_target_percent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_exhaust_fan_speed_target_percent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_nozzle_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_nozzle_details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_nozzle_temp_target
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_nozzle_temp_target">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_part_cooling_fan_speed_target_percent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" set_part_cooling_fan_speed_target_percent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_print_option" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_print_option
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_spool_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_spool_details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.set_spool_k_factor" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_spool_k_factor
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.skip_objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;skip_objects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" skip_objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.skip_objects--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.start_session" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;start_session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.stop_printing" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;stop_printing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.target_spool" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;target_spool
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.toJson" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;toJson
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.turn_off_ams_dryer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;turn_off_ams_dryer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;turn_on_ams_dryer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" turn_on_ams_dryer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.unload_filament" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unload_filament
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.upload_sdcard_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;upload_sdcard_file
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" upload_sdcard_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpm.bambuprinter.BambuPrinter.upload_sdcard_file--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bambuspool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bambuspool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bambustate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bambustate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bambutools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bambutools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7" >
        
          
          <label class="md-nav__link" for="__nav_2_1_7" id="__nav_2_1_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ftpsclient
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    ftpsclient
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ftpsclient/ftpsclient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ftpsclient
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Container
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div class="doc doc-object doc-module">



<h1 id="bpm.bambuprinter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">bambuprinter</span>


</h1>

    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            BambuPrinter (bpm.bambuprinter.BambuPrinter)" href="#bpm.bambuprinter.BambuPrinter">BambuPrinter</a></code></td>
            <td>
              <div class="doc-md-description">
                <p><code>BambuPrinter</code> is the main class within <code>bambu-printer-manager</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="bpm.bambuprinter.BambuPrinter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BambuPrinter</span>


</h2>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">BambuPrinter</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter(config)">config</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BambuConfig (bpm.bambuconfig.BambuConfig)" href="../bambuconfig/#bpm.bambuconfig.BambuConfig">BambuConfig</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">



        <p><code>BambuPrinter</code> is the main class within <code>bambu-printer-manager</code>
It is responsible for interacting with and managing your Bambu Lab 3d printer.
It provides an object oriented abstraction layer between your project and the
<code>mqtt</code> and <code>ftps</code> based mechanisms in place for communicating with your printer.</p>

        <h4 id="bpm.bambuprinter.BambuPrinter--parameters">Parameters</h4>
<ul>
<li>config : Optional[BambuConfig] = None
    An optional <code>BambuConfig</code> instance that provides configuration information
    for the printer connection.  If not provided, a default <code>BambuConfig</code> instance
    will be created.</li>
</ul>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_sdcard_file (bpm.bambuprinter.BambuPrinter.delete_sdcard_file)" href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_file">delete_sdcard_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Delete the specified file on the printer's SDCard and returns an updated dict of all files on the printer</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_sdcard_folder (bpm.bambuprinter.BambuPrinter.delete_sdcard_folder)" href="#bpm.bambuprinter.BambuPrinter.delete_sdcard_folder">delete_sdcard_folder</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Delete the specified folder on the printer's SDCard and returns an updated dict of all files on the printer</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            download_sdcard_file (bpm.bambuprinter.BambuPrinter.download_sdcard_file)" href="#bpm.bambuprinter.BambuPrinter.download_sdcard_file">download_sdcard_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Downloads a file from the printer</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            ftp_connection (bpm.bambuprinter.BambuPrinter.ftp_connection)" href="#bpm.bambuprinter.BambuPrinter.ftp_connection">ftp_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Opens a connection to the printer's FTP server to support file management.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_current_bind_list (bpm.bambuprinter.BambuPrinter.get_current_bind_list)" href="#bpm.bambuprinter.BambuPrinter.get_current_bind_list">get_current_bind_list</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates the manual_ams_bind list based on current AMS toolhead assignments.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_sdcard_3mf_files (bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files)" href="#bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files">get_sdcard_3mf_files</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a <code>dict</code> (json document) of all <code>.3mf</code> files on the printer's SD card.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_sdcard_contents (bpm.bambuprinter.BambuPrinter.get_sdcard_contents)" href="#bpm.bambuprinter.BambuPrinter.get_sdcard_contents">get_sdcard_contents</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a <code>dict</code> (json document) of ALL files on the printer's SD card.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            jsonSerializer (bpm.bambuprinter.BambuPrinter.jsonSerializer)" href="#bpm.bambuprinter.BambuPrinter.jsonSerializer">jsonSerializer</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Helper method used by <code>toJson()</code> to serialize this object.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            load_filament (bpm.bambuprinter.BambuPrinter.load_filament)" href="#bpm.bambuprinter.BambuPrinter.load_filament">load_filament</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Requests the printer to load filament into the extruder using the requested spool (slot #)</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            make_sdcard_directory (bpm.bambuprinter.BambuPrinter.make_sdcard_directory)" href="#bpm.bambuprinter.BambuPrinter.make_sdcard_directory">make_sdcard_directory</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates the specified directory on the printer and returns an updated dict of all files on the printer</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            pause_printing (bpm.bambuprinter.BambuPrinter.pause_printing)" href="#bpm.bambuprinter.BambuPrinter.pause_printing">pause_printing</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Pauses the current print job if one is running.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            pause_session (bpm.bambuprinter.BambuPrinter.pause_session)" href="#bpm.bambuprinter.BambuPrinter.pause_session">pause_session</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Pauses the <code>BambuPrinter</code> session is it is active.  Under the covers this</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            print_3mf_file (bpm.bambuprinter.BambuPrinter.print_3mf_file)" href="#bpm.bambuprinter.BambuPrinter.print_3mf_file">print_3mf_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Submits a request to execute the <code>name</code> 3mf file on the printer's SDCard.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            quit (bpm.bambuprinter.BambuPrinter.quit)" href="#bpm.bambuprinter.BambuPrinter.quit">quit</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Shuts down all threads.  Your <code>BambuPrinter</code> instance should probably be</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            refresh (bpm.bambuprinter.BambuPrinter.refresh)" href="#bpm.bambuprinter.BambuPrinter.refresh">refresh</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Triggers a full data refresh from the printer (if it is connected).  You should use this</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            refresh_spool_rfid (bpm.bambuprinter.BambuPrinter.refresh_spool_rfid)" href="#bpm.bambuprinter.BambuPrinter.refresh_spool_rfid">refresh_spool_rfid</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>read the rfid tag for the selected ams and spool (slot) id.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            rename_sdcard_file (bpm.bambuprinter.BambuPrinter.rename_sdcard_file)" href="#bpm.bambuprinter.BambuPrinter.rename_sdcard_file">rename_sdcard_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Renames the specified file on the printer and returns an updated dict of all files on the printer</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            resume_printing (bpm.bambuprinter.BambuPrinter.resume_printing)" href="#bpm.bambuprinter.BambuPrinter.resume_printing">resume_printing</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resumes the current print job if one is paused.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            resume_session (bpm.bambuprinter.BambuPrinter.resume_session)" href="#bpm.bambuprinter.BambuPrinter.resume_session">resume_session</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resumes a previously paused session by re-subscribing to the /report topic.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            sdcard_file_exists (bpm.bambuprinter.BambuPrinter.sdcard_file_exists)" href="#bpm.bambuprinter.BambuPrinter.sdcard_file_exists">sdcard_file_exists</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Checks to see if a file exists on the printer at the <code>path</code> specified</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            select_extrusion_calibration_profile (bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile)" href="#bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile">select_extrusion_calibration_profile</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets the k factor profile for the specified tray.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            send_ams_control_command (bpm.bambuprinter.BambuPrinter.send_ams_control_command)" href="#bpm.bambuprinter.BambuPrinter.send_ams_control_command">send_ams_control_command</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Send an AMS Control Command - will pause, resume, or reset the AMS.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            send_anything (bpm.bambuprinter.BambuPrinter.send_anything)" href="#bpm.bambuprinter.BambuPrinter.send_anything">send_anything</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>puts an arbritary string on the request topic</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            send_gcode (bpm.bambuprinter.BambuPrinter.send_gcode)" href="#bpm.bambuprinter.BambuPrinter.send_gcode">send_gcode</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Submit one, or more, gcode commands to the printer.  To submit multiple gcode commands, separate them with a newline (\n) character.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_active_tool (bpm.bambuprinter.BambuPrinter.set_active_tool)" href="#bpm.bambuprinter.BambuPrinter.set_active_tool">set_active_tool</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>sets the current active tool / extruder for machines (H2 series)</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_ams_user_setting (bpm.bambuprinter.BambuPrinter.set_ams_user_setting)" href="#bpm.bambuprinter.BambuPrinter.set_ams_user_setting">set_ams_user_setting</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Enable or disable one of the <code>AMSUserSetting</code> options</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_aux_fan_speed_target_percent (bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent)" href="#bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent">set_aux_fan_speed_target_percent</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>sets the aux (chamber recirculation) fan speed target represented in percent</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_bed_temp_target (bpm.bambuprinter.BambuPrinter.set_bed_temp_target)" href="#bpm.bambuprinter.BambuPrinter.set_bed_temp_target">set_bed_temp_target</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets the bed temperature target.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_buildplate_marker_detector (bpm.bambuprinter.BambuPrinter.set_buildplate_marker_detector)" href="#bpm.bambuprinter.BambuPrinter.set_buildplate_marker_detector">set_buildplate_marker_detector</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Enables or disables the buildplate_marker_detector</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_chamber_temp (bpm.bambuprinter.BambuPrinter.set_chamber_temp)" href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp">set_chamber_temp</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>for printers that do not have managed chambers, this enables you to inject</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_chamber_temp_target (bpm.bambuprinter.BambuPrinter.set_chamber_temp_target)" href="#bpm.bambuprinter.BambuPrinter.set_chamber_temp_target">set_chamber_temp_target</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>set chamber temperature target if printer supports it, otherwise just</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_exhaust_fan_speed_target_percent (bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent)" href="#bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent">set_exhaust_fan_speed_target_percent</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>sets the exhaust (chamber) fan speed target represented in percent</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_nozzle_details (bpm.bambuprinter.BambuPrinter.set_nozzle_details)" href="#bpm.bambuprinter.BambuPrinter.set_nozzle_details">set_nozzle_details</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets the nozzle details.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_nozzle_temp_target (bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target)" href="#bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target">set_nozzle_temp_target</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets the nozzle temperature target.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_part_cooling_fan_speed_target_percent (bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent)" href="#bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent">set_part_cooling_fan_speed_target_percent</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>sets the part cooling fan speed target represented in percent</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_print_option (bpm.bambuprinter.BambuPrinter.set_print_option)" href="#bpm.bambuprinter.BambuPrinter.set_print_option">set_print_option</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Enable or disable one of the <code>PrintOption</code> options</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_spool_details (bpm.bambuprinter.BambuPrinter.set_spool_details)" href="#bpm.bambuprinter.BambuPrinter.set_spool_details">set_spool_details</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets spool / tray details such as filament type, color, and nozzle min/max temperature.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_spool_k_factor


  
      deprecated
   (bpm.bambuprinter.BambuPrinter.set_spool_k_factor)" href="#bpm.bambuprinter.BambuPrinter.set_spool_k_factor">set_spool_k_factor</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets the linear advance k factor for a specific spool / tray</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            skip_objects (bpm.bambuprinter.BambuPrinter.skip_objects)" href="#bpm.bambuprinter.BambuPrinter.skip_objects">skip_objects</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>skip a list of objects extracted from the 3mf's plate_x.json file</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            start_session (bpm.bambuprinter.BambuPrinter.start_session)" href="#bpm.bambuprinter.BambuPrinter.start_session">start_session</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initiates a connection to the Bambu Lab printer and provides a stateful</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            stop_printing (bpm.bambuprinter.BambuPrinter.stop_printing)" href="#bpm.bambuprinter.BambuPrinter.stop_printing">stop_printing</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Requests the printer to stop printing if a job is currently running.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            target_spool


  
      deprecated
   (bpm.bambuprinter.BambuPrinter.target_spool)" href="#bpm.bambuprinter.BambuPrinter.target_spool">target_spool</a></code></td>
              <td>
                <div class="doc-md-description">
                  
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            toJson (bpm.bambuprinter.BambuPrinter.toJson)" href="#bpm.bambuprinter.BambuPrinter.toJson">toJson</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a <code>dict</code> (json document) representing this object's private class</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            turn_off_ams_dryer (bpm.bambuprinter.BambuPrinter.turn_off_ams_dryer)" href="#bpm.bambuprinter.BambuPrinter.turn_off_ams_dryer">turn_off_ams_dryer</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sends a command to the printer to turn off the AMS dryer.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            turn_on_ams_dryer (bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer)" href="#bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer">turn_on_ams_dryer</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sends a command to the printer to turn on the AMS dryer with specified parameters.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            unload_filament (bpm.bambuprinter.BambuPrinter.unload_filament)" href="#bpm.bambuprinter.BambuPrinter.unload_filament">unload_filament</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Requests the printer to unload whatever filament / spool may be currently loaded.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            upload_sdcard_file (bpm.bambuprinter.BambuPrinter.upload_sdcard_file)" href="#bpm.bambuprinter.BambuPrinter.upload_sdcard_file">upload_sdcard_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Uploads the local filesystem file to the printer and returns an updated dict of all files on the printer</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            bed_temp


  
      property
   (bpm.bambuprinter.BambuPrinter.bed_temp)" href="#bpm.bambuprinter.BambuPrinter.bed_temp">bed_temp</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns the current bed temperature</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            bed_temp_target


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.bed_temp_target)" href="#bpm.bambuprinter.BambuPrinter.bed_temp_target">bed_temp_target</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the bed temperature target</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            chamber_temp


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.chamber_temp)" href="#bpm.bambuprinter.BambuPrinter.chamber_temp">chamber_temp</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the nozzle temperature target</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            chamber_temp_target


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.chamber_temp_target)" href="#bpm.bambuprinter.BambuPrinter.chamber_temp_target">chamber_temp_target</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the chamber temperature target</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            fan_speed


  
      property
   (bpm.bambuprinter.BambuPrinter.fan_speed)" href="#bpm.bambuprinter.BambuPrinter.fan_speed">fan_speed</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns the part fan speed in percent</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            fan_speed_target


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.fan_speed_target)" href="#bpm.bambuprinter.BambuPrinter.fan_speed_target">fan_speed_target</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the part cooling fan target speed in percent</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            heatbreak_fan_speed


  
      property
   (bpm.bambuprinter.BambuPrinter.heatbreak_fan_speed)" href="#bpm.bambuprinter.BambuPrinter.heatbreak_fan_speed">heatbreak_fan_speed</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns the heatbreak fan's current speed in percent</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            on_update


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.on_update)" href="#bpm.bambuprinter.BambuPrinter.on_update">on_update</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>sets or returns the callback function that is called when the printer state is updated</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            tool_temp


  
      property
   (bpm.bambuprinter.BambuPrinter.tool_temp)" href="#bpm.bambuprinter.BambuPrinter.tool_temp">tool_temp</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the tool temperature</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            tool_temp_target


  
      property
      writable
   (bpm.bambuprinter.BambuPrinter.tool_temp_target)" href="#bpm.bambuprinter.BambuPrinter.tool_temp_target">tool_temp_target</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>returns or sets the nozzle temperature target</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
                    <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><a href="#__codelineno-0-74"><span class="linenos" data-linenos=" 74 "></span></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">BambuConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a><a href="#__codelineno-0-75"><span class="linenos" data-linenos=" 75 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><a href="#__codelineno-0-76"><span class="linenos" data-linenos=" 76 "></span></a><span class="sd">    Sets up all internal storage attributes for `BambuPrinter` and bootstraps the</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><a href="#__codelineno-0-77"><span class="linenos" data-linenos=" 77 "></span></a><span class="sd">    logging engine.</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><a href="#__codelineno-0-78"><span class="linenos" data-linenos=" 78 "></span></a>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><a href="#__codelineno-0-79"><span class="linenos" data-linenos=" 79 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><a href="#__codelineno-0-80"><span class="linenos" data-linenos=" 80 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><a href="#__codelineno-0-81"><span class="linenos" data-linenos=" 81 "></span></a><span class="sd">    * config : Optional[BambuConfig] = None</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><a href="#__codelineno-0-82"><span class="linenos" data-linenos=" 82 "></span></a><span class="sd">        An optional `BambuConfig` instance that provides configuration information</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><a href="#__codelineno-0-83"><span class="linenos" data-linenos=" 83 "></span></a><span class="sd">        for the printer connection.  If not provided, a default `BambuConfig` instance</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><a href="#__codelineno-0-84"><span class="linenos" data-linenos=" 84 "></span></a><span class="sd">        will be created.</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><a href="#__codelineno-0-85"><span class="linenos" data-linenos=" 85 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><a href="#__codelineno-0-86"><span class="linenos" data-linenos=" 86 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a><a href="#__codelineno-0-87"><span class="linenos" data-linenos=" 87 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_watchdog_thread</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><a href="#__codelineno-0-88"><span class="linenos" data-linenos=" 88 "></span></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><a href="#__codelineno-0-89"><span class="linenos" data-linenos=" 89 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_internalException</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><a href="#__codelineno-0-90"><span class="linenos" data-linenos=" 90 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_lastMessageTime</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><a href="#__codelineno-0-91"><span class="linenos" data-linenos=" 91 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_recent_update</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><a href="#__codelineno-0-92"><span class="linenos" data-linenos=" 92 "></span></a>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><a href="#__codelineno-0-93"><span class="linenos" data-linenos=" 93 "></span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a><a href="#__codelineno-0-94"><span class="linenos" data-linenos=" 94 "></span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">BambuConfig</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><a href="#__codelineno-0-95"><span class="linenos" data-linenos=" 95 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><a href="#__codelineno-0-96"><span class="linenos" data-linenos=" 96 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">NO_STATE</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><a href="#__codelineno-0-97"><span class="linenos" data-linenos=" 97 "></span></a>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a><a href="#__codelineno-0-98"><span class="linenos" data-linenos=" 98 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a><a href="#__codelineno-0-99"><span class="linenos" data-linenos=" 99 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_update</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><a href="#__codelineno-0-100"><span class="linenos" data-linenos="100 "></span></a>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><a href="#__codelineno-0-101"><span class="linenos" data-linenos="101 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_bed_temp</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a><a href="#__codelineno-0-102"><span class="linenos" data-linenos="102 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_bed_temp_target</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a><a href="#__codelineno-0-103"><span class="linenos" data-linenos="103 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_bed_temp_target_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><a href="#__codelineno-0-104"><span class="linenos" data-linenos="104 "></span></a>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a><a href="#__codelineno-0-105"><span class="linenos" data-linenos="105 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_tool_temp</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><a href="#__codelineno-0-106"><span class="linenos" data-linenos="106 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_tool_temp_target</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a><a href="#__codelineno-0-107"><span class="linenos" data-linenos="107 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_tool_temp_target_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><a href="#__codelineno-0-108"><span class="linenos" data-linenos="108 "></span></a>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><a href="#__codelineno-0-109"><span class="linenos" data-linenos="109 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_chamber_temp</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a><a href="#__codelineno-0-110"><span class="linenos" data-linenos="110 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_chamber_temp_target</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a><a href="#__codelineno-0-111"><span class="linenos" data-linenos="111 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_chamber_temp_target_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a><a href="#__codelineno-0-112"><span class="linenos" data-linenos="112 "></span></a>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><a href="#__codelineno-0-113"><span class="linenos" data-linenos="113 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_fan_gear</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a><a href="#__codelineno-0-114"><span class="linenos" data-linenos="114 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_heatbreak_fan_speed</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><a href="#__codelineno-0-115"><span class="linenos" data-linenos="115 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_fan_speed</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><a href="#__codelineno-0-116"><span class="linenos" data-linenos="116 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_fan_speed_target</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a><a href="#__codelineno-0-117"><span class="linenos" data-linenos="117 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_fan_speed_target_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a><a href="#__codelineno-0-118"><span class="linenos" data-linenos="118 "></span></a>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a><a href="#__codelineno-0-119"><span class="linenos" data-linenos="119 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_light_state</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a><a href="#__codelineno-0-120"><span class="linenos" data-linenos="120 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_wifi_signal</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a><a href="#__codelineno-0-121"><span class="linenos" data-linenos="121 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_speed_level</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a><a href="#__codelineno-0-122"><span class="linenos" data-linenos="122 "></span></a>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a><a href="#__codelineno-0-123"><span class="linenos" data-linenos="123 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_gcode_state</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a><a href="#__codelineno-0-124"><span class="linenos" data-linenos="124 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_gcode_file</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a><a href="#__codelineno-0-125"><span class="linenos" data-linenos="125 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_3mf_file</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a><a href="#__codelineno-0-126"><span class="linenos" data-linenos="126 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_3mf_file_md5</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a><a href="#__codelineno-0-127"><span class="linenos" data-linenos="127 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_plate_num</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a><a href="#__codelineno-0-128"><span class="linenos" data-linenos="128 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_plate_type</span> <span class="o">=</span> <span class="n">PlateType</span><span class="o">.</span><span class="n">NONE</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a><a href="#__codelineno-0-129"><span class="linenos" data-linenos="129 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_subtask_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a><a href="#__codelineno-0-130"><span class="linenos" data-linenos="130 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_print_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a><a href="#__codelineno-0-131"><span class="linenos" data-linenos="131 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_percent_complete</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a><a href="#__codelineno-0-132"><span class="linenos" data-linenos="132 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_time_remaining</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a><a href="#__codelineno-0-133"><span class="linenos" data-linenos="133 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_start_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a><a href="#__codelineno-0-134"><span class="linenos" data-linenos="134 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_elapsed_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a><a href="#__codelineno-0-135"><span class="linenos" data-linenos="135 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_layer_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a><a href="#__codelineno-0-136"><span class="linenos" data-linenos="136 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_current_layer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a><a href="#__codelineno-0-137"><span class="linenos" data-linenos="137 "></span></a>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a><a href="#__codelineno-0-138"><span class="linenos" data-linenos="138 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_current_stage</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a><a href="#__codelineno-0-139"><span class="linenos" data-linenos="139 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_current_stage_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a><a href="#__codelineno-0-140"><span class="linenos" data-linenos="140 "></span></a>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a><a href="#__codelineno-0-141"><span class="linenos" data-linenos="141 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_spools</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a><a href="#__codelineno-0-142"><span class="linenos" data-linenos="142 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span> <span class="o">=</span> <span class="n">BambuState</span><span class="p">()</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><a href="#__codelineno-0-143"><span class="linenos" data-linenos="143 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_target_spool</span> <span class="o">=</span> <span class="mi">255</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><a href="#__codelineno-0-144"><span class="linenos" data-linenos="144 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_active_spool</span> <span class="o">=</span> <span class="mi">255</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><a href="#__codelineno-0-145"><span class="linenos" data-linenos="145 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_spool_state</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a><a href="#__codelineno-0-146"><span class="linenos" data-linenos="146 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_ams_status</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><a href="#__codelineno-0-147"><span class="linenos" data-linenos="147 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_ams_exists</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><a href="#__codelineno-0-148"><span class="linenos" data-linenos="148 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_ams_rfid_status</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><a href="#__codelineno-0-149"><span class="linenos" data-linenos="149 "></span></a>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><a href="#__codelineno-0-150"><span class="linenos" data-linenos="150 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><a href="#__codelineno-0-151"><span class="linenos" data-linenos="151 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><a href="#__codelineno-0-152"><span class="linenos" data-linenos="152 "></span></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a><a href="#__codelineno-0-153"><span class="linenos" data-linenos="153 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_hms_data</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><a href="#__codelineno-0-154"><span class="linenos" data-linenos="154 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_hms_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a><a href="#__codelineno-0-155"><span class="linenos" data-linenos="155 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_last_hms_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><a href="#__codelineno-0-156"><span class="linenos" data-linenos="156 "></span></a>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a><a href="#__codelineno-0-157"><span class="linenos" data-linenos="157 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_print_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a><a href="#__codelineno-0-158"><span class="linenos" data-linenos="158 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_skipped_objects</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a><a href="#__codelineno-0-159"><span class="linenos" data-linenos="159 "></span></a>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a><a href="#__codelineno-0-160"><span class="linenos" data-linenos="160 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_nozzle_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a><a href="#__codelineno-0-161"><span class="linenos" data-linenos="161 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_nozzle_diameter</span> <span class="o">=</span> <span class="mf">0.0</span>
</span></code></pre></div>
                  </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.bed_temp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bed_temp</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bed_temp</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns the current bed temperature</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.bed_temp</code> instead.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.bed_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bed_temp_target</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bed_temp_target</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the bed temperature target</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.bed_temp_target</code> and <code>set_bed_temp_target</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.chamber_temp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">chamber_temp</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">chamber_temp</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the nozzle temperature target</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.chamber_temp</code> and <code>set_chamber_temp</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.chamber_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">chamber_temp_target</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">chamber_temp_target</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the chamber temperature target</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.chamber_temp_target</code> and <code>set_chamber_temp_target</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.fan_speed" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fan_speed</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">fan_speed</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns the part fan speed in percent</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.part_cooling_fan_speed_percent</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.fan_speed_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fan_speed_target</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">fan_speed_target</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the part cooling fan target speed in percent</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.part_cooling_fan_speed_target_percent</code> and <code>set_part_cooling_fan_speed_target_percent</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.heatbreak_fan_speed" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">heatbreak_fan_speed</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">heatbreak_fan_speed</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns the heatbreak fan's current speed in percent</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.heatbreak_fan_speed_percent</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.on_update" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">on_update</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">on_update</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>sets or returns the callback function that is called when the printer state is updated</p>
<h5 id="bpm.bambuprinter.BambuPrinter.on_update--parameters">Parameters</h5>
<ul>
<li>value : method - (setter) The method to call.</li>
</ul>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.tool_temp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">tool_temp</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">tool_temp</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the tool temperature</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.nozzle_temp</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="bpm.bambuprinter.BambuPrinter.tool_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">tool_temp_target</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">tool_temp_target</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>returns or sets the nozzle temperature target</p>
<div class="admonition danger">
<p class="admonition-title">Deprecated</p>
</div>
<p>This property is deprecated (v1.0.0). Use <code>BambuState.nozzle_temp</code>.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.delete_sdcard_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">delete_sdcard_file</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">delete_sdcard_file</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.delete_sdcard_file(file)">file</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete the specified file on the printer's SDCard and returns an updated dict of all files on the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.delete_sdcard_file--parameters">Parameters</h5>
<ul>
<li>file : str - the full path filename to be deleted</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-568"><a id="__codelineno-0-568" name="__codelineno-0-568"></a><a href="#__codelineno-0-568"><span class="linenos" data-linenos="568 "></span></a><span class="k">def</span> <span class="nf">delete_sdcard_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-569"><a id="__codelineno-0-569" name="__codelineno-0-569"></a><a href="#__codelineno-0-569"><span class="linenos" data-linenos="569 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-570"><a id="__codelineno-0-570" name="__codelineno-0-570"></a><a href="#__codelineno-0-570"><span class="linenos" data-linenos="570 "></span></a><span class="sd">    Delete the specified file on the printer&#39;s SDCard and returns an updated dict of all files on the printer</span>
</span><span id="__span-0-571"><a id="__codelineno-0-571" name="__codelineno-0-571"></a><a href="#__codelineno-0-571"><span class="linenos" data-linenos="571 "></span></a>
</span><span id="__span-0-572"><a id="__codelineno-0-572" name="__codelineno-0-572"></a><a href="#__codelineno-0-572"><span class="linenos" data-linenos="572 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-573"><a id="__codelineno-0-573" name="__codelineno-0-573"></a><a href="#__codelineno-0-573"><span class="linenos" data-linenos="573 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-574"><a id="__codelineno-0-574" name="__codelineno-0-574"></a><a href="#__codelineno-0-574"><span class="linenos" data-linenos="574 "></span></a><span class="sd">    * file : str - the full path filename to be deleted</span>
</span><span id="__span-0-575"><a id="__codelineno-0-575" name="__codelineno-0-575"></a><a href="#__codelineno-0-575"><span class="linenos" data-linenos="575 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-576"><a id="__codelineno-0-576" name="__codelineno-0-576"></a><a href="#__codelineno-0-576"><span class="linenos" data-linenos="576 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;deleting remote file: [</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</span><span id="__span-0-577"><a id="__codelineno-0-577" name="__codelineno-0-577"></a><a href="#__codelineno-0-577"><span class="linenos" data-linenos="577 "></span></a>
</span><span id="__span-0-578"><a id="__codelineno-0-578" name="__codelineno-0-578"></a><a href="#__codelineno-0-578"><span class="linenos" data-linenos="578 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-579"><a id="__codelineno-0-579" name="__codelineno-0-579"></a><a href="#__codelineno-0-579"><span class="linenos" data-linenos="579 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">delete_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span><span id="__span-0-580"><a id="__codelineno-0-580" name="__codelineno-0-580"></a><a href="#__codelineno-0-580"><span class="linenos" data-linenos="580 "></span></a>
</span><span id="__span-0-581"><a id="__codelineno-0-581" name="__codelineno-0-581"></a><a href="#__codelineno-0-581"><span class="linenos" data-linenos="581 "></span></a>    <span class="k">def</span> <span class="nf">search_for_and_remove_file</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entry</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-0-582"><a id="__codelineno-0-582" name="__codelineno-0-582"></a><a href="#__codelineno-0-582"><span class="linenos" data-linenos="582 "></span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
</span><span id="__span-0-583"><a id="__codelineno-0-583" name="__codelineno-0-583"></a><a href="#__codelineno-0-583"><span class="linenos" data-linenos="583 "></span></a>            <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
</span><span id="__span-0-584"><a id="__codelineno-0-584" name="__codelineno-0-584"></a><a href="#__codelineno-0-584"><span class="linenos" data-linenos="584 "></span></a>                <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">file</span><span class="p">,</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">])</span>
</span><span id="__span-0-585"><a id="__codelineno-0-585" name="__codelineno-0-585"></a><a href="#__codelineno-0-585"><span class="linenos" data-linenos="585 "></span></a>            <span class="p">)</span>
</span><span id="__span-0-586"><a id="__codelineno-0-586" name="__codelineno-0-586"></a><a href="#__codelineno-0-586"><span class="linenos" data-linenos="586 "></span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="__span-0-587"><a id="__codelineno-0-587" name="__codelineno-0-587"></a><a href="#__codelineno-0-587"><span class="linenos" data-linenos="587 "></span></a>                <span class="n">search_for_and_remove_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="__span-0-588"><a id="__codelineno-0-588" name="__codelineno-0-588"></a><a href="#__codelineno-0-588"><span class="linenos" data-linenos="588 "></span></a>
</span><span id="__span-0-589"><a id="__codelineno-0-589" name="__codelineno-0-589"></a><a href="#__codelineno-0-589"><span class="linenos" data-linenos="589 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span><span class="p">:</span>
</span><span id="__span-0-590"><a id="__codelineno-0-590" name="__codelineno-0-590"></a><a href="#__codelineno-0-590"><span class="linenos" data-linenos="590 "></span></a>        <span class="n">search_for_and_remove_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span><span class="p">)</span>
</span><span id="__span-0-591"><a id="__codelineno-0-591" name="__codelineno-0-591"></a><a href="#__codelineno-0-591"><span class="linenos" data-linenos="591 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span><span class="p">:</span>
</span><span id="__span-0-592"><a id="__codelineno-0-592" name="__codelineno-0-592"></a><a href="#__codelineno-0-592"><span class="linenos" data-linenos="592 "></span></a>        <span class="n">search_for_and_remove_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span><span class="p">)</span>
</span><span id="__span-0-593"><a id="__codelineno-0-593" name="__codelineno-0-593"></a><a href="#__codelineno-0-593"><span class="linenos" data-linenos="593 "></span></a>
</span><span id="__span-0-594"><a id="__codelineno-0-594" name="__codelineno-0-594"></a><a href="#__codelineno-0-594"><span class="linenos" data-linenos="594 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete_sdcard_file - deleted file [</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">] from sdcard&quot;</span><span class="p">)</span>
</span><span id="__span-0-595"><a id="__codelineno-0-595" name="__codelineno-0-595"></a><a href="#__codelineno-0-595"><span class="linenos" data-linenos="595 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.delete_sdcard_folder" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">delete_sdcard_folder</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">delete_sdcard_folder</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.delete_sdcard_folder(path)">path</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete the specified folder on the printer's SDCard and returns an updated dict of all files on the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.delete_sdcard_folder--parameters">Parameters</h5>
<ul>
<li>path : str - the full path to folder to be deleted</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-597"><a id="__codelineno-0-597" name="__codelineno-0-597"></a><a href="#__codelineno-0-597"><span class="linenos" data-linenos="597 "></span></a><span class="k">def</span> <span class="nf">delete_sdcard_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-598"><a id="__codelineno-0-598" name="__codelineno-0-598"></a><a href="#__codelineno-0-598"><span class="linenos" data-linenos="598 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-599"><a id="__codelineno-0-599" name="__codelineno-0-599"></a><a href="#__codelineno-0-599"><span class="linenos" data-linenos="599 "></span></a><span class="sd">    Delete the specified folder on the printer&#39;s SDCard and returns an updated dict of all files on the printer</span>
</span><span id="__span-0-600"><a id="__codelineno-0-600" name="__codelineno-0-600"></a><a href="#__codelineno-0-600"><span class="linenos" data-linenos="600 "></span></a>
</span><span id="__span-0-601"><a id="__codelineno-0-601" name="__codelineno-0-601"></a><a href="#__codelineno-0-601"><span class="linenos" data-linenos="601 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-602"><a id="__codelineno-0-602" name="__codelineno-0-602"></a><a href="#__codelineno-0-602"><span class="linenos" data-linenos="602 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-603"><a id="__codelineno-0-603" name="__codelineno-0-603"></a><a href="#__codelineno-0-603"><span class="linenos" data-linenos="603 "></span></a><span class="sd">    * path : str - the full path to folder to be deleted</span>
</span><span id="__span-0-604"><a id="__codelineno-0-604" name="__codelineno-0-604"></a><a href="#__codelineno-0-604"><span class="linenos" data-linenos="604 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-605"><a id="__codelineno-0-605" name="__codelineno-0-605"></a><a href="#__codelineno-0-605"><span class="linenos" data-linenos="605 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;delete_sdcard_folder - deleting remote folder: [</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</span><span id="__span-0-606"><a id="__codelineno-0-606" name="__codelineno-0-606"></a><a href="#__codelineno-0-606"><span class="linenos" data-linenos="606 "></span></a>
</span><span id="__span-0-607"><a id="__codelineno-0-607" name="__codelineno-0-607"></a><a href="#__codelineno-0-607"><span class="linenos" data-linenos="607 "></span></a>    <span class="k">def</span> <span class="nf">delete_all_contents</span><span class="p">(</span><span class="n">ftps</span><span class="p">:</span> <span class="n">IoTFTPSClient</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-608"><a id="__codelineno-0-608" name="__codelineno-0-608"></a><a href="#__codelineno-0-608"><span class="linenos" data-linenos="608 "></span></a>        <span class="n">fs</span> <span class="o">=</span> <span class="n">ftps</span><span class="o">.</span><span class="n">list_files_ex</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="__span-0-609"><a id="__codelineno-0-609" name="__codelineno-0-609"></a><a href="#__codelineno-0-609"><span class="linenos" data-linenos="609 "></span></a>        <span class="k">if</span> <span class="n">fs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-610"><a id="__codelineno-0-610" name="__codelineno-0-610"></a><a href="#__codelineno-0-610"><span class="linenos" data-linenos="610 "></span></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">fs</span><span class="p">:</span>
</span><span id="__span-0-611"><a id="__codelineno-0-611" name="__codelineno-0-611"></a><a href="#__codelineno-0-611"><span class="linenos" data-linenos="611 "></span></a>                <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">is_dir</span><span class="p">:</span>
</span><span id="__span-0-612"><a id="__codelineno-0-612" name="__codelineno-0-612"></a><a href="#__codelineno-0-612"><span class="linenos" data-linenos="612 "></span></a>                    <span class="n">delete_all_contents</span><span class="p">(</span><span class="n">ftps</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="__span-0-613"><a id="__codelineno-0-613" name="__codelineno-0-613"></a><a href="#__codelineno-0-613"><span class="linenos" data-linenos="613 "></span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-614"><a id="__codelineno-0-614" name="__codelineno-0-614"></a><a href="#__codelineno-0-614"><span class="linenos" data-linenos="614 "></span></a>                    <span class="n">ftps</span><span class="o">.</span><span class="n">delete_file</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="__span-0-615"><a id="__codelineno-0-615" name="__codelineno-0-615"></a><a href="#__codelineno-0-615"><span class="linenos" data-linenos="615 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">delete_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="__span-0-616"><a id="__codelineno-0-616" name="__codelineno-0-616"></a><a href="#__codelineno-0-616"><span class="linenos" data-linenos="616 "></span></a>
</span><span id="__span-0-617"><a id="__codelineno-0-617" name="__codelineno-0-617"></a><a href="#__codelineno-0-617"><span class="linenos" data-linenos="617 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-618"><a id="__codelineno-0-618" name="__codelineno-0-618"></a><a href="#__codelineno-0-618"><span class="linenos" data-linenos="618 "></span></a>        <span class="n">delete_all_contents</span><span class="p">(</span><span class="n">ftps</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</span><span id="__span-0-619"><a id="__codelineno-0-619" name="__codelineno-0-619"></a><a href="#__codelineno-0-619"><span class="linenos" data-linenos="619 "></span></a>
</span><span id="__span-0-620"><a id="__codelineno-0-620" name="__codelineno-0-620"></a><a href="#__codelineno-0-620"><span class="linenos" data-linenos="620 "></span></a>    <span class="k">def</span> <span class="nf">search_for_and_remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entry</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-0-621"><a id="__codelineno-0-621" name="__codelineno-0-621"></a><a href="#__codelineno-0-621"><span class="linenos" data-linenos="621 "></span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
</span><span id="__span-0-622"><a id="__codelineno-0-622" name="__codelineno-0-622"></a><a href="#__codelineno-0-622"><span class="linenos" data-linenos="622 "></span></a>            <span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/&quot;</span>
</span><span id="__span-0-623"><a id="__codelineno-0-623" name="__codelineno-0-623"></a><a href="#__codelineno-0-623"><span class="linenos" data-linenos="623 "></span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
</span><span id="__span-0-624"><a id="__codelineno-0-624" name="__codelineno-0-624"></a><a href="#__codelineno-0-624"><span class="linenos" data-linenos="624 "></span></a>            <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
</span><span id="__span-0-625"><a id="__codelineno-0-625" name="__codelineno-0-625"></a><a href="#__codelineno-0-625"><span class="linenos" data-linenos="625 "></span></a>                <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="ow">not</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">])</span>
</span><span id="__span-0-626"><a id="__codelineno-0-626" name="__codelineno-0-626"></a><a href="#__codelineno-0-626"><span class="linenos" data-linenos="626 "></span></a>            <span class="p">)</span>
</span><span id="__span-0-627"><a id="__codelineno-0-627" name="__codelineno-0-627"></a><a href="#__codelineno-0-627"><span class="linenos" data-linenos="627 "></span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="__span-0-628"><a id="__codelineno-0-628" name="__codelineno-0-628"></a><a href="#__codelineno-0-628"><span class="linenos" data-linenos="628 "></span></a>                <span class="n">search_for_and_remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="__span-0-629"><a id="__codelineno-0-629" name="__codelineno-0-629"></a><a href="#__codelineno-0-629"><span class="linenos" data-linenos="629 "></span></a>
</span><span id="__span-0-630"><a id="__codelineno-0-630" name="__codelineno-0-630"></a><a href="#__codelineno-0-630"><span class="linenos" data-linenos="630 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-631"><a id="__codelineno-0-631" name="__codelineno-0-631"></a><a href="#__codelineno-0-631"><span class="linenos" data-linenos="631 "></span></a>        <span class="n">search_for_and_remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span><span class="p">)</span>
</span><span id="__span-0-632"><a id="__codelineno-0-632" name="__codelineno-0-632"></a><a href="#__codelineno-0-632"><span class="linenos" data-linenos="632 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-633"><a id="__codelineno-0-633" name="__codelineno-0-633"></a><a href="#__codelineno-0-633"><span class="linenos" data-linenos="633 "></span></a>        <span class="n">search_for_and_remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span><span class="p">)</span>
</span><span id="__span-0-634"><a id="__codelineno-0-634" name="__codelineno-0-634"></a><a href="#__codelineno-0-634"><span class="linenos" data-linenos="634 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.download_sdcard_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">download_sdcard_file</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">download_sdcard_file</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.download_sdcard_file(src)">src</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.download_sdcard_file(dest)">dest</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Downloads a file from the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.download_sdcard_file--parameters">Parameters</h5>
<ul>
<li>src : str - the full path filename on the printer to be downloaded to the host</li>
<li>dest : str - the full path filename on the host to store the downloaded file</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-650"><a id="__codelineno-0-650" name="__codelineno-0-650"></a><a href="#__codelineno-0-650"><span class="linenos" data-linenos="650 "></span></a><span class="k">def</span> <span class="nf">download_sdcard_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dest</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-651"><a id="__codelineno-0-651" name="__codelineno-0-651"></a><a href="#__codelineno-0-651"><span class="linenos" data-linenos="651 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-652"><a id="__codelineno-0-652" name="__codelineno-0-652"></a><a href="#__codelineno-0-652"><span class="linenos" data-linenos="652 "></span></a><span class="sd">    Downloads a file from the printer</span>
</span><span id="__span-0-653"><a id="__codelineno-0-653" name="__codelineno-0-653"></a><a href="#__codelineno-0-653"><span class="linenos" data-linenos="653 "></span></a>
</span><span id="__span-0-654"><a id="__codelineno-0-654" name="__codelineno-0-654"></a><a href="#__codelineno-0-654"><span class="linenos" data-linenos="654 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-655"><a id="__codelineno-0-655" name="__codelineno-0-655"></a><a href="#__codelineno-0-655"><span class="linenos" data-linenos="655 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-656"><a id="__codelineno-0-656" name="__codelineno-0-656"></a><a href="#__codelineno-0-656"><span class="linenos" data-linenos="656 "></span></a><span class="sd">    * src : str - the full path filename on the printer to be downloaded to the host</span>
</span><span id="__span-0-657"><a id="__codelineno-0-657" name="__codelineno-0-657"></a><a href="#__codelineno-0-657"><span class="linenos" data-linenos="657 "></span></a><span class="sd">    * dest : str - the full path filename on the host to store the downloaded file</span>
</span><span id="__span-0-658"><a id="__codelineno-0-658" name="__codelineno-0-658"></a><a href="#__codelineno-0-658"><span class="linenos" data-linenos="658 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-659"><a id="__codelineno-0-659" name="__codelineno-0-659"></a><a href="#__codelineno-0-659"><span class="linenos" data-linenos="659 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-660"><a id="__codelineno-0-660" name="__codelineno-0-660"></a><a href="#__codelineno-0-660"><span class="linenos" data-linenos="660 "></span></a>        <span class="sa">f</span><span class="s2">&quot;download_sdcard_file - downloading file src: [</span><span class="si">{</span><span class="n">src</span><span class="si">}</span><span class="s2">] dest: [</span><span class="si">{</span><span class="n">dest</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-661"><a id="__codelineno-0-661" name="__codelineno-0-661"></a><a href="#__codelineno-0-661"><span class="linenos" data-linenos="661 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-662"><a id="__codelineno-0-662" name="__codelineno-0-662"></a><a href="#__codelineno-0-662"><span class="linenos" data-linenos="662 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-663"><a id="__codelineno-0-663" name="__codelineno-0-663"></a><a href="#__codelineno-0-663"><span class="linenos" data-linenos="663 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.ftp_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">ftp_connection</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ftp_connection</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Opens a connection to the printer's FTP server to support file management.</p>
<p>Acts as a context manager, so can be used with the with statement. In that case,
the connection will be closed automatically, otherwise the calling code has to make
sure to close it again.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299"></a><a href="#__codelineno-0-299"><span class="linenos" data-linenos="299 "></span></a><span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300"></a><a href="#__codelineno-0-300"><span class="linenos" data-linenos="300 "></span></a><span class="k">def</span> <span class="nf">ftp_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301"></a><a href="#__codelineno-0-301"><span class="linenos" data-linenos="301 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-302"><a id="__codelineno-0-302" name="__codelineno-0-302"></a><a href="#__codelineno-0-302"><span class="linenos" data-linenos="302 "></span></a><span class="sd">    Opens a connection to the printer&#39;s FTP server to support file management.</span>
</span><span id="__span-0-303"><a id="__codelineno-0-303" name="__codelineno-0-303"></a><a href="#__codelineno-0-303"><span class="linenos" data-linenos="303 "></span></a>
</span><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304"></a><a href="#__codelineno-0-304"><span class="linenos" data-linenos="304 "></span></a><span class="sd">    Acts as a context manager, so can be used with the with statement. In that case,</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a><a href="#__codelineno-0-305"><span class="linenos" data-linenos="305 "></span></a><span class="sd">    the connection will be closed automatically, otherwise the calling code has to make</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a><a href="#__codelineno-0-306"><span class="linenos" data-linenos="306 "></span></a><span class="sd">    sure to close it again.</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a><a href="#__codelineno-0-307"><span class="linenos" data-linenos="307 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a><a href="#__codelineno-0-308"><span class="linenos" data-linenos="308 "></span></a>    <span class="n">ftps</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a><a href="#__codelineno-0-309"><span class="linenos" data-linenos="309 "></span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a><a href="#__codelineno-0-310"><span class="linenos" data-linenos="310 "></span></a>        <span class="n">ftps</span> <span class="o">=</span> <span class="n">IoTFTPSClient</span><span class="p">(</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a><a href="#__codelineno-0-311"><span class="linenos" data-linenos="311 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a><a href="#__codelineno-0-312"><span class="linenos" data-linenos="312 "></span></a>            <span class="mi">990</span><span class="p">,</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a><a href="#__codelineno-0-313"><span class="linenos" data-linenos="313 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">mqtt_username</span><span class="p">,</span>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314"></a><a href="#__codelineno-0-314"><span class="linenos" data-linenos="314 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">access_code</span><span class="p">,</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315"></a><a href="#__codelineno-0-315"><span class="linenos" data-linenos="315 "></span></a>            <span class="n">ssl_implicit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a><a href="#__codelineno-0-316"><span class="linenos" data-linenos="316 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a><a href="#__codelineno-0-317"><span class="linenos" data-linenos="317 "></span></a>        <span class="k">yield</span> <span class="n">ftps</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a><a href="#__codelineno-0-318"><span class="linenos" data-linenos="318 "></span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a><a href="#__codelineno-0-319"><span class="linenos" data-linenos="319 "></span></a>        <span class="k">if</span> <span class="n">ftps</span> <span class="ow">and</span> <span class="n">ftps</span><span class="o">.</span><span class="n">ftps_session</span><span class="p">:</span>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a><a href="#__codelineno-0-320"><span class="linenos" data-linenos="320 "></span></a>            <span class="n">ftps</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.get_current_bind_list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_current_bind_list</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_current_bind_list</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.get_current_bind_list(state)">state</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BambuState


  
      dataclass
   (bpm.bambustate.BambuState)" href="../bambustate/#bpm.bambustate.BambuState">BambuState</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates the manual_ams_bind list based on current AMS toolhead assignments.</p>
<p>This method implements the H2D cross-over hardware targeting:
- RIGHT_EXTRUDER (0) -&gt; Hardware Index 1
- LEFT_EXTRUDER (1)  -&gt; Hardware Index 0</p>
<p>Includes sentinel placeholder logic for single-AMS configurations to satisfy
dual-extruder firmware array requirements.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1036"><a id="__codelineno-0-1036" name="__codelineno-0-1036"></a><a href="#__codelineno-0-1036"><span class="linenos" data-linenos="1036 "></span></a><span class="k">def</span> <span class="nf">get_current_bind_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;BambuState&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-1037"><a id="__codelineno-0-1037" name="__codelineno-0-1037"></a><a href="#__codelineno-0-1037"><span class="linenos" data-linenos="1037 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1038"><a id="__codelineno-0-1038" name="__codelineno-0-1038"></a><a href="#__codelineno-0-1038"><span class="linenos" data-linenos="1038 "></span></a><span class="sd">    Generates the manual_ams_bind list based on current AMS toolhead assignments.</span>
</span><span id="__span-0-1039"><a id="__codelineno-0-1039" name="__codelineno-0-1039"></a><a href="#__codelineno-0-1039"><span class="linenos" data-linenos="1039 "></span></a>
</span><span id="__span-0-1040"><a id="__codelineno-0-1040" name="__codelineno-0-1040"></a><a href="#__codelineno-0-1040"><span class="linenos" data-linenos="1040 "></span></a><span class="sd">    This method implements the H2D cross-over hardware targeting:</span>
</span><span id="__span-0-1041"><a id="__codelineno-0-1041" name="__codelineno-0-1041"></a><a href="#__codelineno-0-1041"><span class="linenos" data-linenos="1041 "></span></a><span class="sd">    - RIGHT_EXTRUDER (0) -&gt; Hardware Index 1</span>
</span><span id="__span-0-1042"><a id="__codelineno-0-1042" name="__codelineno-0-1042"></a><a href="#__codelineno-0-1042"><span class="linenos" data-linenos="1042 "></span></a><span class="sd">    - LEFT_EXTRUDER (1)  -&gt; Hardware Index 0</span>
</span><span id="__span-0-1043"><a id="__codelineno-0-1043" name="__codelineno-0-1043"></a><a href="#__codelineno-0-1043"><span class="linenos" data-linenos="1043 "></span></a>
</span><span id="__span-0-1044"><a id="__codelineno-0-1044" name="__codelineno-0-1044"></a><a href="#__codelineno-0-1044"><span class="linenos" data-linenos="1044 "></span></a><span class="sd">    Includes sentinel placeholder logic for single-AMS configurations to satisfy</span>
</span><span id="__span-0-1045"><a id="__codelineno-0-1045" name="__codelineno-0-1045"></a><a href="#__codelineno-0-1045"><span class="linenos" data-linenos="1045 "></span></a><span class="sd">    dual-extruder firmware array requirements.</span>
</span><span id="__span-0-1046"><a id="__codelineno-0-1046" name="__codelineno-0-1046"></a><a href="#__codelineno-0-1046"><span class="linenos" data-linenos="1046 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1047"><a id="__codelineno-0-1047" name="__codelineno-0-1047"></a><a href="#__codelineno-0-1047"><span class="linenos" data-linenos="1047 "></span></a>    <span class="n">bind_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-1048"><a id="__codelineno-0-1048" name="__codelineno-0-1048"></a><a href="#__codelineno-0-1048"><span class="linenos" data-linenos="1048 "></span></a>
</span><span id="__span-0-1049"><a id="__codelineno-0-1049" name="__codelineno-0-1049"></a><a href="#__codelineno-0-1049"><span class="linenos" data-linenos="1049 "></span></a>    <span class="c1"># 1. Map physical units based on current logical assignments</span>
</span><span id="__span-0-1050"><a id="__codelineno-0-1050" name="__codelineno-0-1050"></a><a href="#__codelineno-0-1050"><span class="linenos" data-linenos="1050 "></span></a>    <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">ams_units</span><span class="p">:</span>
</span><span id="__span-0-1051"><a id="__codelineno-0-1051" name="__codelineno-0-1051"></a><a href="#__codelineno-0-1051"><span class="linenos" data-linenos="1051 "></span></a>        <span class="c1"># Hardware register inversion logic</span>
</span><span id="__span-0-1052"><a id="__codelineno-0-1052" name="__codelineno-0-1052"></a><a href="#__codelineno-0-1052"><span class="linenos" data-linenos="1052 "></span></a>        <span class="n">hw_target</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">unit</span><span class="o">.</span><span class="n">assigned_to_extruder</span> <span class="o">==</span> <span class="n">ActiveTool</span><span class="o">.</span><span class="n">RIGHT_EXTRUDER</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="__span-0-1053"><a id="__codelineno-0-1053" name="__codelineno-0-1053"></a><a href="#__codelineno-0-1053"><span class="linenos" data-linenos="1053 "></span></a>
</span><span id="__span-0-1054"><a id="__codelineno-0-1054" name="__codelineno-0-1054"></a><a href="#__codelineno-0-1054"><span class="linenos" data-linenos="1054 "></span></a>        <span class="n">bind_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="__span-0-1055"><a id="__codelineno-0-1055" name="__codelineno-0-1055"></a><a href="#__codelineno-0-1055"><span class="linenos" data-linenos="1055 "></span></a>            <span class="p">{</span><span class="s2">&quot;ams_f_bind&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">unit</span><span class="o">.</span><span class="n">ams_id</span><span class="p">),</span> <span class="s2">&quot;ams_s_bind&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;extruder&quot;</span><span class="p">:</span> <span class="n">hw_target</span><span class="p">}</span>
</span><span id="__span-0-1056"><a id="__codelineno-0-1056" name="__codelineno-0-1056"></a><a href="#__codelineno-0-1056"><span class="linenos" data-linenos="1056 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1057"><a id="__codelineno-0-1057" name="__codelineno-0-1057"></a><a href="#__codelineno-0-1057"><span class="linenos" data-linenos="1057 "></span></a>
</span><span id="__span-0-1058"><a id="__codelineno-0-1058" name="__codelineno-0-1058"></a><a href="#__codelineno-0-1058"><span class="linenos" data-linenos="1058 "></span></a>    <span class="c1"># 2. Dual-Extruder Array Completeness Requirement</span>
</span><span id="__span-0-1059"><a id="__codelineno-0-1059" name="__codelineno-0-1059"></a><a href="#__codelineno-0-1059"><span class="linenos" data-linenos="1059 "></span></a>    <span class="c1"># If only one AMS is connected, firmware requires a placeholder for the unused register.</span>
</span><span id="__span-0-1060"><a id="__codelineno-0-1060" name="__codelineno-0-1060"></a><a href="#__codelineno-0-1060"><span class="linenos" data-linenos="1060 "></span></a>    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">ams_connected_count</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">bind_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="__span-0-1061"><a id="__codelineno-0-1061" name="__codelineno-0-1061"></a><a href="#__codelineno-0-1061"><span class="linenos" data-linenos="1061 "></span></a>        <span class="n">existing_assignment</span> <span class="o">=</span> <span class="n">bind_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-0-1062"><a id="__codelineno-0-1062" name="__codelineno-0-1062"></a><a href="#__codelineno-0-1062"><span class="linenos" data-linenos="1062 "></span></a>
</span><span id="__span-0-1063"><a id="__codelineno-0-1063" name="__codelineno-0-1063"></a><a href="#__codelineno-0-1063"><span class="linenos" data-linenos="1063 "></span></a>        <span class="c1"># Determine the unassigned hardware register</span>
</span><span id="__span-0-1064"><a id="__codelineno-0-1064" name="__codelineno-0-1064"></a><a href="#__codelineno-0-1064"><span class="linenos" data-linenos="1064 "></span></a>        <span class="n">placeholder_hw_target</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">existing_assignment</span><span class="p">[</span><span class="s2">&quot;extruder&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span>
</span><span id="__span-0-1065"><a id="__codelineno-0-1065" name="__codelineno-0-1065"></a><a href="#__codelineno-0-1065"><span class="linenos" data-linenos="1065 "></span></a>
</span><span id="__span-0-1066"><a id="__codelineno-0-1066" name="__codelineno-0-1066"></a><a href="#__codelineno-0-1066"><span class="linenos" data-linenos="1066 "></span></a>        <span class="c1"># Add sentinel placeholder (Unit ID 1) to complete the dual-path mapping</span>
</span><span id="__span-0-1067"><a id="__codelineno-0-1067" name="__codelineno-0-1067"></a><a href="#__codelineno-0-1067"><span class="linenos" data-linenos="1067 "></span></a>        <span class="n">bind_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="__span-0-1068"><a id="__codelineno-0-1068" name="__codelineno-0-1068"></a><a href="#__codelineno-0-1068"><span class="linenos" data-linenos="1068 "></span></a>            <span class="p">{</span>
</span><span id="__span-0-1069"><a id="__codelineno-0-1069" name="__codelineno-0-1069"></a><a href="#__codelineno-0-1069"><span class="linenos" data-linenos="1069 "></span></a>                <span class="s2">&quot;ams_f_bind&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># Placeholder Unit ID</span>
</span><span id="__span-0-1070"><a id="__codelineno-0-1070" name="__codelineno-0-1070"></a><a href="#__codelineno-0-1070"><span class="linenos" data-linenos="1070 "></span></a>                <span class="s2">&quot;ams_s_bind&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-1071"><a id="__codelineno-0-1071" name="__codelineno-0-1071"></a><a href="#__codelineno-0-1071"><span class="linenos" data-linenos="1071 "></span></a>                <span class="s2">&quot;extruder&quot;</span><span class="p">:</span> <span class="n">placeholder_hw_target</span><span class="p">,</span>
</span><span id="__span-0-1072"><a id="__codelineno-0-1072" name="__codelineno-0-1072"></a><a href="#__codelineno-0-1072"><span class="linenos" data-linenos="1072 "></span></a>            <span class="p">}</span>
</span><span id="__span-0-1073"><a id="__codelineno-0-1073" name="__codelineno-0-1073"></a><a href="#__codelineno-0-1073"><span class="linenos" data-linenos="1073 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1074"><a id="__codelineno-0-1074" name="__codelineno-0-1074"></a><a href="#__codelineno-0-1074"><span class="linenos" data-linenos="1074 "></span></a>
</span><span id="__span-0-1075"><a id="__codelineno-0-1075" name="__codelineno-0-1075"></a><a href="#__codelineno-0-1075"><span class="linenos" data-linenos="1075 "></span></a>    <span class="k">return</span> <span class="n">bind_list</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_sdcard_3mf_files</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_sdcard_3mf_files</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a <code>dict</code> (json document) of all <code>.3mf</code> files on the printer's SD card.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.get_sdcard_3mf_files--usage">Usage</h5>
<p>The return value of this method is very useful for binding to things like a clientside <code>TreeView</code></p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-521"><a id="__codelineno-0-521" name="__codelineno-0-521"></a><a href="#__codelineno-0-521"><span class="linenos" data-linenos="521 "></span></a><span class="k">def</span> <span class="nf">get_sdcard_3mf_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-522"><a id="__codelineno-0-522" name="__codelineno-0-522"></a><a href="#__codelineno-0-522"><span class="linenos" data-linenos="522 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-523"><a id="__codelineno-0-523" name="__codelineno-0-523"></a><a href="#__codelineno-0-523"><span class="linenos" data-linenos="523 "></span></a><span class="sd">    Returns a `dict` (json document) of all `.3mf` files on the printer&#39;s SD card.</span>
</span><span id="__span-0-524"><a id="__codelineno-0-524" name="__codelineno-0-524"></a><a href="#__codelineno-0-524"><span class="linenos" data-linenos="524 "></span></a>
</span><span id="__span-0-525"><a id="__codelineno-0-525" name="__codelineno-0-525"></a><a href="#__codelineno-0-525"><span class="linenos" data-linenos="525 "></span></a><span class="sd">    Usage</span>
</span><span id="__span-0-526"><a id="__codelineno-0-526" name="__codelineno-0-526"></a><a href="#__codelineno-0-526"><span class="linenos" data-linenos="526 "></span></a><span class="sd">    -----</span>
</span><span id="__span-0-527"><a id="__codelineno-0-527" name="__codelineno-0-527"></a><a href="#__codelineno-0-527"><span class="linenos" data-linenos="527 "></span></a><span class="sd">    The return value of this method is very useful for binding to things like a clientside `TreeView`</span>
</span><span id="__span-0-528"><a id="__codelineno-0-528" name="__codelineno-0-528"></a><a href="#__codelineno-0-528"><span class="linenos" data-linenos="528 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-529"><a id="__codelineno-0-529" name="__codelineno-0-529"></a><a href="#__codelineno-0-529"><span class="linenos" data-linenos="529 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;get_sdcard_3mf_files - returning sdcard_3mf_files&quot;</span><span class="p">)</span>
</span><span id="__span-0-530"><a id="__codelineno-0-530" name="__codelineno-0-530"></a><a href="#__codelineno-0-530"><span class="linenos" data-linenos="530 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.get_sdcard_contents" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_sdcard_contents</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_sdcard_contents</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a <code>dict</code> (json document) of ALL files on the printer's SD card.
The private class level <code>_sdcard_contents</code> attribute is also populated.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.get_sdcard_contents--usage">Usage</h5>
<p>The return value of this method is very useful for binding to things like a clientside <code>TreeView</code></p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-532"><a id="__codelineno-0-532" name="__codelineno-0-532"></a><a href="#__codelineno-0-532"><span class="linenos" data-linenos="532 "></span></a><span class="k">def</span> <span class="nf">get_sdcard_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-533"><a id="__codelineno-0-533" name="__codelineno-0-533"></a><a href="#__codelineno-0-533"><span class="linenos" data-linenos="533 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-534"><a id="__codelineno-0-534" name="__codelineno-0-534"></a><a href="#__codelineno-0-534"><span class="linenos" data-linenos="534 "></span></a><span class="sd">    Returns a `dict` (json document) of ALL files on the printer&#39;s SD card.</span>
</span><span id="__span-0-535"><a id="__codelineno-0-535" name="__codelineno-0-535"></a><a href="#__codelineno-0-535"><span class="linenos" data-linenos="535 "></span></a><span class="sd">    The private class level `_sdcard_contents` attribute is also populated.</span>
</span><span id="__span-0-536"><a id="__codelineno-0-536" name="__codelineno-0-536"></a><a href="#__codelineno-0-536"><span class="linenos" data-linenos="536 "></span></a>
</span><span id="__span-0-537"><a id="__codelineno-0-537" name="__codelineno-0-537"></a><a href="#__codelineno-0-537"><span class="linenos" data-linenos="537 "></span></a><span class="sd">    Usage</span>
</span><span id="__span-0-538"><a id="__codelineno-0-538" name="__codelineno-0-538"></a><a href="#__codelineno-0-538"><span class="linenos" data-linenos="538 "></span></a><span class="sd">    -----</span>
</span><span id="__span-0-539"><a id="__codelineno-0-539" name="__codelineno-0-539"></a><a href="#__codelineno-0-539"><span class="linenos" data-linenos="539 "></span></a><span class="sd">    The return value of this method is very useful for binding to things like a clientside `TreeView`</span>
</span><span id="__span-0-540"><a id="__codelineno-0-540" name="__codelineno-0-540"></a><a href="#__codelineno-0-540"><span class="linenos" data-linenos="540 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-541"><a id="__codelineno-0-541" name="__codelineno-0-541"></a><a href="#__codelineno-0-541"><span class="linenos" data-linenos="541 "></span></a>
</span><span id="__span-0-542"><a id="__codelineno-0-542" name="__codelineno-0-542"></a><a href="#__codelineno-0-542"><span class="linenos" data-linenos="542 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-543"><a id="__codelineno-0-543" name="__codelineno-0-543"></a><a href="#__codelineno-0-543"><span class="linenos" data-linenos="543 "></span></a>        <span class="n">fs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_sftp_files</span><span class="p">(</span><span class="n">ftps</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
</span><span id="__span-0-544"><a id="__codelineno-0-544" name="__codelineno-0-544"></a><a href="#__codelineno-0-544"><span class="linenos" data-linenos="544 "></span></a>    <span class="k">if</span> <span class="n">fs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-545"><a id="__codelineno-0-545" name="__codelineno-0-545"></a><a href="#__codelineno-0-545"><span class="linenos" data-linenos="545 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;get_sdcard_contents - failed to retrieve files from sdcard&quot;</span><span class="p">)</span>
</span><span id="__span-0-546"><a id="__codelineno-0-546" name="__codelineno-0-546"></a><a href="#__codelineno-0-546"><span class="linenos" data-linenos="546 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-547"><a id="__codelineno-0-547" name="__codelineno-0-547"></a><a href="#__codelineno-0-547"><span class="linenos" data-linenos="547 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-548"><a id="__codelineno-0-548" name="__codelineno-0-548"></a><a href="#__codelineno-0-548"><span class="linenos" data-linenos="548 "></span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-549"><a id="__codelineno-0-549" name="__codelineno-0-549"></a><a href="#__codelineno-0-549"><span class="linenos" data-linenos="549 "></span></a>
</span><span id="__span-0-550"><a id="__codelineno-0-550" name="__codelineno-0-550"></a><a href="#__codelineno-0-550"><span class="linenos" data-linenos="550 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span> <span class="o">=</span> <span class="n">sortFileTreeAlphabetically</span><span class="p">(</span><span class="n">fs</span><span class="p">)</span>
</span><span id="__span-0-551"><a id="__codelineno-0-551" name="__codelineno-0-551"></a><a href="#__codelineno-0-551"><span class="linenos" data-linenos="551 "></span></a>
</span><span id="__span-0-552"><a id="__codelineno-0-552" name="__codelineno-0-552"></a><a href="#__codelineno-0-552"><span class="linenos" data-linenos="552 "></span></a>    <span class="k">def</span> <span class="nf">search_for_and_remove_all_other_files</span><span class="p">(</span><span class="n">mask</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entry</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-0-553"><a id="__codelineno-0-553" name="__codelineno-0-553"></a><a href="#__codelineno-0-553"><span class="linenos" data-linenos="553 "></span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
</span><span id="__span-0-554"><a id="__codelineno-0-554" name="__codelineno-0-554"></a><a href="#__codelineno-0-554"><span class="linenos" data-linenos="554 "></span></a>            <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-555"><a id="__codelineno-0-555" name="__codelineno-0-555"></a><a href="#__codelineno-0-555"><span class="linenos" data-linenos="555 "></span></a>                <span class="n">x</span>
</span><span id="__span-0-556"><a id="__codelineno-0-556" name="__codelineno-0-556"></a><a href="#__codelineno-0-556"><span class="linenos" data-linenos="556 "></span></a>                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
</span><span id="__span-0-557"><a id="__codelineno-0-557" name="__codelineno-0-557"></a><a href="#__codelineno-0-557"><span class="linenos" data-linenos="557 "></span></a>                <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">x</span>
</span><span id="__span-0-558"><a id="__codelineno-0-558" name="__codelineno-0-558"></a><a href="#__codelineno-0-558"><span class="linenos" data-linenos="558 "></span></a>            <span class="p">]</span>
</span><span id="__span-0-559"><a id="__codelineno-0-559" name="__codelineno-0-559"></a><a href="#__codelineno-0-559"><span class="linenos" data-linenos="559 "></span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="__span-0-560"><a id="__codelineno-0-560" name="__codelineno-0-560"></a><a href="#__codelineno-0-560"><span class="linenos" data-linenos="560 "></span></a>                <span class="n">search_for_and_remove_all_other_files</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="__span-0-561"><a id="__codelineno-0-561" name="__codelineno-0-561"></a><a href="#__codelineno-0-561"><span class="linenos" data-linenos="561 "></span></a>
</span><span id="__span-0-562"><a id="__codelineno-0-562" name="__codelineno-0-562"></a><a href="#__codelineno-0-562"><span class="linenos" data-linenos="562 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_contents</span><span class="p">))</span>
</span><span id="__span-0-563"><a id="__codelineno-0-563" name="__codelineno-0-563"></a><a href="#__codelineno-0-563"><span class="linenos" data-linenos="563 "></span></a>    <span class="n">search_for_and_remove_all_other_files</span><span class="p">(</span><span class="s2">&quot;.3mf&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sdcard_3mf_files</span><span class="p">)</span>
</span><span id="__span-0-564"><a id="__codelineno-0-564" name="__codelineno-0-564"></a><a href="#__codelineno-0-564"><span class="linenos" data-linenos="564 "></span></a>
</span><span id="__span-0-565"><a id="__codelineno-0-565" name="__codelineno-0-565"></a><a href="#__codelineno-0-565"><span class="linenos" data-linenos="565 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;get_sdcard_contents - retrieved all files from sdcard&quot;</span><span class="p">)</span>
</span><span id="__span-0-566"><a id="__codelineno-0-566" name="__codelineno-0-566"></a><a href="#__codelineno-0-566"><span class="linenos" data-linenos="566 "></span></a>    <span class="k">return</span> <span class="n">fs</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.jsonSerializer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">jsonSerializer</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">jsonSerializer</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.jsonSerializer(obj)">obj</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Helper method used by <code>toJson()</code> to serialize this object.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1134"><a id="__codelineno-0-1134" name="__codelineno-0-1134"></a><a href="#__codelineno-0-1134"><span class="linenos" data-linenos="1134 "></span></a><span class="k">def</span> <span class="nf">jsonSerializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="__span-0-1135"><a id="__codelineno-0-1135" name="__codelineno-0-1135"></a><a href="#__codelineno-0-1135"><span class="linenos" data-linenos="1135 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1136"><a id="__codelineno-0-1136" name="__codelineno-0-1136"></a><a href="#__codelineno-0-1136"><span class="linenos" data-linenos="1136 "></span></a><span class="sd">    Helper method used by `toJson()` to serialize this object.</span>
</span><span id="__span-0-1137"><a id="__codelineno-0-1137" name="__codelineno-0-1137"></a><a href="#__codelineno-0-1137"><span class="linenos" data-linenos="1137 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1138"><a id="__codelineno-0-1138" name="__codelineno-0-1138"></a><a href="#__codelineno-0-1138"><span class="linenos" data-linenos="1138 "></span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-1139"><a id="__codelineno-0-1139" name="__codelineno-0-1139"></a><a href="#__codelineno-0-1139"><span class="linenos" data-linenos="1139 "></span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">mqtt</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Thread</span><span class="p">):</span>
</span><span id="__span-0-1140"><a id="__codelineno-0-1140" name="__codelineno-0-1140"></a><a href="#__codelineno-0-1140"><span class="linenos" data-linenos="1140 "></span></a>            <span class="k">return</span> <span class="s2">&quot;these are not the droids you are looking for&quot;</span>
</span><span id="__span-0-1141"><a id="__codelineno-0-1141" name="__codelineno-0-1141"></a><a href="#__codelineno-0-1141"><span class="linenos" data-linenos="1141 "></span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="__span-0-1142"><a id="__codelineno-0-1142" name="__codelineno-0-1142"></a><a href="#__codelineno-0-1142"><span class="linenos" data-linenos="1142 "></span></a>            <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;class &#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-0-1143"><a id="__codelineno-0-1143" name="__codelineno-0-1143"></a><a href="#__codelineno-0-1143"><span class="linenos" data-linenos="1143 "></span></a>            <span class="o">==</span> <span class="s2">&quot;mappingproxy&quot;</span>
</span><span id="__span-0-1144"><a id="__codelineno-0-1144" name="__codelineno-0-1144"></a><a href="#__codelineno-0-1144"><span class="linenos" data-linenos="1144 "></span></a>        <span class="p">):</span>
</span><span id="__span-0-1145"><a id="__codelineno-0-1145" name="__codelineno-0-1145"></a><a href="#__codelineno-0-1145"><span class="linenos" data-linenos="1145 "></span></a>            <span class="k">return</span> <span class="s2">&quot;this space intentionally left blank&quot;</span>
</span><span id="__span-0-1146"><a id="__codelineno-0-1146" name="__codelineno-0-1146"></a><a href="#__codelineno-0-1146"><span class="linenos" data-linenos="1146 "></span></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="__span-0-1147"><a id="__codelineno-0-1147" name="__codelineno-0-1147"></a><a href="#__codelineno-0-1147"><span class="linenos" data-linenos="1147 "></span></a>    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="__span-0-1148"><a id="__codelineno-0-1148" name="__codelineno-0-1148"></a><a href="#__codelineno-0-1148"><span class="linenos" data-linenos="1148 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="__span-0-1149"><a id="__codelineno-0-1149" name="__codelineno-0-1149"></a><a href="#__codelineno-0-1149"><span class="linenos" data-linenos="1149 "></span></a>            <span class="sa">f</span><span class="s2">&quot;jsonSerializer - unable to serialize object - &#39;obj&#39;: [</span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1150"><a id="__codelineno-0-1150" name="__codelineno-0-1150"></a><a href="#__codelineno-0-1150"><span class="linenos" data-linenos="1150 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1151"><a id="__codelineno-0-1151" name="__codelineno-0-1151"></a><a href="#__codelineno-0-1151"><span class="linenos" data-linenos="1151 "></span></a>        <span class="k">return</span> <span class="s2">&quot;not available&quot;</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.load_filament" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">load_filament</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">load_filament</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.load_filament(slot_id)">slot_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.load_filament(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Requests the printer to load filament into the extruder using the requested spool (slot #)</p>
<h5 id="bpm.bambuprinter.BambuPrinter.load_filament--parameters">Parameters</h5>
<p>slot_id : int</p>
<ul>
<li><code>0</code> - AMS Spool #1</li>
<li><code>1</code> - AMS Spool #2</li>
<li><code>2</code> - AMS Spool #3</li>
<li><code>3</code> - AMS Spool #4</li>
<li><code>254</code> - External Spool</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-358"><a id="__codelineno-0-358" name="__codelineno-0-358"></a><a href="#__codelineno-0-358"><span class="linenos" data-linenos="358 "></span></a><span class="k">def</span> <span class="nf">load_filament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="__span-0-359"><a id="__codelineno-0-359" name="__codelineno-0-359"></a><a href="#__codelineno-0-359"><span class="linenos" data-linenos="359 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-360"><a id="__codelineno-0-360" name="__codelineno-0-360"></a><a href="#__codelineno-0-360"><span class="linenos" data-linenos="360 "></span></a><span class="sd">    Requests the printer to load filament into the extruder using the requested spool (slot #)</span>
</span><span id="__span-0-361"><a id="__codelineno-0-361" name="__codelineno-0-361"></a><a href="#__codelineno-0-361"><span class="linenos" data-linenos="361 "></span></a>
</span><span id="__span-0-362"><a id="__codelineno-0-362" name="__codelineno-0-362"></a><a href="#__codelineno-0-362"><span class="linenos" data-linenos="362 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-363"><a id="__codelineno-0-363" name="__codelineno-0-363"></a><a href="#__codelineno-0-363"><span class="linenos" data-linenos="363 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-364"><a id="__codelineno-0-364" name="__codelineno-0-364"></a><a href="#__codelineno-0-364"><span class="linenos" data-linenos="364 "></span></a><span class="sd">    slot_id : int</span>
</span><span id="__span-0-365"><a id="__codelineno-0-365" name="__codelineno-0-365"></a><a href="#__codelineno-0-365"><span class="linenos" data-linenos="365 "></span></a>
</span><span id="__span-0-366"><a id="__codelineno-0-366" name="__codelineno-0-366"></a><a href="#__codelineno-0-366"><span class="linenos" data-linenos="366 "></span></a><span class="sd">    * `0` - AMS Spool #1</span>
</span><span id="__span-0-367"><a id="__codelineno-0-367" name="__codelineno-0-367"></a><a href="#__codelineno-0-367"><span class="linenos" data-linenos="367 "></span></a><span class="sd">    * `1` - AMS Spool #2</span>
</span><span id="__span-0-368"><a id="__codelineno-0-368" name="__codelineno-0-368"></a><a href="#__codelineno-0-368"><span class="linenos" data-linenos="368 "></span></a><span class="sd">    * `2` - AMS Spool #3</span>
</span><span id="__span-0-369"><a id="__codelineno-0-369" name="__codelineno-0-369"></a><a href="#__codelineno-0-369"><span class="linenos" data-linenos="369 "></span></a><span class="sd">    * `3` - AMS Spool #4</span>
</span><span id="__span-0-370"><a id="__codelineno-0-370" name="__codelineno-0-370"></a><a href="#__codelineno-0-370"><span class="linenos" data-linenos="370 "></span></a><span class="sd">    * `254` - External Spool</span>
</span><span id="__span-0-371"><a id="__codelineno-0-371" name="__codelineno-0-371"></a><a href="#__codelineno-0-371"><span class="linenos" data-linenos="371 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-372"><a id="__codelineno-0-372" name="__codelineno-0-372"></a><a href="#__codelineno-0-372"><span class="linenos" data-linenos="372 "></span></a>    <span class="c1"># TODO: refactor to support multiple AMSs</span>
</span><span id="__span-0-373"><a id="__codelineno-0-373" name="__codelineno-0-373"></a><a href="#__codelineno-0-373"><span class="linenos" data-linenos="373 "></span></a>
</span><span id="__span-0-374"><a id="__codelineno-0-374" name="__codelineno-0-374"></a><a href="#__codelineno-0-374"><span class="linenos" data-linenos="374 "></span></a>    <span class="n">msg</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_CHANGE_FILAMENT</span><span class="p">)</span>
</span><span id="__span-0-375"><a id="__codelineno-0-375" name="__codelineno-0-375"></a><a href="#__codelineno-0-375"><span class="linenos" data-linenos="375 "></span></a>
</span><span id="__span-0-376"><a id="__codelineno-0-376" name="__codelineno-0-376"></a><a href="#__codelineno-0-376"><span class="linenos" data-linenos="376 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-377"><a id="__codelineno-0-377" name="__codelineno-0-377"></a><a href="#__codelineno-0-377"><span class="linenos" data-linenos="377 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;target&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slot_id</span>
</span><span id="__span-0-378"><a id="__codelineno-0-378" name="__codelineno-0-378"></a><a href="#__codelineno-0-378"><span class="linenos" data-linenos="378 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;slot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slot_id</span>
</span><span id="__span-0-379"><a id="__codelineno-0-379" name="__codelineno-0-379"></a><a href="#__codelineno-0-379"><span class="linenos" data-linenos="379 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;soft_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-380"><a id="__codelineno-0-380" name="__codelineno-0-380"></a><a href="#__codelineno-0-380"><span class="linenos" data-linenos="380 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tar_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-0-381"><a id="__codelineno-0-381" name="__codelineno-0-381"></a><a href="#__codelineno-0-381"><span class="linenos" data-linenos="381 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;curr_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-0-382"><a id="__codelineno-0-382" name="__codelineno-0-382"></a><a href="#__codelineno-0-382"><span class="linenos" data-linenos="382 "></span></a>
</span><span id="__span-0-383"><a id="__codelineno-0-383" name="__codelineno-0-383"></a><a href="#__codelineno-0-383"><span class="linenos" data-linenos="383 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-384"><a id="__codelineno-0-384" name="__codelineno-0-384"></a><a href="#__codelineno-0-384"><span class="linenos" data-linenos="384 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="__span-0-385"><a id="__codelineno-0-385" name="__codelineno-0-385"></a><a href="#__codelineno-0-385"><span class="linenos" data-linenos="385 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-386"><a id="__codelineno-0-386" name="__codelineno-0-386"></a><a href="#__codelineno-0-386"><span class="linenos" data-linenos="386 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-387"><a id="__codelineno-0-387" name="__codelineno-0-387"></a><a href="#__codelineno-0-387"><span class="linenos" data-linenos="387 "></span></a>        <span class="sa">f</span><span class="s2">&quot;load_filament - published AMS_CHANGE_FILAMENT to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] - target: [</span><span class="si">{</span><span class="n">slot_id</span><span class="si">}</span><span class="s2">], bambu_msg: [</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-388"><a id="__codelineno-0-388" name="__codelineno-0-388"></a><a href="#__codelineno-0-388"><span class="linenos" data-linenos="388 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.make_sdcard_directory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">make_sdcard_directory</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">make_sdcard_directory</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.make_sdcard_directory(dir)">dir</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Creates the specified directory on the printer and returns an updated dict of all files on the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.make_sdcard_directory--parameters">Parameters</h5>
<ul>
<li>dir : str - the full path directory name to be created</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-665"><a id="__codelineno-0-665" name="__codelineno-0-665"></a><a href="#__codelineno-0-665"><span class="linenos" data-linenos="665 "></span></a><span class="k">def</span> <span class="nf">make_sdcard_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-666"><a id="__codelineno-0-666" name="__codelineno-0-666"></a><a href="#__codelineno-0-666"><span class="linenos" data-linenos="666 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-667"><a id="__codelineno-0-667" name="__codelineno-0-667"></a><a href="#__codelineno-0-667"><span class="linenos" data-linenos="667 "></span></a><span class="sd">    Creates the specified directory on the printer and returns an updated dict of all files on the printer</span>
</span><span id="__span-0-668"><a id="__codelineno-0-668" name="__codelineno-0-668"></a><a href="#__codelineno-0-668"><span class="linenos" data-linenos="668 "></span></a>
</span><span id="__span-0-669"><a id="__codelineno-0-669" name="__codelineno-0-669"></a><a href="#__codelineno-0-669"><span class="linenos" data-linenos="669 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-670"><a id="__codelineno-0-670" name="__codelineno-0-670"></a><a href="#__codelineno-0-670"><span class="linenos" data-linenos="670 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-671"><a id="__codelineno-0-671" name="__codelineno-0-671"></a><a href="#__codelineno-0-671"><span class="linenos" data-linenos="671 "></span></a><span class="sd">    * dir : str - the full path directory name to be created</span>
</span><span id="__span-0-672"><a id="__codelineno-0-672" name="__codelineno-0-672"></a><a href="#__codelineno-0-672"><span class="linenos" data-linenos="672 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-673"><a id="__codelineno-0-673" name="__codelineno-0-673"></a><a href="#__codelineno-0-673"><span class="linenos" data-linenos="673 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;make_sdcard_directory - creating remote directory [</span><span class="si">{</span><span class="nb">dir</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</span><span id="__span-0-674"><a id="__codelineno-0-674" name="__codelineno-0-674"></a><a href="#__codelineno-0-674"><span class="linenos" data-linenos="674 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-675"><a id="__codelineno-0-675" name="__codelineno-0-675"></a><a href="#__codelineno-0-675"><span class="linenos" data-linenos="675 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
</span><span id="__span-0-676"><a id="__codelineno-0-676" name="__codelineno-0-676"></a><a href="#__codelineno-0-676"><span class="linenos" data-linenos="676 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sdcard_contents</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.pause_printing" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pause_printing</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">pause_printing</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Pauses the current print job if one is running.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-497"><a id="__codelineno-0-497" name="__codelineno-0-497"></a><a href="#__codelineno-0-497"><span class="linenos" data-linenos="497 "></span></a><span class="k">def</span> <span class="nf">pause_printing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-498"><a id="__codelineno-0-498" name="__codelineno-0-498"></a><a href="#__codelineno-0-498"><span class="linenos" data-linenos="498 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-499"><a id="__codelineno-0-499" name="__codelineno-0-499"></a><a href="#__codelineno-0-499"><span class="linenos" data-linenos="499 "></span></a><span class="sd">    Pauses the current print job if one is running.</span>
</span><span id="__span-0-500"><a id="__codelineno-0-500" name="__codelineno-0-500"></a><a href="#__codelineno-0-500"><span class="linenos" data-linenos="500 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-501"><a id="__codelineno-0-501" name="__codelineno-0-501"></a><a href="#__codelineno-0-501"><span class="linenos" data-linenos="501 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-502"><a id="__codelineno-0-502" name="__codelineno-0-502"></a><a href="#__codelineno-0-502"><span class="linenos" data-linenos="502 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-503"><a id="__codelineno-0-503" name="__codelineno-0-503"></a><a href="#__codelineno-0-503"><span class="linenos" data-linenos="503 "></span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">PAUSE_PRINT</span><span class="p">),</span>
</span><span id="__span-0-504"><a id="__codelineno-0-504" name="__codelineno-0-504"></a><a href="#__codelineno-0-504"><span class="linenos" data-linenos="504 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-505"><a id="__codelineno-0-505" name="__codelineno-0-505"></a><a href="#__codelineno-0-505"><span class="linenos" data-linenos="505 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-506"><a id="__codelineno-0-506" name="__codelineno-0-506"></a><a href="#__codelineno-0-506"><span class="linenos" data-linenos="506 "></span></a>        <span class="sa">f</span><span class="s2">&quot;pause_printing - published PAUSE_PRINT to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request]&quot;</span>
</span><span id="__span-0-507"><a id="__codelineno-0-507" name="__codelineno-0-507"></a><a href="#__codelineno-0-507"><span class="linenos" data-linenos="507 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.pause_session" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pause_session</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">pause_session</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Pauses the <code>BambuPrinter</code> session is it is active.  Under the covers this
method unsubscribes from the <code>/report</code> topic, essentially disabling all
printer data refreshes.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><a href="#__codelineno-0-247"><span class="linenos" data-linenos="247 "></span></a><span class="k">def</span> <span class="nf">pause_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><a href="#__codelineno-0-248"><span class="linenos" data-linenos="248 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><a href="#__codelineno-0-249"><span class="linenos" data-linenos="249 "></span></a><span class="sd">    Pauses the `BambuPrinter` session is it is active.  Under the covers this</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a><a href="#__codelineno-0-250"><span class="linenos" data-linenos="250 "></span></a><span class="sd">    method unsubscribes from the `/report` topic, essentially disabling all</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a><a href="#__codelineno-0-251"><span class="linenos" data-linenos="251 "></span></a><span class="sd">    printer data refreshes.</span>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a><a href="#__codelineno-0-252"><span class="linenos" data-linenos="252 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a><a href="#__codelineno-0-253"><span class="linenos" data-linenos="253 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">!=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">PAUSED</span><span class="p">:</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a><a href="#__codelineno-0-254"><span class="linenos" data-linenos="254 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report&quot;</span><span class="p">)</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a><a href="#__codelineno-0-255"><span class="linenos" data-linenos="255 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a><a href="#__codelineno-0-256"><span class="linenos" data-linenos="256 "></span></a>            <span class="sa">f</span><span class="s2">&quot;pause_session - unsubscribed from [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report]&quot;</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a><a href="#__codelineno-0-257"><span class="linenos" data-linenos="257 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a><a href="#__codelineno-0-258"><span class="linenos" data-linenos="258 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">PAUSED</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.print_3mf_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">print_3mf_file</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">print_3mf_file</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(name)">name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(plate)">plate</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(bed)">bed</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            PlateType (bpm.bambutools.PlateType)" href="../bambutools/#bpm.bambutools.PlateType">PlateType</a></span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(use_ams)">use_ams</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(ams_mapping)">ams_mapping</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(bedlevel)">bedlevel</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(flow)">flow</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.print_3mf_file(timelapse)">timelapse</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Submits a request to execute the <code>name</code> 3mf file on the printer's SDCard.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.print_3mf_file--parameters">Parameters</h5>
<ul>
<li>name : str                         - path, filename, and extension to execute</li>
<li>plate : int                        - the plate # from your slicer to use (usually 1)</li>
<li>bed : PlateType                    - the bambutools.PlateType to use</li>
<li>use_ams : bool                     - Use the AMS for this print</li>
<li>ams_mapping : Optional[str]        - an <code>AMS Mapping</code> that specifies which AMS spools to use (external spool is used if blank)</li>
<li>bedlevel : Optional[bool] = True   - boolean value indicates whether or not the printer should auto-level the bed</li>
<li>flow : Optional[bool] = True       - boolean value indicates if the printer should perform an extrusion flow calibration</li>
<li>timelapse : Optional[bool] = False - boolean value indicates if printer should take timelapse photos during the job</li>
</ul>
<h5 id="bpm.bambuprinter.BambuPrinter.print_3mf_file--example">Example</h5>
<ul>
<li><code>print_3mf_file("/jobs/my_project.3mf", 1, PlateType.HOT_PLATE, False, "")</code> - Print the my_project.3mf file in the SDCard /jobs directory using the external spool with bed leveling and extrusion flow calibration enabled and timelapse disabled</li>
<li><code>print_3mf_file("/jobs/my_project.gcode.3mf", 1, PlateType.HOT_PLATE, True, "[-1,-1,2,-1]")</code> - Same as above but use AMS spool #3</li>
</ul>
<h5 id="bpm.bambuprinter.BambuPrinter.print_3mf_file--ams-mapping">AMS Mapping</h5>
<ul>
<li><code>[0,-1,-1,-1]</code> - use AMS spool #1 only</li>
<li><code>[-1,1,-1,-1]</code> - use AMS spool #2 only</li>
<li><code>[0,-1,-1,3]</code>  - use AMS spools #1 and #4</li>
<li><code>[0,1,2,3]</code>    - use all 4 AMS spools</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-412"><a id="__codelineno-0-412" name="__codelineno-0-412"></a><a href="#__codelineno-0-412"><span class="linenos" data-linenos="412 "></span></a><span class="k">def</span> <span class="nf">print_3mf_file</span><span class="p">(</span>
</span><span id="__span-0-413"><a id="__codelineno-0-413" name="__codelineno-0-413"></a><a href="#__codelineno-0-413"><span class="linenos" data-linenos="413 "></span></a>    <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-0-414"><a id="__codelineno-0-414" name="__codelineno-0-414"></a><a href="#__codelineno-0-414"><span class="linenos" data-linenos="414 "></span></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-0-415"><a id="__codelineno-0-415" name="__codelineno-0-415"></a><a href="#__codelineno-0-415"><span class="linenos" data-linenos="415 "></span></a>    <span class="n">plate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-0-416"><a id="__codelineno-0-416" name="__codelineno-0-416"></a><a href="#__codelineno-0-416"><span class="linenos" data-linenos="416 "></span></a>    <span class="n">bed</span><span class="p">:</span> <span class="n">PlateType</span><span class="p">,</span>
</span><span id="__span-0-417"><a id="__codelineno-0-417" name="__codelineno-0-417"></a><a href="#__codelineno-0-417"><span class="linenos" data-linenos="417 "></span></a>    <span class="n">use_ams</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="__span-0-418"><a id="__codelineno-0-418" name="__codelineno-0-418"></a><a href="#__codelineno-0-418"><span class="linenos" data-linenos="418 "></span></a>    <span class="n">ams_mapping</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-419"><a id="__codelineno-0-419" name="__codelineno-0-419"></a><a href="#__codelineno-0-419"><span class="linenos" data-linenos="419 "></span></a>    <span class="n">bedlevel</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-420"><a id="__codelineno-0-420" name="__codelineno-0-420"></a><a href="#__codelineno-0-420"><span class="linenos" data-linenos="420 "></span></a>    <span class="n">flow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-421"><a id="__codelineno-0-421" name="__codelineno-0-421"></a><a href="#__codelineno-0-421"><span class="linenos" data-linenos="421 "></span></a>    <span class="n">timelapse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-422"><a id="__codelineno-0-422" name="__codelineno-0-422"></a><a href="#__codelineno-0-422"><span class="linenos" data-linenos="422 "></span></a><span class="p">):</span>
</span><span id="__span-0-423"><a id="__codelineno-0-423" name="__codelineno-0-423"></a><a href="#__codelineno-0-423"><span class="linenos" data-linenos="423 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-424"><a id="__codelineno-0-424" name="__codelineno-0-424"></a><a href="#__codelineno-0-424"><span class="linenos" data-linenos="424 "></span></a><span class="sd">    Submits a request to execute the `name` 3mf file on the printer&#39;s SDCard.</span>
</span><span id="__span-0-425"><a id="__codelineno-0-425" name="__codelineno-0-425"></a><a href="#__codelineno-0-425"><span class="linenos" data-linenos="425 "></span></a>
</span><span id="__span-0-426"><a id="__codelineno-0-426" name="__codelineno-0-426"></a><a href="#__codelineno-0-426"><span class="linenos" data-linenos="426 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-427"><a id="__codelineno-0-427" name="__codelineno-0-427"></a><a href="#__codelineno-0-427"><span class="linenos" data-linenos="427 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-428"><a id="__codelineno-0-428" name="__codelineno-0-428"></a><a href="#__codelineno-0-428"><span class="linenos" data-linenos="428 "></span></a><span class="sd">    * name : str                         - path, filename, and extension to execute</span>
</span><span id="__span-0-429"><a id="__codelineno-0-429" name="__codelineno-0-429"></a><a href="#__codelineno-0-429"><span class="linenos" data-linenos="429 "></span></a><span class="sd">    * plate : int                        - the plate # from your slicer to use (usually 1)</span>
</span><span id="__span-0-430"><a id="__codelineno-0-430" name="__codelineno-0-430"></a><a href="#__codelineno-0-430"><span class="linenos" data-linenos="430 "></span></a><span class="sd">    * bed : PlateType                    - the bambutools.PlateType to use</span>
</span><span id="__span-0-431"><a id="__codelineno-0-431" name="__codelineno-0-431"></a><a href="#__codelineno-0-431"><span class="linenos" data-linenos="431 "></span></a><span class="sd">    * use_ams : bool                     - Use the AMS for this print</span>
</span><span id="__span-0-432"><a id="__codelineno-0-432" name="__codelineno-0-432"></a><a href="#__codelineno-0-432"><span class="linenos" data-linenos="432 "></span></a><span class="sd">    * ams_mapping : Optional[str]        - an `AMS Mapping` that specifies which AMS spools to use (external spool is used if blank)</span>
</span><span id="__span-0-433"><a id="__codelineno-0-433" name="__codelineno-0-433"></a><a href="#__codelineno-0-433"><span class="linenos" data-linenos="433 "></span></a><span class="sd">    * bedlevel : Optional[bool] = True   - boolean value indicates whether or not the printer should auto-level the bed</span>
</span><span id="__span-0-434"><a id="__codelineno-0-434" name="__codelineno-0-434"></a><a href="#__codelineno-0-434"><span class="linenos" data-linenos="434 "></span></a><span class="sd">    * flow : Optional[bool] = True       - boolean value indicates if the printer should perform an extrusion flow calibration</span>
</span><span id="__span-0-435"><a id="__codelineno-0-435" name="__codelineno-0-435"></a><a href="#__codelineno-0-435"><span class="linenos" data-linenos="435 "></span></a><span class="sd">    * timelapse : Optional[bool] = False - boolean value indicates if printer should take timelapse photos during the job</span>
</span><span id="__span-0-436"><a id="__codelineno-0-436" name="__codelineno-0-436"></a><a href="#__codelineno-0-436"><span class="linenos" data-linenos="436 "></span></a>
</span><span id="__span-0-437"><a id="__codelineno-0-437" name="__codelineno-0-437"></a><a href="#__codelineno-0-437"><span class="linenos" data-linenos="437 "></span></a><span class="sd">    Example</span>
</span><span id="__span-0-438"><a id="__codelineno-0-438" name="__codelineno-0-438"></a><a href="#__codelineno-0-438"><span class="linenos" data-linenos="438 "></span></a><span class="sd">    -------</span>
</span><span id="__span-0-439"><a id="__codelineno-0-439" name="__codelineno-0-439"></a><a href="#__codelineno-0-439"><span class="linenos" data-linenos="439 "></span></a><span class="sd">    * `print_3mf_file(&quot;/jobs/my_project.3mf&quot;, 1, PlateType.HOT_PLATE, False, &quot;&quot;)` - Print the my_project.3mf file in the SDCard /jobs directory using the external spool with bed leveling and extrusion flow calibration enabled and timelapse disabled</span>
</span><span id="__span-0-440"><a id="__codelineno-0-440" name="__codelineno-0-440"></a><a href="#__codelineno-0-440"><span class="linenos" data-linenos="440 "></span></a><span class="sd">    * `print_3mf_file(&quot;/jobs/my_project.gcode.3mf&quot;, 1, PlateType.HOT_PLATE, True, &quot;[-1,-1,2,-1]&quot;)` - Same as above but use AMS spool #3</span>
</span><span id="__span-0-441"><a id="__codelineno-0-441" name="__codelineno-0-441"></a><a href="#__codelineno-0-441"><span class="linenos" data-linenos="441 "></span></a>
</span><span id="__span-0-442"><a id="__codelineno-0-442" name="__codelineno-0-442"></a><a href="#__codelineno-0-442"><span class="linenos" data-linenos="442 "></span></a><span class="sd">    AMS Mapping</span>
</span><span id="__span-0-443"><a id="__codelineno-0-443" name="__codelineno-0-443"></a><a href="#__codelineno-0-443"><span class="linenos" data-linenos="443 "></span></a><span class="sd">    -----------</span>
</span><span id="__span-0-444"><a id="__codelineno-0-444" name="__codelineno-0-444"></a><a href="#__codelineno-0-444"><span class="linenos" data-linenos="444 "></span></a><span class="sd">    * `[0,-1,-1,-1]` - use AMS spool #1 only</span>
</span><span id="__span-0-445"><a id="__codelineno-0-445" name="__codelineno-0-445"></a><a href="#__codelineno-0-445"><span class="linenos" data-linenos="445 "></span></a><span class="sd">    * `[-1,1,-1,-1]` - use AMS spool #2 only</span>
</span><span id="__span-0-446"><a id="__codelineno-0-446" name="__codelineno-0-446"></a><a href="#__codelineno-0-446"><span class="linenos" data-linenos="446 "></span></a><span class="sd">    * `[0,-1,-1,3]`  - use AMS spools #1 and #4</span>
</span><span id="__span-0-447"><a id="__codelineno-0-447" name="__codelineno-0-447"></a><a href="#__codelineno-0-447"><span class="linenos" data-linenos="447 "></span></a><span class="sd">    * `[0,1,2,3]`    - use all 4 AMS spools</span>
</span><span id="__span-0-448"><a id="__codelineno-0-448" name="__codelineno-0-448"></a><a href="#__codelineno-0-448"><span class="linenos" data-linenos="448 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-449"><a id="__codelineno-0-449" name="__codelineno-0-449"></a><a href="#__codelineno-0-449"><span class="linenos" data-linenos="449 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_3mf_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-450"><a id="__codelineno-0-450" name="__codelineno-0-450"></a><a href="#__codelineno-0-450"><span class="linenos" data-linenos="450 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_plate_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">plate</span><span class="p">)</span>
</span><span id="__span-0-451"><a id="__codelineno-0-451" name="__codelineno-0-451"></a><a href="#__codelineno-0-451"><span class="linenos" data-linenos="451 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_plate_type</span> <span class="o">=</span> <span class="n">bed</span>
</span><span id="__span-0-452"><a id="__codelineno-0-452" name="__codelineno-0-452"></a><a href="#__codelineno-0-452"><span class="linenos" data-linenos="452 "></span></a>
</span><span id="__span-0-453"><a id="__codelineno-0-453" name="__codelineno-0-453"></a><a href="#__codelineno-0-453"><span class="linenos" data-linenos="453 "></span></a>    <span class="n">file</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">PRINT_3MF_FILE</span><span class="p">)</span>
</span><span id="__span-0-454"><a id="__codelineno-0-454" name="__codelineno-0-454"></a><a href="#__codelineno-0-454"><span class="linenos" data-linenos="454 "></span></a>
</span><span id="__span-0-455"><a id="__codelineno-0-455" name="__codelineno-0-455"></a><a href="#__codelineno-0-455"><span class="linenos" data-linenos="455 "></span></a>    <span class="n">subtask</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="p">:]</span> <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">else</span> <span class="n">name</span>
</span><span id="__span-0-456"><a id="__codelineno-0-456" name="__codelineno-0-456"></a><a href="#__codelineno-0-456"><span class="linenos" data-linenos="456 "></span></a>    <span class="n">subtask</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-457"><a id="__codelineno-0-457" name="__codelineno-0-457"></a><a href="#__codelineno-0-457"><span class="linenos" data-linenos="457 "></span></a>        <span class="n">subtask</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.3mf&quot;</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-0-458"><a id="__codelineno-0-458" name="__codelineno-0-458"></a><a href="#__codelineno-0-458"><span class="linenos" data-linenos="458 "></span></a>        <span class="k">if</span> <span class="n">subtask</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.3mf&quot;</span><span class="p">)</span>
</span><span id="__span-0-459"><a id="__codelineno-0-459" name="__codelineno-0-459"></a><a href="#__codelineno-0-459"><span class="linenos" data-linenos="459 "></span></a>        <span class="k">else</span> <span class="n">subtask</span>
</span><span id="__span-0-460"><a id="__codelineno-0-460" name="__codelineno-0-460"></a><a href="#__codelineno-0-460"><span class="linenos" data-linenos="460 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-461"><a id="__codelineno-0-461" name="__codelineno-0-461"></a><a href="#__codelineno-0-461"><span class="linenos" data-linenos="461 "></span></a>    <span class="n">subtask</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-462"><a id="__codelineno-0-462" name="__codelineno-0-462"></a><a href="#__codelineno-0-462"><span class="linenos" data-linenos="462 "></span></a>        <span class="n">subtask</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.gcode&quot;</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-0-463"><a id="__codelineno-0-463" name="__codelineno-0-463"></a><a href="#__codelineno-0-463"><span class="linenos" data-linenos="463 "></span></a>        <span class="k">if</span> <span class="n">subtask</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.gcode&quot;</span><span class="p">)</span>
</span><span id="__span-0-464"><a id="__codelineno-0-464" name="__codelineno-0-464"></a><a href="#__codelineno-0-464"><span class="linenos" data-linenos="464 "></span></a>        <span class="k">else</span> <span class="n">subtask</span>
</span><span id="__span-0-465"><a id="__codelineno-0-465" name="__codelineno-0-465"></a><a href="#__codelineno-0-465"><span class="linenos" data-linenos="465 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-466"><a id="__codelineno-0-466" name="__codelineno-0-466"></a><a href="#__codelineno-0-466"><span class="linenos" data-linenos="466 "></span></a>
</span><span id="__span-0-467"><a id="__codelineno-0-467" name="__codelineno-0-467"></a><a href="#__codelineno-0-467"><span class="linenos" data-linenos="467 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_3mf_file</span>
</span><span id="__span-0-468"><a id="__codelineno-0-468" name="__codelineno-0-468"></a><a href="#__codelineno-0-468"><span class="linenos" data-linenos="468 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;file:///sdcard</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_3mf_file</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-469"><a id="__codelineno-0-469" name="__codelineno-0-469"></a><a href="#__codelineno-0-469"><span class="linenos" data-linenos="469 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;subtask_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">subtask</span>
</span><span id="__span-0-470"><a id="__codelineno-0-470" name="__codelineno-0-470"></a><a href="#__codelineno-0-470"><span class="linenos" data-linenos="470 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;bed_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-0-471"><a id="__codelineno-0-471" name="__codelineno-0-471"></a><a href="#__codelineno-0-471"><span class="linenos" data-linenos="471 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_plate_num</span><span class="p">))</span>
</span><span id="__span-0-472"><a id="__codelineno-0-472" name="__codelineno-0-472"></a><a href="#__codelineno-0-472"><span class="linenos" data-linenos="472 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;use_ams&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">use_ams</span>
</span><span id="__span-0-473"><a id="__codelineno-0-473" name="__codelineno-0-473"></a><a href="#__codelineno-0-473"><span class="linenos" data-linenos="473 "></span></a>    <span class="k">if</span> <span class="n">ams_mapping</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">ams_mapping</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-474"><a id="__codelineno-0-474" name="__codelineno-0-474"></a><a href="#__codelineno-0-474"><span class="linenos" data-linenos="474 "></span></a>        <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_mapping&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ams_mapping</span><span class="p">)</span>
</span><span id="__span-0-475"><a id="__codelineno-0-475" name="__codelineno-0-475"></a><a href="#__codelineno-0-475"><span class="linenos" data-linenos="475 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;bed_leveling&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bedlevel</span>
</span><span id="__span-0-476"><a id="__codelineno-0-476" name="__codelineno-0-476"></a><a href="#__codelineno-0-476"><span class="linenos" data-linenos="476 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;flow_cali&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flow</span>
</span><span id="__span-0-477"><a id="__codelineno-0-477" name="__codelineno-0-477"></a><a href="#__codelineno-0-477"><span class="linenos" data-linenos="477 "></span></a>    <span class="n">file</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;timelapse&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timelapse</span>
</span><span id="__span-0-478"><a id="__codelineno-0-478" name="__codelineno-0-478"></a><a href="#__codelineno-0-478"><span class="linenos" data-linenos="478 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-479"><a id="__codelineno-0-479" name="__codelineno-0-479"></a><a href="#__codelineno-0-479"><span class="linenos" data-linenos="479 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span><span id="__span-0-480"><a id="__codelineno-0-480" name="__codelineno-0-480"></a><a href="#__codelineno-0-480"><span class="linenos" data-linenos="480 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-481"><a id="__codelineno-0-481" name="__codelineno-0-481"></a><a href="#__codelineno-0-481"><span class="linenos" data-linenos="481 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-482"><a id="__codelineno-0-482" name="__codelineno-0-482"></a><a href="#__codelineno-0-482"><span class="linenos" data-linenos="482 "></span></a>        <span class="sa">f</span><span class="s2">&quot;print_3mf_file - published PRINT_3MF_FILE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] print_command: [</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-483"><a id="__codelineno-0-483" name="__codelineno-0-483"></a><a href="#__codelineno-0-483"><span class="linenos" data-linenos="483 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.quit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">quit</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">quit</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Shuts down all threads.  Your <code>BambuPrinter</code> instance should probably be
considered dead after making this call although you may be able to restart a
session with <a href="#bpm.bambuprinter.BambuPrinter.quit--bpm.bambuprinter.BambuPrinter.start_session">start_session</a>().</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a><a href="#__codelineno-0-278"><span class="linenos" data-linenos="278 "></span></a><span class="k">def</span> <span class="nf">quit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a><a href="#__codelineno-0-279"><span class="linenos" data-linenos="279 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a><a href="#__codelineno-0-280"><span class="linenos" data-linenos="280 "></span></a><span class="sd">    Shuts down all threads.  Your `BambuPrinter` instance should probably be</span>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281"></a><a href="#__codelineno-0-281"><span class="linenos" data-linenos="281 "></span></a><span class="sd">    considered dead after making this call although you may be able to restart a</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282"></a><a href="#__codelineno-0-282"><span class="linenos" data-linenos="282 "></span></a><span class="sd">    session with [start_session](#bpm.bambuprinter.BambuPrinter.start_session)().</span>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a><a href="#__codelineno-0-283"><span class="linenos" data-linenos="283 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a><a href="#__codelineno-0-284"><span class="linenos" data-linenos="284 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a><a href="#__codelineno-0-285"><span class="linenos" data-linenos="285 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a><a href="#__codelineno-0-286"><span class="linenos" data-linenos="286 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;quit - mqtt client was connected and is now disconnected&quot;</span><span class="p">)</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a><a href="#__codelineno-0-287"><span class="linenos" data-linenos="287 "></span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a><a href="#__codelineno-0-288"><span class="linenos" data-linenos="288 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;quit - mqtt client was already disconnected&quot;</span><span class="p">)</span>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289"></a><a href="#__codelineno-0-289"><span class="linenos" data-linenos="289 "></span></a>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290"></a><a href="#__codelineno-0-290"><span class="linenos" data-linenos="290 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">QUIT</span>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291"></a><a href="#__codelineno-0-291"><span class="linenos" data-linenos="291 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_notify_update</span><span class="p">()</span>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292"></a><a href="#__codelineno-0-292"><span class="linenos" data-linenos="292 "></span></a>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293"></a><a href="#__codelineno-0-293"><span class="linenos" data-linenos="293 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294"></a><a href="#__codelineno-0-294"><span class="linenos" data-linenos="294 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295"></a><a href="#__codelineno-0-295"><span class="linenos" data-linenos="295 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_watchdog_thread</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_watchdog_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296"></a><a href="#__codelineno-0-296"><span class="linenos" data-linenos="296 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_watchdog_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297"></a><a href="#__codelineno-0-297"><span class="linenos" data-linenos="297 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;quit - all threads have terminated&quot;</span><span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.refresh" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">refresh</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">refresh</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Triggers a full data refresh from the printer (if it is connected).  You should use this
method sparingly as resorting to it indicates something is not working properly.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-322"><a id="__codelineno-0-322" name="__codelineno-0-322"></a><a href="#__codelineno-0-322"><span class="linenos" data-linenos="322 "></span></a><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323"></a><a href="#__codelineno-0-323"><span class="linenos" data-linenos="323 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324"></a><a href="#__codelineno-0-324"><span class="linenos" data-linenos="324 "></span></a><span class="sd">    Triggers a full data refresh from the printer (if it is connected).  You should use this</span>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325"></a><a href="#__codelineno-0-325"><span class="linenos" data-linenos="325 "></span></a><span class="sd">    method sparingly as resorting to it indicates something is not working properly.</span>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326"></a><a href="#__codelineno-0-326"><span class="linenos" data-linenos="326 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327"></a><a href="#__codelineno-0-327"><span class="linenos" data-linenos="327 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">CONNECTED</span><span class="p">:</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328"></a><a href="#__codelineno-0-328"><span class="linenos" data-linenos="328 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329"></a><a href="#__codelineno-0-329"><span class="linenos" data-linenos="329 "></span></a>            <span class="sa">f</span><span class="s2">&quot;refresh - publishing ANNOUNCE_VERSION to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request]&quot;</span>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330"></a><a href="#__codelineno-0-330"><span class="linenos" data-linenos="330 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331"></a><a href="#__codelineno-0-331"><span class="linenos" data-linenos="331 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332"></a><a href="#__codelineno-0-332"><span class="linenos" data-linenos="332 "></span></a>            <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333"></a><a href="#__codelineno-0-333"><span class="linenos" data-linenos="333 "></span></a>            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ANNOUNCE_VERSION</span><span class="p">),</span>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334"></a><a href="#__codelineno-0-334"><span class="linenos" data-linenos="334 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335"></a><a href="#__codelineno-0-335"><span class="linenos" data-linenos="335 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336"></a><a href="#__codelineno-0-336"><span class="linenos" data-linenos="336 "></span></a>            <span class="sa">f</span><span class="s2">&quot;refresh - publishing ANNOUNCE_PUSH to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request]&quot;</span>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337"></a><a href="#__codelineno-0-337"><span class="linenos" data-linenos="337 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-338"><a id="__codelineno-0-338" name="__codelineno-0-338"></a><a href="#__codelineno-0-338"><span class="linenos" data-linenos="338 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-339"><a id="__codelineno-0-339" name="__codelineno-0-339"></a><a href="#__codelineno-0-339"><span class="linenos" data-linenos="339 "></span></a>            <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-340"><a id="__codelineno-0-340" name="__codelineno-0-340"></a><a href="#__codelineno-0-340"><span class="linenos" data-linenos="340 "></span></a>            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ANNOUNCE_PUSH</span><span class="p">),</span>
</span><span id="__span-0-341"><a id="__codelineno-0-341" name="__codelineno-0-341"></a><a href="#__codelineno-0-341"><span class="linenos" data-linenos="341 "></span></a>        <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.refresh_spool_rfid" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">refresh_spool_rfid</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">refresh_spool_rfid</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.refresh_spool_rfid(slot_id)">slot_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.refresh_spool_rfid(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>read the rfid tag for the selected ams and spool (slot) id.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1021"><a id="__codelineno-0-1021" name="__codelineno-0-1021"></a><a href="#__codelineno-0-1021"><span class="linenos" data-linenos="1021 "></span></a><span class="k">def</span> <span class="nf">refresh_spool_rfid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="__span-0-1022"><a id="__codelineno-0-1022" name="__codelineno-0-1022"></a><a href="#__codelineno-0-1022"><span class="linenos" data-linenos="1022 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1023"><a id="__codelineno-0-1023" name="__codelineno-0-1023"></a><a href="#__codelineno-0-1023"><span class="linenos" data-linenos="1023 "></span></a><span class="sd">    read the rfid tag for the selected ams and spool (slot) id.</span>
</span><span id="__span-0-1024"><a id="__codelineno-0-1024" name="__codelineno-0-1024"></a><a href="#__codelineno-0-1024"><span class="linenos" data-linenos="1024 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1025"><a id="__codelineno-0-1025" name="__codelineno-0-1025"></a><a href="#__codelineno-0-1025"><span class="linenos" data-linenos="1025 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_GET_RFID</span><span class="p">)</span>
</span><span id="__span-0-1026"><a id="__codelineno-0-1026" name="__codelineno-0-1026"></a><a href="#__codelineno-0-1026"><span class="linenos" data-linenos="1026 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-1027"><a id="__codelineno-0-1027" name="__codelineno-0-1027"></a><a href="#__codelineno-0-1027"><span class="linenos" data-linenos="1027 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;slot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slot_id</span>
</span><span id="__span-0-1028"><a id="__codelineno-0-1028" name="__codelineno-0-1028"></a><a href="#__codelineno-0-1028"><span class="linenos" data-linenos="1028 "></span></a>
</span><span id="__span-0-1029"><a id="__codelineno-0-1029" name="__codelineno-0-1029"></a><a href="#__codelineno-0-1029"><span class="linenos" data-linenos="1029 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1030"><a id="__codelineno-0-1030" name="__codelineno-0-1030"></a><a href="#__codelineno-0-1030"><span class="linenos" data-linenos="1030 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-1031"><a id="__codelineno-0-1031" name="__codelineno-0-1031"></a><a href="#__codelineno-0-1031"><span class="linenos" data-linenos="1031 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1032"><a id="__codelineno-0-1032" name="__codelineno-0-1032"></a><a href="#__codelineno-0-1032"><span class="linenos" data-linenos="1032 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1033"><a id="__codelineno-0-1033" name="__codelineno-0-1033"></a><a href="#__codelineno-0-1033"><span class="linenos" data-linenos="1033 "></span></a>        <span class="sa">f</span><span class="s2">&quot;refresh_spool_rfid - published AMS_GET_RFID to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1034"><a id="__codelineno-0-1034" name="__codelineno-0-1034"></a><a href="#__codelineno-0-1034"><span class="linenos" data-linenos="1034 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.rename_sdcard_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">rename_sdcard_file</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">rename_sdcard_file</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.rename_sdcard_file(src)">src</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.rename_sdcard_file(dest)">dest</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Renames the specified file on the printer and returns an updated dict of all files on the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.rename_sdcard_file--parameters">Parameters</h5>
<ul>
<li>src : str - the full path name to be renamed</li>
<li>dest : str - the full path name to be renamed to</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-678"><a id="__codelineno-0-678" name="__codelineno-0-678"></a><a href="#__codelineno-0-678"><span class="linenos" data-linenos="678 "></span></a><span class="k">def</span> <span class="nf">rename_sdcard_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dest</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-679"><a id="__codelineno-0-679" name="__codelineno-0-679"></a><a href="#__codelineno-0-679"><span class="linenos" data-linenos="679 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-680"><a id="__codelineno-0-680" name="__codelineno-0-680"></a><a href="#__codelineno-0-680"><span class="linenos" data-linenos="680 "></span></a><span class="sd">    Renames the specified file on the printer and returns an updated dict of all files on the printer</span>
</span><span id="__span-0-681"><a id="__codelineno-0-681" name="__codelineno-0-681"></a><a href="#__codelineno-0-681"><span class="linenos" data-linenos="681 "></span></a>
</span><span id="__span-0-682"><a id="__codelineno-0-682" name="__codelineno-0-682"></a><a href="#__codelineno-0-682"><span class="linenos" data-linenos="682 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-683"><a id="__codelineno-0-683" name="__codelineno-0-683"></a><a href="#__codelineno-0-683"><span class="linenos" data-linenos="683 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-684"><a id="__codelineno-0-684" name="__codelineno-0-684"></a><a href="#__codelineno-0-684"><span class="linenos" data-linenos="684 "></span></a><span class="sd">    * src : str - the full path name to be renamed</span>
</span><span id="__span-0-685"><a id="__codelineno-0-685" name="__codelineno-0-685"></a><a href="#__codelineno-0-685"><span class="linenos" data-linenos="685 "></span></a><span class="sd">    * dest : str - the full path name to be renamed to</span>
</span><span id="__span-0-686"><a id="__codelineno-0-686" name="__codelineno-0-686"></a><a href="#__codelineno-0-686"><span class="linenos" data-linenos="686 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-687"><a id="__codelineno-0-687" name="__codelineno-0-687"></a><a href="#__codelineno-0-687"><span class="linenos" data-linenos="687 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;rename_sdcard_file - renaming printer file [</span><span class="si">{</span><span class="n">src</span><span class="si">}</span><span class="s2">] to [</span><span class="si">{</span><span class="n">dest</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</span><span id="__span-0-688"><a id="__codelineno-0-688" name="__codelineno-0-688"></a><a href="#__codelineno-0-688"><span class="linenos" data-linenos="688 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-689"><a id="__codelineno-0-689" name="__codelineno-0-689"></a><a href="#__codelineno-0-689"><span class="linenos" data-linenos="689 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">move_file</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</span><span id="__span-0-690"><a id="__codelineno-0-690" name="__codelineno-0-690"></a><a href="#__codelineno-0-690"><span class="linenos" data-linenos="690 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sdcard_contents</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.resume_printing" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">resume_printing</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">resume_printing</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Resumes the current print job if one is paused.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-509"><a id="__codelineno-0-509" name="__codelineno-0-509"></a><a href="#__codelineno-0-509"><span class="linenos" data-linenos="509 "></span></a><span class="k">def</span> <span class="nf">resume_printing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-510"><a id="__codelineno-0-510" name="__codelineno-0-510"></a><a href="#__codelineno-0-510"><span class="linenos" data-linenos="510 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-511"><a id="__codelineno-0-511" name="__codelineno-0-511"></a><a href="#__codelineno-0-511"><span class="linenos" data-linenos="511 "></span></a><span class="sd">    Resumes the current print job if one is paused.</span>
</span><span id="__span-0-512"><a id="__codelineno-0-512" name="__codelineno-0-512"></a><a href="#__codelineno-0-512"><span class="linenos" data-linenos="512 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-513"><a id="__codelineno-0-513" name="__codelineno-0-513"></a><a href="#__codelineno-0-513"><span class="linenos" data-linenos="513 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-514"><a id="__codelineno-0-514" name="__codelineno-0-514"></a><a href="#__codelineno-0-514"><span class="linenos" data-linenos="514 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-515"><a id="__codelineno-0-515" name="__codelineno-0-515"></a><a href="#__codelineno-0-515"><span class="linenos" data-linenos="515 "></span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">RESUME_PRINT</span><span class="p">),</span>
</span><span id="__span-0-516"><a id="__codelineno-0-516" name="__codelineno-0-516"></a><a href="#__codelineno-0-516"><span class="linenos" data-linenos="516 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-517"><a id="__codelineno-0-517" name="__codelineno-0-517"></a><a href="#__codelineno-0-517"><span class="linenos" data-linenos="517 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-518"><a id="__codelineno-0-518" name="__codelineno-0-518"></a><a href="#__codelineno-0-518"><span class="linenos" data-linenos="518 "></span></a>        <span class="sa">f</span><span class="s2">&quot;resume_printing - published RESUME_PRINT to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request]&quot;</span>
</span><span id="__span-0-519"><a id="__codelineno-0-519" name="__codelineno-0-519"></a><a href="#__codelineno-0-519"><span class="linenos" data-linenos="519 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.resume_session" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">resume_session</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">resume_session</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Resumes a previously paused session by re-subscribing to the /report topic.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a><a href="#__codelineno-0-260"><span class="linenos" data-linenos="260 "></span></a><span class="k">def</span> <span class="nf">resume_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><a href="#__codelineno-0-261"><span class="linenos" data-linenos="261 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a><a href="#__codelineno-0-262"><span class="linenos" data-linenos="262 "></span></a><span class="sd">    Resumes a previously paused session by re-subscribing to the /report topic.</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><a href="#__codelineno-0-263"><span class="linenos" data-linenos="263 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a><a href="#__codelineno-0-264"><span class="linenos" data-linenos="264 "></span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a><a href="#__codelineno-0-265"><span class="linenos" data-linenos="265 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a><a href="#__codelineno-0-266"><span class="linenos" data-linenos="266 "></span></a>        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">()</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a><a href="#__codelineno-0-267"><span class="linenos" data-linenos="267 "></span></a>        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">PAUSED</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a><a href="#__codelineno-0-268"><span class="linenos" data-linenos="268 "></span></a>    <span class="p">):</span>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a><a href="#__codelineno-0-269"><span class="linenos" data-linenos="269 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report&quot;</span><span class="p">)</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a><a href="#__codelineno-0-270"><span class="linenos" data-linenos="270 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a><a href="#__codelineno-0-271"><span class="linenos" data-linenos="271 "></span></a>            <span class="sa">f</span><span class="s2">&quot;resume_session - subscribed to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report]&quot;</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a><a href="#__codelineno-0-272"><span class="linenos" data-linenos="272 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a><a href="#__codelineno-0-273"><span class="linenos" data-linenos="273 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_lastMessageTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
</span><span id="__span-0-274"><a id="__codelineno-0-274" name="__codelineno-0-274"></a><a href="#__codelineno-0-274"><span class="linenos" data-linenos="274 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">CONNECTED</span>
</span><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275"></a><a href="#__codelineno-0-275"><span class="linenos" data-linenos="275 "></span></a>        <span class="k">return</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a><a href="#__codelineno-0-276"><span class="linenos" data-linenos="276 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">QUIT</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.sdcard_file_exists" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sdcard_file_exists</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">sdcard_file_exists</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.sdcard_file_exists(path)">path</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="bool">bool</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Checks to see if a file exists on the printer at the <code>path</code> specified</p>
<h5 id="bpm.bambuprinter.BambuPrinter.sdcard_file_exists--parameters">Parameters</h5>
<ul>
<li>path : str - the full path name to check</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-692"><a id="__codelineno-0-692" name="__codelineno-0-692"></a><a href="#__codelineno-0-692"><span class="linenos" data-linenos="692 "></span></a><span class="k">def</span> <span class="nf">sdcard_file_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-0-693"><a id="__codelineno-0-693" name="__codelineno-0-693"></a><a href="#__codelineno-0-693"><span class="linenos" data-linenos="693 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-694"><a id="__codelineno-0-694" name="__codelineno-0-694"></a><a href="#__codelineno-0-694"><span class="linenos" data-linenos="694 "></span></a><span class="sd">    Checks to see if a file exists on the printer at the `path` specified</span>
</span><span id="__span-0-695"><a id="__codelineno-0-695" name="__codelineno-0-695"></a><a href="#__codelineno-0-695"><span class="linenos" data-linenos="695 "></span></a>
</span><span id="__span-0-696"><a id="__codelineno-0-696" name="__codelineno-0-696"></a><a href="#__codelineno-0-696"><span class="linenos" data-linenos="696 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-697"><a id="__codelineno-0-697" name="__codelineno-0-697"></a><a href="#__codelineno-0-697"><span class="linenos" data-linenos="697 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-698"><a id="__codelineno-0-698" name="__codelineno-0-698"></a><a href="#__codelineno-0-698"><span class="linenos" data-linenos="698 "></span></a><span class="sd">    * path : str - the full path name to check</span>
</span><span id="__span-0-699"><a id="__codelineno-0-699" name="__codelineno-0-699"></a><a href="#__codelineno-0-699"><span class="linenos" data-linenos="699 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-700"><a id="__codelineno-0-700" name="__codelineno-0-700"></a><a href="#__codelineno-0-700"><span class="linenos" data-linenos="700 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sdcard_file_exists - checking if printer file [</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">] exists&quot;</span><span class="p">)</span>
</span><span id="__span-0-701"><a id="__codelineno-0-701" name="__codelineno-0-701"></a><a href="#__codelineno-0-701"><span class="linenos" data-linenos="701 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-702"><a id="__codelineno-0-702" name="__codelineno-0-702"></a><a href="#__codelineno-0-702"><span class="linenos" data-linenos="702 "></span></a>        <span class="k">return</span> <span class="n">ftps</span><span class="o">.</span><span class="n">fexists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">select_extrusion_calibration_profile</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">select_extrusion_calibration_profile</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile(tray_id)">tray_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile(cali_idx)">cali_idx</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sets the k factor profile for the specified tray.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.select_extrusion_calibration_profile--parameters">Parameters</h5>
<p>tray_id : int - tray id
cali_idx : calibration index , optional, defaults to -1 (the default profile)</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1095"><a id="__codelineno-0-1095" name="__codelineno-0-1095"></a><a href="#__codelineno-0-1095"><span class="linenos" data-linenos="1095 "></span></a><span class="k">def</span> <span class="nf">select_extrusion_calibration_profile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tray_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">cali_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-0-1096"><a id="__codelineno-0-1096" name="__codelineno-0-1096"></a><a href="#__codelineno-0-1096"><span class="linenos" data-linenos="1096 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1097"><a id="__codelineno-0-1097" name="__codelineno-0-1097"></a><a href="#__codelineno-0-1097"><span class="linenos" data-linenos="1097 "></span></a><span class="sd">    Sets the k factor profile for the specified tray.</span>
</span><span id="__span-0-1098"><a id="__codelineno-0-1098" name="__codelineno-0-1098"></a><a href="#__codelineno-0-1098"><span class="linenos" data-linenos="1098 "></span></a>
</span><span id="__span-0-1099"><a id="__codelineno-0-1099" name="__codelineno-0-1099"></a><a href="#__codelineno-0-1099"><span class="linenos" data-linenos="1099 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1100"><a id="__codelineno-0-1100" name="__codelineno-0-1100"></a><a href="#__codelineno-0-1100"><span class="linenos" data-linenos="1100 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1101"><a id="__codelineno-0-1101" name="__codelineno-0-1101"></a><a href="#__codelineno-0-1101"><span class="linenos" data-linenos="1101 "></span></a><span class="sd">    tray_id : int - tray id</span>
</span><span id="__span-0-1102"><a id="__codelineno-0-1102" name="__codelineno-0-1102"></a><a href="#__codelineno-0-1102"><span class="linenos" data-linenos="1102 "></span></a><span class="sd">    cali_idx : calibration index , optional, defaults to -1 (the default profile)</span>
</span><span id="__span-0-1103"><a id="__codelineno-0-1103" name="__codelineno-0-1103"></a><a href="#__codelineno-0-1103"><span class="linenos" data-linenos="1103 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1104"><a id="__codelineno-0-1104" name="__codelineno-0-1104"></a><a href="#__codelineno-0-1104"><span class="linenos" data-linenos="1104 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">EXTRUSION_CALI_SEL</span><span class="p">)</span>
</span><span id="__span-0-1105"><a id="__codelineno-0-1105" name="__codelineno-0-1105"></a><a href="#__codelineno-0-1105"><span class="linenos" data-linenos="1105 "></span></a>
</span><span id="__span-0-1106"><a id="__codelineno-0-1106" name="__codelineno-0-1106"></a><a href="#__codelineno-0-1106"><span class="linenos" data-linenos="1106 "></span></a>    <span class="n">ams_id</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">tray_id</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="__span-0-1107"><a id="__codelineno-0-1107" name="__codelineno-0-1107"></a><a href="#__codelineno-0-1107"><span class="linenos" data-linenos="1107 "></span></a>
</span><span id="__span-0-1108"><a id="__codelineno-0-1108" name="__codelineno-0-1108"></a><a href="#__codelineno-0-1108"><span class="linenos" data-linenos="1108 "></span></a>    <span class="k">if</span> <span class="n">tray_id</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">254</span><span class="p">,</span> <span class="mi">255</span><span class="p">):</span>
</span><span id="__span-0-1109"><a id="__codelineno-0-1109" name="__codelineno-0-1109"></a><a href="#__codelineno-0-1109"><span class="linenos" data-linenos="1109 "></span></a>        <span class="n">ams_id</span> <span class="o">=</span> <span class="n">tray_id</span>
</span><span id="__span-0-1110"><a id="__codelineno-0-1110" name="__codelineno-0-1110"></a><a href="#__codelineno-0-1110"><span class="linenos" data-linenos="1110 "></span></a>        <span class="n">tray_id</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1111"><a id="__codelineno-0-1111" name="__codelineno-0-1111"></a><a href="#__codelineno-0-1111"><span class="linenos" data-linenos="1111 "></span></a>
</span><span id="__span-0-1112"><a id="__codelineno-0-1112" name="__codelineno-0-1112"></a><a href="#__codelineno-0-1112"><span class="linenos" data-linenos="1112 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-1113"><a id="__codelineno-0-1113" name="__codelineno-0-1113"></a><a href="#__codelineno-0-1113"><span class="linenos" data-linenos="1113 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span>
</span><span id="__span-0-1114"><a id="__codelineno-0-1114" name="__codelineno-0-1114"></a><a href="#__codelineno-0-1114"><span class="linenos" data-linenos="1114 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;slot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span> <span class="o">%</span> <span class="mi">4</span>
</span><span id="__span-0-1115"><a id="__codelineno-0-1115" name="__codelineno-0-1115"></a><a href="#__codelineno-0-1115"><span class="linenos" data-linenos="1115 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;cali_idx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cali_idx</span>
</span><span id="__span-0-1116"><a id="__codelineno-0-1116" name="__codelineno-0-1116"></a><a href="#__codelineno-0-1116"><span class="linenos" data-linenos="1116 "></span></a>
</span><span id="__span-0-1117"><a id="__codelineno-0-1117" name="__codelineno-0-1117"></a><a href="#__codelineno-0-1117"><span class="linenos" data-linenos="1117 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1118"><a id="__codelineno-0-1118" name="__codelineno-0-1118"></a><a href="#__codelineno-0-1118"><span class="linenos" data-linenos="1118 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-1119"><a id="__codelineno-0-1119" name="__codelineno-0-1119"></a><a href="#__codelineno-0-1119"><span class="linenos" data-linenos="1119 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1120"><a id="__codelineno-0-1120" name="__codelineno-0-1120"></a><a href="#__codelineno-0-1120"><span class="linenos" data-linenos="1120 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1121"><a id="__codelineno-0-1121" name="__codelineno-0-1121"></a><a href="#__codelineno-0-1121"><span class="linenos" data-linenos="1121 "></span></a>        <span class="sa">f</span><span class="s2">&quot;select_extrusion_calibration_profile - published EXTRUSION_CALI_SEL to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] cmd: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1122"><a id="__codelineno-0-1122" name="__codelineno-0-1122"></a><a href="#__codelineno-0-1122"><span class="linenos" data-linenos="1122 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.send_ams_control_command" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">send_ams_control_command</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">send_ams_control_command</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.send_ams_control_command(ams_control_cmd)">ams_control_cmd</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            AMSControlCommand (bpm.bambutools.AMSControlCommand)" href="../bambutools/#bpm.bambutools.AMSControlCommand">AMSControlCommand</a></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Send an AMS Control Command - will pause, resume, or reset the AMS.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-859"><a id="__codelineno-0-859" name="__codelineno-0-859"></a><a href="#__codelineno-0-859"><span class="linenos" data-linenos="859 "></span></a><span class="k">def</span> <span class="nf">send_ams_control_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ams_control_cmd</span><span class="p">:</span> <span class="n">AMSControlCommand</span><span class="p">):</span>
</span><span id="__span-0-860"><a id="__codelineno-0-860" name="__codelineno-0-860"></a><a href="#__codelineno-0-860"><span class="linenos" data-linenos="860 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-861"><a id="__codelineno-0-861" name="__codelineno-0-861"></a><a href="#__codelineno-0-861"><span class="linenos" data-linenos="861 "></span></a><span class="sd">    Send an AMS Control Command - will pause, resume, or reset the AMS.</span>
</span><span id="__span-0-862"><a id="__codelineno-0-862" name="__codelineno-0-862"></a><a href="#__codelineno-0-862"><span class="linenos" data-linenos="862 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-863"><a id="__codelineno-0-863" name="__codelineno-0-863"></a><a href="#__codelineno-0-863"><span class="linenos" data-linenos="863 "></span></a>    <span class="n">ams_cmd</span> <span class="o">=</span> <span class="n">ams_control_cmd</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-0-864"><a id="__codelineno-0-864" name="__codelineno-0-864"></a><a href="#__codelineno-0-864"><span class="linenos" data-linenos="864 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_CONTROL</span><span class="p">)</span>
</span><span id="__span-0-865"><a id="__codelineno-0-865" name="__codelineno-0-865"></a><a href="#__codelineno-0-865"><span class="linenos" data-linenos="865 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_cmd</span>
</span><span id="__span-0-866"><a id="__codelineno-0-866" name="__codelineno-0-866"></a><a href="#__codelineno-0-866"><span class="linenos" data-linenos="866 "></span></a>
</span><span id="__span-0-867"><a id="__codelineno-0-867" name="__codelineno-0-867"></a><a href="#__codelineno-0-867"><span class="linenos" data-linenos="867 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-868"><a id="__codelineno-0-868" name="__codelineno-0-868"></a><a href="#__codelineno-0-868"><span class="linenos" data-linenos="868 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-869"><a id="__codelineno-0-869" name="__codelineno-0-869"></a><a href="#__codelineno-0-869"><span class="linenos" data-linenos="869 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-870"><a id="__codelineno-0-870" name="__codelineno-0-870"></a><a href="#__codelineno-0-870"><span class="linenos" data-linenos="870 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-871"><a id="__codelineno-0-871" name="__codelineno-0-871"></a><a href="#__codelineno-0-871"><span class="linenos" data-linenos="871 "></span></a>        <span class="sa">f</span><span class="s2">&quot;send_ams_control_commandpublished AMS_CONTROL to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-872"><a id="__codelineno-0-872" name="__codelineno-0-872"></a><a href="#__codelineno-0-872"><span class="linenos" data-linenos="872 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-873"><a id="__codelineno-0-873" name="__codelineno-0-873"></a><a href="#__codelineno-0-873"><span class="linenos" data-linenos="873 "></span></a>
</span><span id="__span-0-874"><a id="__codelineno-0-874" name="__codelineno-0-874"></a><a href="#__codelineno-0-874"><span class="linenos" data-linenos="874 "></span></a>    <span class="c1"># trigger resume print for good measure</span>
</span><span id="__span-0-875"><a id="__codelineno-0-875" name="__codelineno-0-875"></a><a href="#__codelineno-0-875"><span class="linenos" data-linenos="875 "></span></a>    <span class="k">if</span> <span class="n">ams_control_cmd</span> <span class="o">==</span> <span class="n">AMSControlCommand</span><span class="o">.</span><span class="n">RESUME</span><span class="p">:</span>
</span><span id="__span-0-876"><a id="__codelineno-0-876" name="__codelineno-0-876"></a><a href="#__codelineno-0-876"><span class="linenos" data-linenos="876 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resume_printing</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.send_anything" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">send_anything</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">send_anything</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.send_anything(anything)">anything</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>puts an arbritary string on the request topic</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-931"><a id="__codelineno-0-931" name="__codelineno-0-931"></a><a href="#__codelineno-0-931"><span class="linenos" data-linenos="931 "></span></a><span class="k">def</span> <span class="nf">send_anything</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anything</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-932"><a id="__codelineno-0-932" name="__codelineno-0-932"></a><a href="#__codelineno-0-932"><span class="linenos" data-linenos="932 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-933"><a id="__codelineno-0-933" name="__codelineno-0-933"></a><a href="#__codelineno-0-933"><span class="linenos" data-linenos="933 "></span></a><span class="sd">    puts an arbritary string on the request topic</span>
</span><span id="__span-0-934"><a id="__codelineno-0-934" name="__codelineno-0-934"></a><a href="#__codelineno-0-934"><span class="linenos" data-linenos="934 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-935"><a id="__codelineno-0-935" name="__codelineno-0-935"></a><a href="#__codelineno-0-935"><span class="linenos" data-linenos="935 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-936"><a id="__codelineno-0-936" name="__codelineno-0-936"></a><a href="#__codelineno-0-936"><span class="linenos" data-linenos="936 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-937"><a id="__codelineno-0-937" name="__codelineno-0-937"></a><a href="#__codelineno-0-937"><span class="linenos" data-linenos="937 "></span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">anything</span><span class="p">)),</span>
</span><span id="__span-0-938"><a id="__codelineno-0-938" name="__codelineno-0-938"></a><a href="#__codelineno-0-938"><span class="linenos" data-linenos="938 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-939"><a id="__codelineno-0-939" name="__codelineno-0-939"></a><a href="#__codelineno-0-939"><span class="linenos" data-linenos="939 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-940"><a id="__codelineno-0-940" name="__codelineno-0-940"></a><a href="#__codelineno-0-940"><span class="linenos" data-linenos="940 "></span></a>        <span class="sa">f</span><span class="s2">&quot;send_anything - published message to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] message: [</span><span class="si">{</span><span class="n">anything</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-941"><a id="__codelineno-0-941" name="__codelineno-0-941"></a><a href="#__codelineno-0-941"><span class="linenos" data-linenos="941 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.send_gcode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">send_gcode</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">send_gcode</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.send_gcode(gcode)">gcode</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Submit one, or more, gcode commands to the printer.  To submit multiple gcode commands, separate them with a newline (\n) character.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.send_gcode--parameters">Parameters</h5>
<p>gcode : str</p>
<h5 id="bpm.bambuprinter.BambuPrinter.send_gcode--examples">Examples</h5>
<ul>
<li><code>send_gcode("G91\nG0 X0\nG0 X50")</code> - queues 3 gcode commands on the printer for processing</li>
<li><code>send_gcode("G28")</code> - queues 1 gcode command on the printer for processing</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-390"><a id="__codelineno-0-390" name="__codelineno-0-390"></a><a href="#__codelineno-0-390"><span class="linenos" data-linenos="390 "></span></a><span class="k">def</span> <span class="nf">send_gcode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gcode</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-391"><a id="__codelineno-0-391" name="__codelineno-0-391"></a><a href="#__codelineno-0-391"><span class="linenos" data-linenos="391 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-392"><a id="__codelineno-0-392" name="__codelineno-0-392"></a><a href="#__codelineno-0-392"><span class="linenos" data-linenos="392 "></span></a><span class="sd">    Submit one, or more, gcode commands to the printer.  To submit multiple gcode commands, separate them with a newline (\\n) character.</span>
</span><span id="__span-0-393"><a id="__codelineno-0-393" name="__codelineno-0-393"></a><a href="#__codelineno-0-393"><span class="linenos" data-linenos="393 "></span></a>
</span><span id="__span-0-394"><a id="__codelineno-0-394" name="__codelineno-0-394"></a><a href="#__codelineno-0-394"><span class="linenos" data-linenos="394 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-395"><a id="__codelineno-0-395" name="__codelineno-0-395"></a><a href="#__codelineno-0-395"><span class="linenos" data-linenos="395 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-396"><a id="__codelineno-0-396" name="__codelineno-0-396"></a><a href="#__codelineno-0-396"><span class="linenos" data-linenos="396 "></span></a><span class="sd">    gcode : str</span>
</span><span id="__span-0-397"><a id="__codelineno-0-397" name="__codelineno-0-397"></a><a href="#__codelineno-0-397"><span class="linenos" data-linenos="397 "></span></a>
</span><span id="__span-0-398"><a id="__codelineno-0-398" name="__codelineno-0-398"></a><a href="#__codelineno-0-398"><span class="linenos" data-linenos="398 "></span></a><span class="sd">    Examples</span>
</span><span id="__span-0-399"><a id="__codelineno-0-399" name="__codelineno-0-399"></a><a href="#__codelineno-0-399"><span class="linenos" data-linenos="399 "></span></a><span class="sd">    --------</span>
</span><span id="__span-0-400"><a id="__codelineno-0-400" name="__codelineno-0-400"></a><a href="#__codelineno-0-400"><span class="linenos" data-linenos="400 "></span></a><span class="sd">    * `send_gcode(&quot;G91\\nG0 X0\\nG0 X50&quot;)` - queues 3 gcode commands on the printer for processing</span>
</span><span id="__span-0-401"><a id="__codelineno-0-401" name="__codelineno-0-401"></a><a href="#__codelineno-0-401"><span class="linenos" data-linenos="401 "></span></a><span class="sd">    * `send_gcode(&quot;G28&quot;)` - queues 1 gcode command on the printer for processing</span>
</span><span id="__span-0-402"><a id="__codelineno-0-402" name="__codelineno-0-402"></a><a href="#__codelineno-0-402"><span class="linenos" data-linenos="402 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-403"><a id="__codelineno-0-403" name="__codelineno-0-403"></a><a href="#__codelineno-0-403"><span class="linenos" data-linenos="403 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SEND_GCODE_TEMPLATE</span><span class="p">)</span>
</span><span id="__span-0-404"><a id="__codelineno-0-404" name="__codelineno-0-404"></a><a href="#__codelineno-0-404"><span class="linenos" data-linenos="404 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-405"><a id="__codelineno-0-405" name="__codelineno-0-405"></a><a href="#__codelineno-0-405"><span class="linenos" data-linenos="405 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-406"><a id="__codelineno-0-406" name="__codelineno-0-406"></a><a href="#__codelineno-0-406"><span class="linenos" data-linenos="406 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-407"><a id="__codelineno-0-407" name="__codelineno-0-407"></a><a href="#__codelineno-0-407"><span class="linenos" data-linenos="407 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-408"><a id="__codelineno-0-408" name="__codelineno-0-408"></a><a href="#__codelineno-0-408"><span class="linenos" data-linenos="408 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-409"><a id="__codelineno-0-409" name="__codelineno-0-409"></a><a href="#__codelineno-0-409"><span class="linenos" data-linenos="409 "></span></a>        <span class="sa">f</span><span class="s2">&quot;send_gcode - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] gcode: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-410"><a id="__codelineno-0-410" name="__codelineno-0-410"></a><a href="#__codelineno-0-410"><span class="linenos" data-linenos="410 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_active_tool" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_active_tool</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_active_tool</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_active_tool(id)">id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>sets the current active tool / extruder for machines (H2 series)
that have multiple extruders</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1007"><a id="__codelineno-0-1007" name="__codelineno-0-1007"></a><a href="#__codelineno-0-1007"><span class="linenos" data-linenos="1007 "></span></a><span class="k">def</span> <span class="nf">set_active_tool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-0-1008"><a id="__codelineno-0-1008" name="__codelineno-0-1008"></a><a href="#__codelineno-0-1008"><span class="linenos" data-linenos="1008 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1009"><a id="__codelineno-0-1009" name="__codelineno-0-1009"></a><a href="#__codelineno-0-1009"><span class="linenos" data-linenos="1009 "></span></a><span class="sd">    sets the current active tool / extruder for machines (H2 series)</span>
</span><span id="__span-0-1010"><a id="__codelineno-0-1010" name="__codelineno-0-1010"></a><a href="#__codelineno-0-1010"><span class="linenos" data-linenos="1010 "></span></a><span class="sd">    that have multiple extruders</span>
</span><span id="__span-0-1011"><a id="__codelineno-0-1011" name="__codelineno-0-1011"></a><a href="#__codelineno-0-1011"><span class="linenos" data-linenos="1011 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1012"><a id="__codelineno-0-1012" name="__codelineno-0-1012"></a><a href="#__codelineno-0-1012"><span class="linenos" data-linenos="1012 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SET_ACTIVE_TOOL</span><span class="p">)</span>
</span><span id="__span-0-1013"><a id="__codelineno-0-1013" name="__codelineno-0-1013"></a><a href="#__codelineno-0-1013"><span class="linenos" data-linenos="1013 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;extruder_index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">id</span>
</span><span id="__span-0-1014"><a id="__codelineno-0-1014" name="__codelineno-0-1014"></a><a href="#__codelineno-0-1014"><span class="linenos" data-linenos="1014 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1015"><a id="__codelineno-0-1015" name="__codelineno-0-1015"></a><a href="#__codelineno-0-1015"><span class="linenos" data-linenos="1015 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-1016"><a id="__codelineno-0-1016" name="__codelineno-0-1016"></a><a href="#__codelineno-0-1016"><span class="linenos" data-linenos="1016 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1017"><a id="__codelineno-0-1017" name="__codelineno-0-1017"></a><a href="#__codelineno-0-1017"><span class="linenos" data-linenos="1017 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1018"><a id="__codelineno-0-1018" name="__codelineno-0-1018"></a><a href="#__codelineno-0-1018"><span class="linenos" data-linenos="1018 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_active_tool - published SET_ACTIVE_TOOL to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1019"><a id="__codelineno-0-1019" name="__codelineno-0-1019"></a><a href="#__codelineno-0-1019"><span class="linenos" data-linenos="1019 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_ams_user_setting" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_ams_user_setting</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_ams_user_setting</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_ams_user_setting(setting)">setting</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            AMSUserSetting (bpm.bambutools.AMSUserSetting)" href="../bambutools/#bpm.bambutools.AMSUserSetting">AMSUserSetting</a></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_ams_user_setting(enabled)">enabled</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_ams_user_setting(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Enable or disable one of the <code>AMSUserSetting</code> options</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-728"><a id="__codelineno-0-728" name="__codelineno-0-728"></a><a href="#__codelineno-0-728"><span class="linenos" data-linenos="728 "></span></a><span class="k">def</span> <span class="nf">set_ams_user_setting</span><span class="p">(</span>
</span><span id="__span-0-729"><a id="__codelineno-0-729" name="__codelineno-0-729"></a><a href="#__codelineno-0-729"><span class="linenos" data-linenos="729 "></span></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">setting</span><span class="p">:</span> <span class="n">AMSUserSetting</span><span class="p">,</span> <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-730"><a id="__codelineno-0-730" name="__codelineno-0-730"></a><a href="#__codelineno-0-730"><span class="linenos" data-linenos="730 "></span></a><span class="p">):</span>
</span><span id="__span-0-731"><a id="__codelineno-0-731" name="__codelineno-0-731"></a><a href="#__codelineno-0-731"><span class="linenos" data-linenos="731 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-732"><a id="__codelineno-0-732" name="__codelineno-0-732"></a><a href="#__codelineno-0-732"><span class="linenos" data-linenos="732 "></span></a><span class="sd">    Enable or disable one of the `AMSUserSetting` options</span>
</span><span id="__span-0-733"><a id="__codelineno-0-733" name="__codelineno-0-733"></a><a href="#__codelineno-0-733"><span class="linenos" data-linenos="733 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-734"><a id="__codelineno-0-734" name="__codelineno-0-734"></a><a href="#__codelineno-0-734"><span class="linenos" data-linenos="734 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_USER_SETTING</span><span class="p">)</span>
</span><span id="__span-0-735"><a id="__codelineno-0-735" name="__codelineno-0-735"></a><a href="#__codelineno-0-735"><span class="linenos" data-linenos="735 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-736"><a id="__codelineno-0-736" name="__codelineno-0-736"></a><a href="#__codelineno-0-736"><span class="linenos" data-linenos="736 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">CALIBRATE_REMAIN_FLAG</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-737"><a id="__codelineno-0-737" name="__codelineno-0-737"></a><a href="#__codelineno-0-737"><span class="linenos" data-linenos="737 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">calibrate_remain_flag</span>
</span><span id="__span-0-738"><a id="__codelineno-0-738" name="__codelineno-0-738"></a><a href="#__codelineno-0-738"><span class="linenos" data-linenos="738 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-739"><a id="__codelineno-0-739" name="__codelineno-0-739"></a><a href="#__codelineno-0-739"><span class="linenos" data-linenos="739 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">STARTUP_READ_OPTION</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-740"><a id="__codelineno-0-740" name="__codelineno-0-740"></a><a href="#__codelineno-0-740"><span class="linenos" data-linenos="740 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">startup_read_option</span>
</span><span id="__span-0-741"><a id="__codelineno-0-741" name="__codelineno-0-741"></a><a href="#__codelineno-0-741"><span class="linenos" data-linenos="741 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-742"><a id="__codelineno-0-742" name="__codelineno-0-742"></a><a href="#__codelineno-0-742"><span class="linenos" data-linenos="742 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">TRAY_READ_OPTION</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-743"><a id="__codelineno-0-743" name="__codelineno-0-743"></a><a href="#__codelineno-0-743"><span class="linenos" data-linenos="743 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tray_read_option</span>
</span><span id="__span-0-744"><a id="__codelineno-0-744" name="__codelineno-0-744"></a><a href="#__codelineno-0-744"><span class="linenos" data-linenos="744 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-745"><a id="__codelineno-0-745" name="__codelineno-0-745"></a><a href="#__codelineno-0-745"><span class="linenos" data-linenos="745 "></span></a>
</span><span id="__span-0-746"><a id="__codelineno-0-746" name="__codelineno-0-746"></a><a href="#__codelineno-0-746"><span class="linenos" data-linenos="746 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="n">setting</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-747"><a id="__codelineno-0-747" name="__codelineno-0-747"></a><a href="#__codelineno-0-747"><span class="linenos" data-linenos="747 "></span></a>
</span><span id="__span-0-748"><a id="__codelineno-0-748" name="__codelineno-0-748"></a><a href="#__codelineno-0-748"><span class="linenos" data-linenos="748 "></span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="o">==</span> <span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">STARTUP_READ_OPTION</span><span class="p">:</span>
</span><span id="__span-0-749"><a id="__codelineno-0-749" name="__codelineno-0-749"></a><a href="#__codelineno-0-749"><span class="linenos" data-linenos="749 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">startup_read_option</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-750"><a id="__codelineno-0-750" name="__codelineno-0-750"></a><a href="#__codelineno-0-750"><span class="linenos" data-linenos="750 "></span></a>    <span class="k">elif</span> <span class="n">setting</span> <span class="o">==</span> <span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">TRAY_READ_OPTION</span><span class="p">:</span>
</span><span id="__span-0-751"><a id="__codelineno-0-751" name="__codelineno-0-751"></a><a href="#__codelineno-0-751"><span class="linenos" data-linenos="751 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tray_read_option</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-752"><a id="__codelineno-0-752" name="__codelineno-0-752"></a><a href="#__codelineno-0-752"><span class="linenos" data-linenos="752 "></span></a>    <span class="k">elif</span> <span class="n">setting</span> <span class="o">==</span> <span class="n">AMSUserSetting</span><span class="o">.</span><span class="n">CALIBRATE_REMAIN_FLAG</span><span class="p">:</span>
</span><span id="__span-0-753"><a id="__codelineno-0-753" name="__codelineno-0-753"></a><a href="#__codelineno-0-753"><span class="linenos" data-linenos="753 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">calibrate_remain_flag</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-754"><a id="__codelineno-0-754" name="__codelineno-0-754"></a><a href="#__codelineno-0-754"><span class="linenos" data-linenos="754 "></span></a>
</span><span id="__span-0-755"><a id="__codelineno-0-755" name="__codelineno-0-755"></a><a href="#__codelineno-0-755"><span class="linenos" data-linenos="755 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-756"><a id="__codelineno-0-756" name="__codelineno-0-756"></a><a href="#__codelineno-0-756"><span class="linenos" data-linenos="756 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-757"><a id="__codelineno-0-757" name="__codelineno-0-757"></a><a href="#__codelineno-0-757"><span class="linenos" data-linenos="757 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-758"><a id="__codelineno-0-758" name="__codelineno-0-758"></a><a href="#__codelineno-0-758"><span class="linenos" data-linenos="758 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-759"><a id="__codelineno-0-759" name="__codelineno-0-759"></a><a href="#__codelineno-0-759"><span class="linenos" data-linenos="759 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_ams_user_setting - published AMS_USER_SETTING to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-760"><a id="__codelineno-0-760" name="__codelineno-0-760"></a><a href="#__codelineno-0-760"><span class="linenos" data-linenos="760 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_aux_fan_speed_target_percent</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_aux_fan_speed_target_percent</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>sets the aux (chamber recirculation) fan speed target represented in percent</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_aux_fan_speed_target_percent--parameters">Parameters</h5>
<ul>
<li>value : int - The target speed in percent</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1931"><a id="__codelineno-0-1931" name="__codelineno-0-1931"></a><a href="#__codelineno-0-1931"><span class="linenos" data-linenos="1931 "></span></a><span class="k">def</span> <span class="nf">set_aux_fan_speed_target_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-0-1932"><a id="__codelineno-0-1932" name="__codelineno-0-1932"></a><a href="#__codelineno-0-1932"><span class="linenos" data-linenos="1932 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1933"><a id="__codelineno-0-1933" name="__codelineno-0-1933"></a><a href="#__codelineno-0-1933"><span class="linenos" data-linenos="1933 "></span></a><span class="sd">    sets the aux (chamber recirculation) fan speed target represented in percent</span>
</span><span id="__span-0-1934"><a id="__codelineno-0-1934" name="__codelineno-0-1934"></a><a href="#__codelineno-0-1934"><span class="linenos" data-linenos="1934 "></span></a>
</span><span id="__span-0-1935"><a id="__codelineno-0-1935" name="__codelineno-0-1935"></a><a href="#__codelineno-0-1935"><span class="linenos" data-linenos="1935 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1936"><a id="__codelineno-0-1936" name="__codelineno-0-1936"></a><a href="#__codelineno-0-1936"><span class="linenos" data-linenos="1936 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1937"><a id="__codelineno-0-1937" name="__codelineno-0-1937"></a><a href="#__codelineno-0-1937"><span class="linenos" data-linenos="1937 "></span></a><span class="sd">    * value : int - The target speed in percent</span>
</span><span id="__span-0-1938"><a id="__codelineno-0-1938" name="__codelineno-0-1938"></a><a href="#__codelineno-0-1938"><span class="linenos" data-linenos="1938 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1939"><a id="__codelineno-0-1939" name="__codelineno-0-1939"></a><a href="#__codelineno-0-1939"><span class="linenos" data-linenos="1939 "></span></a>    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-1940"><a id="__codelineno-0-1940" name="__codelineno-0-1940"></a><a href="#__codelineno-0-1940"><span class="linenos" data-linenos="1940 "></span></a>        <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1941"><a id="__codelineno-0-1941" name="__codelineno-0-1941"></a><a href="#__codelineno-0-1941"><span class="linenos" data-linenos="1941 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">climate</span><span class="o">.</span><span class="n">zone_aux_percent</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-1942"><a id="__codelineno-0-1942" name="__codelineno-0-1942"></a><a href="#__codelineno-0-1942"><span class="linenos" data-linenos="1942 "></span></a>    <span class="n">speed</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="mf">2.55</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-1943"><a id="__codelineno-0-1943" name="__codelineno-0-1943"></a><a href="#__codelineno-0-1943"><span class="linenos" data-linenos="1943 "></span></a>    <span class="n">gcode</span> <span class="o">=</span> <span class="n">SEND_GCODE_TEMPLATE</span>
</span><span id="__span-0-1944"><a id="__codelineno-0-1944" name="__codelineno-0-1944"></a><a href="#__codelineno-0-1944"><span class="linenos" data-linenos="1944 "></span></a>    <span class="n">gcode</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;M106 P2 S</span><span class="si">{</span><span class="n">speed</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1945"><a id="__codelineno-0-1945" name="__codelineno-0-1945"></a><a href="#__codelineno-0-1945"><span class="linenos" data-linenos="1945 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1946"><a id="__codelineno-0-1946" name="__codelineno-0-1946"></a><a href="#__codelineno-0-1946"><span class="linenos" data-linenos="1946 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gcode</span><span class="p">)</span>
</span><span id="__span-0-1947"><a id="__codelineno-0-1947" name="__codelineno-0-1947"></a><a href="#__codelineno-0-1947"><span class="linenos" data-linenos="1947 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1948"><a id="__codelineno-0-1948" name="__codelineno-0-1948"></a><a href="#__codelineno-0-1948"><span class="linenos" data-linenos="1948 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1949"><a id="__codelineno-0-1949" name="__codelineno-0-1949"></a><a href="#__codelineno-0-1949"><span class="linenos" data-linenos="1949 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_aux_fan_speed_target_percent - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1950"><a id="__codelineno-0-1950" name="__codelineno-0-1950"></a><a href="#__codelineno-0-1950"><span class="linenos" data-linenos="1950 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_bed_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_bed_temp_target</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_bed_temp_target</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_bed_temp_target(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sets the bed temperature target.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_bed_temp_target--parameters">Parameters</h5>
<ul>
<li>value : float - The target bed temperature.</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1728"><a id="__codelineno-0-1728" name="__codelineno-0-1728"></a><a href="#__codelineno-0-1728"><span class="linenos" data-linenos="1728 "></span></a><span class="k">def</span> <span class="nf">set_bed_temp_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-0-1729"><a id="__codelineno-0-1729" name="__codelineno-0-1729"></a><a href="#__codelineno-0-1729"><span class="linenos" data-linenos="1729 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1730"><a id="__codelineno-0-1730" name="__codelineno-0-1730"></a><a href="#__codelineno-0-1730"><span class="linenos" data-linenos="1730 "></span></a><span class="sd">    Sets the bed temperature target.</span>
</span><span id="__span-0-1731"><a id="__codelineno-0-1731" name="__codelineno-0-1731"></a><a href="#__codelineno-0-1731"><span class="linenos" data-linenos="1731 "></span></a>
</span><span id="__span-0-1732"><a id="__codelineno-0-1732" name="__codelineno-0-1732"></a><a href="#__codelineno-0-1732"><span class="linenos" data-linenos="1732 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1733"><a id="__codelineno-0-1733" name="__codelineno-0-1733"></a><a href="#__codelineno-0-1733"><span class="linenos" data-linenos="1733 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1734"><a id="__codelineno-0-1734" name="__codelineno-0-1734"></a><a href="#__codelineno-0-1734"><span class="linenos" data-linenos="1734 "></span></a><span class="sd">    * value : float - The target bed temperature.</span>
</span><span id="__span-0-1735"><a id="__codelineno-0-1735" name="__codelineno-0-1735"></a><a href="#__codelineno-0-1735"><span class="linenos" data-linenos="1735 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1736"><a id="__codelineno-0-1736" name="__codelineno-0-1736"></a><a href="#__codelineno-0-1736"><span class="linenos" data-linenos="1736 "></span></a>    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-1737"><a id="__codelineno-0-1737" name="__codelineno-0-1737"></a><a href="#__codelineno-0-1737"><span class="linenos" data-linenos="1737 "></span></a>        <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1738"><a id="__codelineno-0-1738" name="__codelineno-0-1738"></a><a href="#__codelineno-0-1738"><span class="linenos" data-linenos="1738 "></span></a>    <span class="n">gcode</span> <span class="o">=</span> <span class="n">SEND_GCODE_TEMPLATE</span>
</span><span id="__span-0-1739"><a id="__codelineno-0-1739" name="__codelineno-0-1739"></a><a href="#__codelineno-0-1739"><span class="linenos" data-linenos="1739 "></span></a>    <span class="n">gcode</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;M140 S</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1740"><a id="__codelineno-0-1740" name="__codelineno-0-1740"></a><a href="#__codelineno-0-1740"><span class="linenos" data-linenos="1740 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1741"><a id="__codelineno-0-1741" name="__codelineno-0-1741"></a><a href="#__codelineno-0-1741"><span class="linenos" data-linenos="1741 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gcode</span><span class="p">)</span>
</span><span id="__span-0-1742"><a id="__codelineno-0-1742" name="__codelineno-0-1742"></a><a href="#__codelineno-0-1742"><span class="linenos" data-linenos="1742 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1743"><a id="__codelineno-0-1743" name="__codelineno-0-1743"></a><a href="#__codelineno-0-1743"><span class="linenos" data-linenos="1743 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1744"><a id="__codelineno-0-1744" name="__codelineno-0-1744"></a><a href="#__codelineno-0-1744"><span class="linenos" data-linenos="1744 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_bed_temp_target - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1745"><a id="__codelineno-0-1745" name="__codelineno-0-1745"></a><a href="#__codelineno-0-1745"><span class="linenos" data-linenos="1745 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1746"><a id="__codelineno-0-1746" name="__codelineno-0-1746"></a><a href="#__codelineno-0-1746"><span class="linenos" data-linenos="1746 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_bed_temp_target_time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_buildplate_marker_detector" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_buildplate_marker_detector</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_buildplate_marker_detector</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_buildplate_marker_detector(enabled)">enabled</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Enables or disables the buildplate_marker_detector</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-899"><a id="__codelineno-0-899" name="__codelineno-0-899"></a><a href="#__codelineno-0-899"><span class="linenos" data-linenos="899 "></span></a><span class="k">def</span> <span class="nf">set_buildplate_marker_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="__span-0-900"><a id="__codelineno-0-900" name="__codelineno-0-900"></a><a href="#__codelineno-0-900"><span class="linenos" data-linenos="900 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-901"><a id="__codelineno-0-901" name="__codelineno-0-901"></a><a href="#__codelineno-0-901"><span class="linenos" data-linenos="901 "></span></a><span class="sd">    Enables or disables the buildplate_marker_detector</span>
</span><span id="__span-0-902"><a id="__codelineno-0-902" name="__codelineno-0-902"></a><a href="#__codelineno-0-902"><span class="linenos" data-linenos="902 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-903"><a id="__codelineno-0-903" name="__codelineno-0-903"></a><a href="#__codelineno-0-903"><span class="linenos" data-linenos="903 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">XCAM_CONTROL_SET</span><span class="p">)</span>
</span><span id="__span-0-904"><a id="__codelineno-0-904" name="__codelineno-0-904"></a><a href="#__codelineno-0-904"><span class="linenos" data-linenos="904 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;xcam&quot;</span><span class="p">][</span><span class="s2">&quot;control&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-905"><a id="__codelineno-0-905" name="__codelineno-0-905"></a><a href="#__codelineno-0-905"><span class="linenos" data-linenos="905 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;xcam&quot;</span><span class="p">][</span><span class="s2">&quot;enable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-906"><a id="__codelineno-0-906" name="__codelineno-0-906"></a><a href="#__codelineno-0-906"><span class="linenos" data-linenos="906 "></span></a>
</span><span id="__span-0-907"><a id="__codelineno-0-907" name="__codelineno-0-907"></a><a href="#__codelineno-0-907"><span class="linenos" data-linenos="907 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-908"><a id="__codelineno-0-908" name="__codelineno-0-908"></a><a href="#__codelineno-0-908"><span class="linenos" data-linenos="908 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-909"><a id="__codelineno-0-909" name="__codelineno-0-909"></a><a href="#__codelineno-0-909"><span class="linenos" data-linenos="909 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-910"><a id="__codelineno-0-910" name="__codelineno-0-910"></a><a href="#__codelineno-0-910"><span class="linenos" data-linenos="910 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-911"><a id="__codelineno-0-911" name="__codelineno-0-911"></a><a href="#__codelineno-0-911"><span class="linenos" data-linenos="911 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_buildplate_marker_detector - published XCAM_CONTROL_SET to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-912"><a id="__codelineno-0-912" name="__codelineno-0-912"></a><a href="#__codelineno-0-912"><span class="linenos" data-linenos="912 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_chamber_temp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_chamber_temp</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_chamber_temp</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_chamber_temp(value)">value</span></span><span class="p">:</span> <span class="n"><span title="float">float</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>for printers that do not have managed chambers, this enables you to inject
a chamber temperature value from an external source</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_chamber_temp--parameters">Parameters</h5>
<ul>
<li>value : float - The chamber temperature.</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1813"><a id="__codelineno-0-1813" name="__codelineno-0-1813"></a><a href="#__codelineno-0-1813"><span class="linenos" data-linenos="1813 "></span></a><span class="k">def</span> <span class="nf">set_chamber_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="__span-0-1814"><a id="__codelineno-0-1814" name="__codelineno-0-1814"></a><a href="#__codelineno-0-1814"><span class="linenos" data-linenos="1814 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1815"><a id="__codelineno-0-1815" name="__codelineno-0-1815"></a><a href="#__codelineno-0-1815"><span class="linenos" data-linenos="1815 "></span></a><span class="sd">    for printers that do not have managed chambers, this enables you to inject</span>
</span><span id="__span-0-1816"><a id="__codelineno-0-1816" name="__codelineno-0-1816"></a><a href="#__codelineno-0-1816"><span class="linenos" data-linenos="1816 "></span></a><span class="sd">    a chamber temperature value from an external source</span>
</span><span id="__span-0-1817"><a id="__codelineno-0-1817" name="__codelineno-0-1817"></a><a href="#__codelineno-0-1817"><span class="linenos" data-linenos="1817 "></span></a>
</span><span id="__span-0-1818"><a id="__codelineno-0-1818" name="__codelineno-0-1818"></a><a href="#__codelineno-0-1818"><span class="linenos" data-linenos="1818 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1819"><a id="__codelineno-0-1819" name="__codelineno-0-1819"></a><a href="#__codelineno-0-1819"><span class="linenos" data-linenos="1819 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1820"><a id="__codelineno-0-1820" name="__codelineno-0-1820"></a><a href="#__codelineno-0-1820"><span class="linenos" data-linenos="1820 "></span></a><span class="sd">    * value : float - The chamber temperature.</span>
</span><span id="__span-0-1821"><a id="__codelineno-0-1821" name="__codelineno-0-1821"></a><a href="#__codelineno-0-1821"><span class="linenos" data-linenos="1821 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1822"><a id="__codelineno-0-1822" name="__codelineno-0-1822"></a><a href="#__codelineno-0-1822"><span class="linenos" data-linenos="1822 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">climate</span><span class="o">.</span><span class="n">chamber_temp</span> <span class="o">=</span> <span class="n">value</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_chamber_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_chamber_temp_target</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_chamber_temp_target</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_chamber_temp_target(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_chamber_temp_target(temper_check)">temper_check</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>set chamber temperature target if printer supports it, otherwise just
store the value</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_chamber_temp_target--parameters">Parameters</h5>
<ul>
<li>value : float - The target chamber temperature.</li>
<li>temper_check : OPTIONAL bool - perform a temperature check?</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1841"><a id="__codelineno-0-1841" name="__codelineno-0-1841"></a><a href="#__codelineno-0-1841"><span class="linenos" data-linenos="1841 "></span></a><span class="k">def</span> <span class="nf">set_chamber_temp_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">temper_check</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="__span-0-1842"><a id="__codelineno-0-1842" name="__codelineno-0-1842"></a><a href="#__codelineno-0-1842"><span class="linenos" data-linenos="1842 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1843"><a id="__codelineno-0-1843" name="__codelineno-0-1843"></a><a href="#__codelineno-0-1843"><span class="linenos" data-linenos="1843 "></span></a><span class="sd">    set chamber temperature target if printer supports it, otherwise just</span>
</span><span id="__span-0-1844"><a id="__codelineno-0-1844" name="__codelineno-0-1844"></a><a href="#__codelineno-0-1844"><span class="linenos" data-linenos="1844 "></span></a><span class="sd">    store the value</span>
</span><span id="__span-0-1845"><a id="__codelineno-0-1845" name="__codelineno-0-1845"></a><a href="#__codelineno-0-1845"><span class="linenos" data-linenos="1845 "></span></a>
</span><span id="__span-0-1846"><a id="__codelineno-0-1846" name="__codelineno-0-1846"></a><a href="#__codelineno-0-1846"><span class="linenos" data-linenos="1846 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1847"><a id="__codelineno-0-1847" name="__codelineno-0-1847"></a><a href="#__codelineno-0-1847"><span class="linenos" data-linenos="1847 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1848"><a id="__codelineno-0-1848" name="__codelineno-0-1848"></a><a href="#__codelineno-0-1848"><span class="linenos" data-linenos="1848 "></span></a><span class="sd">    * value : float - The target chamber temperature.</span>
</span><span id="__span-0-1849"><a id="__codelineno-0-1849" name="__codelineno-0-1849"></a><a href="#__codelineno-0-1849"><span class="linenos" data-linenos="1849 "></span></a><span class="sd">    * temper_check : OPTIONAL bool - perform a temperature check?</span>
</span><span id="__span-0-1850"><a id="__codelineno-0-1850" name="__codelineno-0-1850"></a><a href="#__codelineno-0-1850"><span class="linenos" data-linenos="1850 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1851"><a id="__codelineno-0-1851" name="__codelineno-0-1851"></a><a href="#__codelineno-0-1851"><span class="linenos" data-linenos="1851 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SET_CHAMBER_AC_MODE</span><span class="p">)</span>
</span><span id="__span-0-1852"><a id="__codelineno-0-1852" name="__codelineno-0-1852"></a><a href="#__codelineno-0-1852"><span class="linenos" data-linenos="1852 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">printer_state</span><span class="o">.</span><span class="n">capabilities</span><span class="o">.</span><span class="n">has_chamber_temp</span><span class="p">:</span>
</span><span id="__span-0-1853"><a id="__codelineno-0-1853" name="__codelineno-0-1853"></a><a href="#__codelineno-0-1853"><span class="linenos" data-linenos="1853 "></span></a>        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">:</span>
</span><span id="__span-0-1854"><a id="__codelineno-0-1854" name="__codelineno-0-1854"></a><a href="#__codelineno-0-1854"><span class="linenos" data-linenos="1854 "></span></a>            <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;modeId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1855"><a id="__codelineno-0-1855" name="__codelineno-0-1855"></a><a href="#__codelineno-0-1855"><span class="linenos" data-linenos="1855 "></span></a>            <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1856"><a id="__codelineno-0-1856" name="__codelineno-0-1856"></a><a href="#__codelineno-0-1856"><span class="linenos" data-linenos="1856 "></span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-1857"><a id="__codelineno-0-1857" name="__codelineno-0-1857"></a><a href="#__codelineno-0-1857"><span class="linenos" data-linenos="1857 "></span></a>            <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;modeId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-0-1858"><a id="__codelineno-0-1858" name="__codelineno-0-1858"></a><a href="#__codelineno-0-1858"><span class="linenos" data-linenos="1858 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1859"><a id="__codelineno-0-1859" name="__codelineno-0-1859"></a><a href="#__codelineno-0-1859"><span class="linenos" data-linenos="1859 "></span></a>            <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-1860"><a id="__codelineno-0-1860" name="__codelineno-0-1860"></a><a href="#__codelineno-0-1860"><span class="linenos" data-linenos="1860 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1861"><a id="__codelineno-0-1861" name="__codelineno-0-1861"></a><a href="#__codelineno-0-1861"><span class="linenos" data-linenos="1861 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1862"><a id="__codelineno-0-1862" name="__codelineno-0-1862"></a><a href="#__codelineno-0-1862"><span class="linenos" data-linenos="1862 "></span></a>            <span class="sa">f</span><span class="s2">&quot;set_chamber_temp_target - published SET_CHAMBER_AC_MODE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1863"><a id="__codelineno-0-1863" name="__codelineno-0-1863"></a><a href="#__codelineno-0-1863"><span class="linenos" data-linenos="1863 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1864"><a id="__codelineno-0-1864" name="__codelineno-0-1864"></a><a href="#__codelineno-0-1864"><span class="linenos" data-linenos="1864 "></span></a>
</span><span id="__span-0-1865"><a id="__codelineno-0-1865" name="__codelineno-0-1865"></a><a href="#__codelineno-0-1865"><span class="linenos" data-linenos="1865 "></span></a>        <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SET_CHAMBER_TEMP_TARGET</span><span class="p">)</span>
</span><span id="__span-0-1866"><a id="__codelineno-0-1866" name="__codelineno-0-1866"></a><a href="#__codelineno-0-1866"><span class="linenos" data-linenos="1866 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ctt_val&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-1867"><a id="__codelineno-0-1867" name="__codelineno-0-1867"></a><a href="#__codelineno-0-1867"><span class="linenos" data-linenos="1867 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;temper_check&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temper_check</span>
</span><span id="__span-0-1868"><a id="__codelineno-0-1868" name="__codelineno-0-1868"></a><a href="#__codelineno-0-1868"><span class="linenos" data-linenos="1868 "></span></a>
</span><span id="__span-0-1869"><a id="__codelineno-0-1869" name="__codelineno-0-1869"></a><a href="#__codelineno-0-1869"><span class="linenos" data-linenos="1869 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1870"><a id="__codelineno-0-1870" name="__codelineno-0-1870"></a><a href="#__codelineno-0-1870"><span class="linenos" data-linenos="1870 "></span></a>            <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-1871"><a id="__codelineno-0-1871" name="__codelineno-0-1871"></a><a href="#__codelineno-0-1871"><span class="linenos" data-linenos="1871 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1872"><a id="__codelineno-0-1872" name="__codelineno-0-1872"></a><a href="#__codelineno-0-1872"><span class="linenos" data-linenos="1872 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1873"><a id="__codelineno-0-1873" name="__codelineno-0-1873"></a><a href="#__codelineno-0-1873"><span class="linenos" data-linenos="1873 "></span></a>            <span class="sa">f</span><span class="s2">&quot;set_chamber_temp_target - published SET_CHAMBER_TEMP_TARGET to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1874"><a id="__codelineno-0-1874" name="__codelineno-0-1874"></a><a href="#__codelineno-0-1874"><span class="linenos" data-linenos="1874 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-1875"><a id="__codelineno-0-1875" name="__codelineno-0-1875"></a><a href="#__codelineno-0-1875"><span class="linenos" data-linenos="1875 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">climate</span><span class="o">.</span><span class="n">chamber_temp_target</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-1876"><a id="__codelineno-0-1876" name="__codelineno-0-1876"></a><a href="#__codelineno-0-1876"><span class="linenos" data-linenos="1876 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_chamber_temp_target_time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_exhaust_fan_speed_target_percent</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_exhaust_fan_speed_target_percent</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>sets the exhaust (chamber) fan speed target represented in percent</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_exhaust_fan_speed_target_percent--parameters">Parameters</h5>
<ul>
<li>value : int - The target speed in percent</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1953"><a id="__codelineno-0-1953" name="__codelineno-0-1953"></a><a href="#__codelineno-0-1953"><span class="linenos" data-linenos="1953 "></span></a><span class="k">def</span> <span class="nf">set_exhaust_fan_speed_target_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-0-1954"><a id="__codelineno-0-1954" name="__codelineno-0-1954"></a><a href="#__codelineno-0-1954"><span class="linenos" data-linenos="1954 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1955"><a id="__codelineno-0-1955" name="__codelineno-0-1955"></a><a href="#__codelineno-0-1955"><span class="linenos" data-linenos="1955 "></span></a><span class="sd">    sets the exhaust (chamber) fan speed target represented in percent</span>
</span><span id="__span-0-1956"><a id="__codelineno-0-1956" name="__codelineno-0-1956"></a><a href="#__codelineno-0-1956"><span class="linenos" data-linenos="1956 "></span></a>
</span><span id="__span-0-1957"><a id="__codelineno-0-1957" name="__codelineno-0-1957"></a><a href="#__codelineno-0-1957"><span class="linenos" data-linenos="1957 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1958"><a id="__codelineno-0-1958" name="__codelineno-0-1958"></a><a href="#__codelineno-0-1958"><span class="linenos" data-linenos="1958 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1959"><a id="__codelineno-0-1959" name="__codelineno-0-1959"></a><a href="#__codelineno-0-1959"><span class="linenos" data-linenos="1959 "></span></a><span class="sd">    * value : int - The target speed in percent</span>
</span><span id="__span-0-1960"><a id="__codelineno-0-1960" name="__codelineno-0-1960"></a><a href="#__codelineno-0-1960"><span class="linenos" data-linenos="1960 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1961"><a id="__codelineno-0-1961" name="__codelineno-0-1961"></a><a href="#__codelineno-0-1961"><span class="linenos" data-linenos="1961 "></span></a>    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-1962"><a id="__codelineno-0-1962" name="__codelineno-0-1962"></a><a href="#__codelineno-0-1962"><span class="linenos" data-linenos="1962 "></span></a>        <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1963"><a id="__codelineno-0-1963" name="__codelineno-0-1963"></a><a href="#__codelineno-0-1963"><span class="linenos" data-linenos="1963 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">climate</span><span class="o">.</span><span class="n">zone_exhaust_percent</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-1964"><a id="__codelineno-0-1964" name="__codelineno-0-1964"></a><a href="#__codelineno-0-1964"><span class="linenos" data-linenos="1964 "></span></a>    <span class="n">speed</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="mf">2.55</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-1965"><a id="__codelineno-0-1965" name="__codelineno-0-1965"></a><a href="#__codelineno-0-1965"><span class="linenos" data-linenos="1965 "></span></a>    <span class="n">gcode</span> <span class="o">=</span> <span class="n">SEND_GCODE_TEMPLATE</span>
</span><span id="__span-0-1966"><a id="__codelineno-0-1966" name="__codelineno-0-1966"></a><a href="#__codelineno-0-1966"><span class="linenos" data-linenos="1966 "></span></a>    <span class="n">gcode</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;M106 P3 S</span><span class="si">{</span><span class="n">speed</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1967"><a id="__codelineno-0-1967" name="__codelineno-0-1967"></a><a href="#__codelineno-0-1967"><span class="linenos" data-linenos="1967 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1968"><a id="__codelineno-0-1968" name="__codelineno-0-1968"></a><a href="#__codelineno-0-1968"><span class="linenos" data-linenos="1968 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gcode</span><span class="p">)</span>
</span><span id="__span-0-1969"><a id="__codelineno-0-1969" name="__codelineno-0-1969"></a><a href="#__codelineno-0-1969"><span class="linenos" data-linenos="1969 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1970"><a id="__codelineno-0-1970" name="__codelineno-0-1970"></a><a href="#__codelineno-0-1970"><span class="linenos" data-linenos="1970 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1971"><a id="__codelineno-0-1971" name="__codelineno-0-1971"></a><a href="#__codelineno-0-1971"><span class="linenos" data-linenos="1971 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_exhaust_fan_speed_target_percent - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1972"><a id="__codelineno-0-1972" name="__codelineno-0-1972"></a><a href="#__codelineno-0-1972"><span class="linenos" data-linenos="1972 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_nozzle_details" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_nozzle_details</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_nozzle_details</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_nozzle_details(nozzle_diameter)">nozzle_diameter</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            NozzleDiameter (bpm.bambutools.NozzleDiameter)" href="../bambutools/#bpm.bambutools.NozzleDiameter">NozzleDiameter</a></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_nozzle_details(nozzle_type)">nozzle_type</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            NozzleType (bpm.bambutools.NozzleType)" href="../bambutools/#bpm.bambutools.NozzleType">NozzleType</a></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sets the nozzle details.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-914"><a id="__codelineno-0-914" name="__codelineno-0-914"></a><a href="#__codelineno-0-914"><span class="linenos" data-linenos="914 "></span></a><span class="k">def</span> <span class="nf">set_nozzle_details</span><span class="p">(</span>
</span><span id="__span-0-915"><a id="__codelineno-0-915" name="__codelineno-0-915"></a><a href="#__codelineno-0-915"><span class="linenos" data-linenos="915 "></span></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">nozzle_diameter</span><span class="p">:</span> <span class="n">NozzleDiameter</span><span class="p">,</span> <span class="n">nozzle_type</span><span class="p">:</span> <span class="n">NozzleType</span>
</span><span id="__span-0-916"><a id="__codelineno-0-916" name="__codelineno-0-916"></a><a href="#__codelineno-0-916"><span class="linenos" data-linenos="916 "></span></a><span class="p">):</span>
</span><span id="__span-0-917"><a id="__codelineno-0-917" name="__codelineno-0-917"></a><a href="#__codelineno-0-917"><span class="linenos" data-linenos="917 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-918"><a id="__codelineno-0-918" name="__codelineno-0-918"></a><a href="#__codelineno-0-918"><span class="linenos" data-linenos="918 "></span></a><span class="sd">    Sets the nozzle details.</span>
</span><span id="__span-0-919"><a id="__codelineno-0-919" name="__codelineno-0-919"></a><a href="#__codelineno-0-919"><span class="linenos" data-linenos="919 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-920"><a id="__codelineno-0-920" name="__codelineno-0-920"></a><a href="#__codelineno-0-920"><span class="linenos" data-linenos="920 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SET_ACCESSORIES</span><span class="p">)</span>
</span><span id="__span-0-921"><a id="__codelineno-0-921" name="__codelineno-0-921"></a><a href="#__codelineno-0-921"><span class="linenos" data-linenos="921 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;system&quot;</span><span class="p">][</span><span class="s2">&quot;nozzle_diameter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nozzle_diameter</span><span class="o">.</span><span class="n">value</span>
</span><span id="__span-0-922"><a id="__codelineno-0-922" name="__codelineno-0-922"></a><a href="#__codelineno-0-922"><span class="linenos" data-linenos="922 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;system&quot;</span><span class="p">][</span><span class="s2">&quot;nozzle_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nozzle_type</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-0-923"><a id="__codelineno-0-923" name="__codelineno-0-923"></a><a href="#__codelineno-0-923"><span class="linenos" data-linenos="923 "></span></a>
</span><span id="__span-0-924"><a id="__codelineno-0-924" name="__codelineno-0-924"></a><a href="#__codelineno-0-924"><span class="linenos" data-linenos="924 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-925"><a id="__codelineno-0-925" name="__codelineno-0-925"></a><a href="#__codelineno-0-925"><span class="linenos" data-linenos="925 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-926"><a id="__codelineno-0-926" name="__codelineno-0-926"></a><a href="#__codelineno-0-926"><span class="linenos" data-linenos="926 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-927"><a id="__codelineno-0-927" name="__codelineno-0-927"></a><a href="#__codelineno-0-927"><span class="linenos" data-linenos="927 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-928"><a id="__codelineno-0-928" name="__codelineno-0-928"></a><a href="#__codelineno-0-928"><span class="linenos" data-linenos="928 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_nozzle_details - published SET_ACCESSORIES to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-929"><a id="__codelineno-0-929" name="__codelineno-0-929"></a><a href="#__codelineno-0-929"><span class="linenos" data-linenos="929 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_nozzle_temp_target</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_nozzle_temp_target</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target(tool_num)">tool_num</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sets the nozzle temperature target.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_nozzle_temp_target--parameters">Parameters</h5>
<ul>
<li>value : float - The target nozzle temperature.</li>
<li>tool_num : int - The tool number (default is 0).</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1775"><a id="__codelineno-0-1775" name="__codelineno-0-1775"></a><a href="#__codelineno-0-1775"><span class="linenos" data-linenos="1775 "></span></a><span class="k">def</span> <span class="nf">set_nozzle_temp_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tool_num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-0-1776"><a id="__codelineno-0-1776" name="__codelineno-0-1776"></a><a href="#__codelineno-0-1776"><span class="linenos" data-linenos="1776 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1777"><a id="__codelineno-0-1777" name="__codelineno-0-1777"></a><a href="#__codelineno-0-1777"><span class="linenos" data-linenos="1777 "></span></a><span class="sd">    Sets the nozzle temperature target.</span>
</span><span id="__span-0-1778"><a id="__codelineno-0-1778" name="__codelineno-0-1778"></a><a href="#__codelineno-0-1778"><span class="linenos" data-linenos="1778 "></span></a>
</span><span id="__span-0-1779"><a id="__codelineno-0-1779" name="__codelineno-0-1779"></a><a href="#__codelineno-0-1779"><span class="linenos" data-linenos="1779 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1780"><a id="__codelineno-0-1780" name="__codelineno-0-1780"></a><a href="#__codelineno-0-1780"><span class="linenos" data-linenos="1780 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1781"><a id="__codelineno-0-1781" name="__codelineno-0-1781"></a><a href="#__codelineno-0-1781"><span class="linenos" data-linenos="1781 "></span></a><span class="sd">    * value : float - The target nozzle temperature.</span>
</span><span id="__span-0-1782"><a id="__codelineno-0-1782" name="__codelineno-0-1782"></a><a href="#__codelineno-0-1782"><span class="linenos" data-linenos="1782 "></span></a><span class="sd">    * tool_num : int - The tool number (default is 0).</span>
</span><span id="__span-0-1783"><a id="__codelineno-0-1783" name="__codelineno-0-1783"></a><a href="#__codelineno-0-1783"><span class="linenos" data-linenos="1783 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1784"><a id="__codelineno-0-1784" name="__codelineno-0-1784"></a><a href="#__codelineno-0-1784"><span class="linenos" data-linenos="1784 "></span></a>    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-1785"><a id="__codelineno-0-1785" name="__codelineno-0-1785"></a><a href="#__codelineno-0-1785"><span class="linenos" data-linenos="1785 "></span></a>        <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1786"><a id="__codelineno-0-1786" name="__codelineno-0-1786"></a><a href="#__codelineno-0-1786"><span class="linenos" data-linenos="1786 "></span></a>    <span class="n">gcode</span> <span class="o">=</span> <span class="n">SEND_GCODE_TEMPLATE</span>
</span><span id="__span-0-1787"><a id="__codelineno-0-1787" name="__codelineno-0-1787"></a><a href="#__codelineno-0-1787"><span class="linenos" data-linenos="1787 "></span></a>    <span class="n">gcode</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-0-1788"><a id="__codelineno-0-1788" name="__codelineno-0-1788"></a><a href="#__codelineno-0-1788"><span class="linenos" data-linenos="1788 "></span></a>        <span class="sa">f</span><span class="s2">&quot;M104 S</span><span class="si">{</span><span class="n">value</span><span class="si">}{</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">tool_num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39; T&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">str</span><span class="p">(</span><span class="n">tool_num</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1789"><a id="__codelineno-0-1789" name="__codelineno-0-1789"></a><a href="#__codelineno-0-1789"><span class="linenos" data-linenos="1789 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1790"><a id="__codelineno-0-1790" name="__codelineno-0-1790"></a><a href="#__codelineno-0-1790"><span class="linenos" data-linenos="1790 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1791"><a id="__codelineno-0-1791" name="__codelineno-0-1791"></a><a href="#__codelineno-0-1791"><span class="linenos" data-linenos="1791 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gcode</span><span class="p">)</span>
</span><span id="__span-0-1792"><a id="__codelineno-0-1792" name="__codelineno-0-1792"></a><a href="#__codelineno-0-1792"><span class="linenos" data-linenos="1792 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1793"><a id="__codelineno-0-1793" name="__codelineno-0-1793"></a><a href="#__codelineno-0-1793"><span class="linenos" data-linenos="1793 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1794"><a id="__codelineno-0-1794" name="__codelineno-0-1794"></a><a href="#__codelineno-0-1794"><span class="linenos" data-linenos="1794 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_nozzle_temp_target - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1795"><a id="__codelineno-0-1795" name="__codelineno-0-1795"></a><a href="#__codelineno-0-1795"><span class="linenos" data-linenos="1795 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1796"><a id="__codelineno-0-1796" name="__codelineno-0-1796"></a><a href="#__codelineno-0-1796"><span class="linenos" data-linenos="1796 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_tool_temp_target_time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_part_cooling_fan_speed_target_percent</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_part_cooling_fan_speed_target_percent</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent(value)">value</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>sets the part cooling fan speed target represented in percent</p>
<h5 id="bpm.bambuprinter.BambuPrinter.set_part_cooling_fan_speed_target_percent--parameters">Parameters</h5>
<ul>
<li>value : int - The target speed in percent</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1909"><a id="__codelineno-0-1909" name="__codelineno-0-1909"></a><a href="#__codelineno-0-1909"><span class="linenos" data-linenos="1909 "></span></a><span class="k">def</span> <span class="nf">set_part_cooling_fan_speed_target_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-0-1910"><a id="__codelineno-0-1910" name="__codelineno-0-1910"></a><a href="#__codelineno-0-1910"><span class="linenos" data-linenos="1910 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1911"><a id="__codelineno-0-1911" name="__codelineno-0-1911"></a><a href="#__codelineno-0-1911"><span class="linenos" data-linenos="1911 "></span></a><span class="sd">    sets the part cooling fan speed target represented in percent</span>
</span><span id="__span-0-1912"><a id="__codelineno-0-1912" name="__codelineno-0-1912"></a><a href="#__codelineno-0-1912"><span class="linenos" data-linenos="1912 "></span></a>
</span><span id="__span-0-1913"><a id="__codelineno-0-1913" name="__codelineno-0-1913"></a><a href="#__codelineno-0-1913"><span class="linenos" data-linenos="1913 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-1914"><a id="__codelineno-0-1914" name="__codelineno-0-1914"></a><a href="#__codelineno-0-1914"><span class="linenos" data-linenos="1914 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-1915"><a id="__codelineno-0-1915" name="__codelineno-0-1915"></a><a href="#__codelineno-0-1915"><span class="linenos" data-linenos="1915 "></span></a><span class="sd">    * value : int - The target speed in percent</span>
</span><span id="__span-0-1916"><a id="__codelineno-0-1916" name="__codelineno-0-1916"></a><a href="#__codelineno-0-1916"><span class="linenos" data-linenos="1916 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1917"><a id="__codelineno-0-1917" name="__codelineno-0-1917"></a><a href="#__codelineno-0-1917"><span class="linenos" data-linenos="1917 "></span></a>    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-1918"><a id="__codelineno-0-1918" name="__codelineno-0-1918"></a><a href="#__codelineno-0-1918"><span class="linenos" data-linenos="1918 "></span></a>        <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1919"><a id="__codelineno-0-1919" name="__codelineno-0-1919"></a><a href="#__codelineno-0-1919"><span class="linenos" data-linenos="1919 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">climate</span><span class="o">.</span><span class="n">part_cooling_fan_speed_target_percent</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-1920"><a id="__codelineno-0-1920" name="__codelineno-0-1920"></a><a href="#__codelineno-0-1920"><span class="linenos" data-linenos="1920 "></span></a>    <span class="n">speed</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="mf">2.55</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-1921"><a id="__codelineno-0-1921" name="__codelineno-0-1921"></a><a href="#__codelineno-0-1921"><span class="linenos" data-linenos="1921 "></span></a>    <span class="n">gcode</span> <span class="o">=</span> <span class="n">SEND_GCODE_TEMPLATE</span>
</span><span id="__span-0-1922"><a id="__codelineno-0-1922" name="__codelineno-0-1922"></a><a href="#__codelineno-0-1922"><span class="linenos" data-linenos="1922 "></span></a>    <span class="n">gcode</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;M106 P1 S</span><span class="si">{</span><span class="n">speed</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1923"><a id="__codelineno-0-1923" name="__codelineno-0-1923"></a><a href="#__codelineno-0-1923"><span class="linenos" data-linenos="1923 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-1924"><a id="__codelineno-0-1924" name="__codelineno-0-1924"></a><a href="#__codelineno-0-1924"><span class="linenos" data-linenos="1924 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gcode</span><span class="p">)</span>
</span><span id="__span-0-1925"><a id="__codelineno-0-1925" name="__codelineno-0-1925"></a><a href="#__codelineno-0-1925"><span class="linenos" data-linenos="1925 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1926"><a id="__codelineno-0-1926" name="__codelineno-0-1926"></a><a href="#__codelineno-0-1926"><span class="linenos" data-linenos="1926 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1927"><a id="__codelineno-0-1927" name="__codelineno-0-1927"></a><a href="#__codelineno-0-1927"><span class="linenos" data-linenos="1927 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_part_cooling_fan_speed_target_percent - published SEND_GCODE_TEMPLATE to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">gcode</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1928"><a id="__codelineno-0-1928" name="__codelineno-0-1928"></a><a href="#__codelineno-0-1928"><span class="linenos" data-linenos="1928 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-1929"><a id="__codelineno-0-1929" name="__codelineno-0-1929"></a><a href="#__codelineno-0-1929"><span class="linenos" data-linenos="1929 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_fan_speed_target_time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_print_option" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_print_option</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_print_option</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_print_option(option)">option</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            PrintOption (bpm.bambutools.PrintOption)" href="../bambutools/#bpm.bambutools.PrintOption">PrintOption</a></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_print_option(enabled)">enabled</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Enable or disable one of the <code>PrintOption</code> options</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-704"><a id="__codelineno-0-704" name="__codelineno-0-704"></a><a href="#__codelineno-0-704"><span class="linenos" data-linenos="704 "></span></a><span class="k">def</span> <span class="nf">set_print_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">PrintOption</span><span class="p">,</span> <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="__span-0-705"><a id="__codelineno-0-705" name="__codelineno-0-705"></a><a href="#__codelineno-0-705"><span class="linenos" data-linenos="705 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-706"><a id="__codelineno-0-706" name="__codelineno-0-706"></a><a href="#__codelineno-0-706"><span class="linenos" data-linenos="706 "></span></a><span class="sd">    Enable or disable one of the `PrintOption` options</span>
</span><span id="__span-0-707"><a id="__codelineno-0-707" name="__codelineno-0-707"></a><a href="#__codelineno-0-707"><span class="linenos" data-linenos="707 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-708"><a id="__codelineno-0-708" name="__codelineno-0-708"></a><a href="#__codelineno-0-708"><span class="linenos" data-linenos="708 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">PRINT_OPTION_COMMAND</span>
</span><span id="__span-0-709"><a id="__codelineno-0-709" name="__codelineno-0-709"></a><a href="#__codelineno-0-709"><span class="linenos" data-linenos="709 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="n">enabled</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span>
</span><span id="__span-0-710"><a id="__codelineno-0-710" name="__codelineno-0-710"></a><a href="#__codelineno-0-710"><span class="linenos" data-linenos="710 "></span></a>
</span><span id="__span-0-711"><a id="__codelineno-0-711" name="__codelineno-0-711"></a><a href="#__codelineno-0-711"><span class="linenos" data-linenos="711 "></span></a>    <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="n">PrintOption</span><span class="o">.</span><span class="n">AUTO_RECOVERY</span><span class="p">:</span>
</span><span id="__span-0-712"><a id="__codelineno-0-712" name="__codelineno-0-712"></a><a href="#__codelineno-0-712"><span class="linenos" data-linenos="712 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="n">enabled</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>
</span><span id="__span-0-713"><a id="__codelineno-0-713" name="__codelineno-0-713"></a><a href="#__codelineno-0-713"><span class="linenos" data-linenos="713 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">auto_recovery</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-714"><a id="__codelineno-0-714" name="__codelineno-0-714"></a><a href="#__codelineno-0-714"><span class="linenos" data-linenos="714 "></span></a>    <span class="k">elif</span> <span class="n">option</span> <span class="o">==</span> <span class="n">PrintOption</span><span class="o">.</span><span class="n">AUTO_SWITCH_FILAMENT</span><span class="p">:</span>
</span><span id="__span-0-715"><a id="__codelineno-0-715" name="__codelineno-0-715"></a><a href="#__codelineno-0-715"><span class="linenos" data-linenos="715 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">auto_switch_filament</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-716"><a id="__codelineno-0-716" name="__codelineno-0-716"></a><a href="#__codelineno-0-716"><span class="linenos" data-linenos="716 "></span></a>    <span class="k">elif</span> <span class="n">option</span> <span class="o">==</span> <span class="n">PrintOption</span><span class="o">.</span><span class="n">FILAMENT_TANGLE_DETECT</span><span class="p">:</span>
</span><span id="__span-0-717"><a id="__codelineno-0-717" name="__codelineno-0-717"></a><a href="#__codelineno-0-717"><span class="linenos" data-linenos="717 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">filament_tangle_detect</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-718"><a id="__codelineno-0-718" name="__codelineno-0-718"></a><a href="#__codelineno-0-718"><span class="linenos" data-linenos="718 "></span></a>    <span class="k">elif</span> <span class="n">option</span> <span class="o">==</span> <span class="n">PrintOption</span><span class="o">.</span><span class="n">SOUND_ENABLE</span><span class="p">:</span>
</span><span id="__span-0-719"><a id="__codelineno-0-719" name="__codelineno-0-719"></a><a href="#__codelineno-0-719"><span class="linenos" data-linenos="719 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">sound_enable</span> <span class="o">=</span> <span class="n">enabled</span>
</span><span id="__span-0-720"><a id="__codelineno-0-720" name="__codelineno-0-720"></a><a href="#__codelineno-0-720"><span class="linenos" data-linenos="720 "></span></a>
</span><span id="__span-0-721"><a id="__codelineno-0-721" name="__codelineno-0-721"></a><a href="#__codelineno-0-721"><span class="linenos" data-linenos="721 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-722"><a id="__codelineno-0-722" name="__codelineno-0-722"></a><a href="#__codelineno-0-722"><span class="linenos" data-linenos="722 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-723"><a id="__codelineno-0-723" name="__codelineno-0-723"></a><a href="#__codelineno-0-723"><span class="linenos" data-linenos="723 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-724"><a id="__codelineno-0-724" name="__codelineno-0-724"></a><a href="#__codelineno-0-724"><span class="linenos" data-linenos="724 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-725"><a id="__codelineno-0-725" name="__codelineno-0-725"></a><a href="#__codelineno-0-725"><span class="linenos" data-linenos="725 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_print_option - published PRINT_OPTION_COMMAND to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-726"><a id="__codelineno-0-726" name="__codelineno-0-726"></a><a href="#__codelineno-0-726"><span class="linenos" data-linenos="726 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_spool_details" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_spool_details</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_spool_details</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(tray_id)">tray_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(tray_info_idx)">tray_info_idx</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(tray_id_name)">tray_id_name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(tray_type)">tray_type</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(tray_color)">tray_color</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(nozzle_temp_min)">nozzle_temp_min</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(nozzle_temp_max)">nozzle_temp_max</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_details(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sets spool / tray details such as filament type, color, and nozzle min/max temperature.
For the external tray (254), send <code>no_filament</code> as the <code>tray_info_idx</code> value to empty the tray.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-802"><a id="__codelineno-0-802" name="__codelineno-0-802"></a><a href="#__codelineno-0-802"><span class="linenos" data-linenos="802 "></span></a><span class="k">def</span> <span class="nf">set_spool_details</span><span class="p">(</span>
</span><span id="__span-0-803"><a id="__codelineno-0-803" name="__codelineno-0-803"></a><a href="#__codelineno-0-803"><span class="linenos" data-linenos="803 "></span></a>    <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-0-804"><a id="__codelineno-0-804" name="__codelineno-0-804"></a><a href="#__codelineno-0-804"><span class="linenos" data-linenos="804 "></span></a>    <span class="n">tray_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-0-805"><a id="__codelineno-0-805" name="__codelineno-0-805"></a><a href="#__codelineno-0-805"><span class="linenos" data-linenos="805 "></span></a>    <span class="n">tray_info_idx</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-0-806"><a id="__codelineno-0-806" name="__codelineno-0-806"></a><a href="#__codelineno-0-806"><span class="linenos" data-linenos="806 "></span></a>    <span class="n">tray_id_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-807"><a id="__codelineno-0-807" name="__codelineno-0-807"></a><a href="#__codelineno-0-807"><span class="linenos" data-linenos="807 "></span></a>    <span class="n">tray_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-808"><a id="__codelineno-0-808" name="__codelineno-0-808"></a><a href="#__codelineno-0-808"><span class="linenos" data-linenos="808 "></span></a>    <span class="n">tray_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-809"><a id="__codelineno-0-809" name="__codelineno-0-809"></a><a href="#__codelineno-0-809"><span class="linenos" data-linenos="809 "></span></a>    <span class="n">nozzle_temp_min</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-810"><a id="__codelineno-0-810" name="__codelineno-0-810"></a><a href="#__codelineno-0-810"><span class="linenos" data-linenos="810 "></span></a>    <span class="n">nozzle_temp_max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-811"><a id="__codelineno-0-811" name="__codelineno-0-811"></a><a href="#__codelineno-0-811"><span class="linenos" data-linenos="811 "></span></a>    <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-812"><a id="__codelineno-0-812" name="__codelineno-0-812"></a><a href="#__codelineno-0-812"><span class="linenos" data-linenos="812 "></span></a><span class="p">):</span>
</span><span id="__span-0-813"><a id="__codelineno-0-813" name="__codelineno-0-813"></a><a href="#__codelineno-0-813"><span class="linenos" data-linenos="813 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-814"><a id="__codelineno-0-814" name="__codelineno-0-814"></a><a href="#__codelineno-0-814"><span class="linenos" data-linenos="814 "></span></a><span class="sd">    Sets spool / tray details such as filament type, color, and nozzle min/max temperature.</span>
</span><span id="__span-0-815"><a id="__codelineno-0-815" name="__codelineno-0-815"></a><a href="#__codelineno-0-815"><span class="linenos" data-linenos="815 "></span></a><span class="sd">    For the external tray (254), send `no_filament` as the `tray_info_idx` value to empty the tray.</span>
</span><span id="__span-0-816"><a id="__codelineno-0-816" name="__codelineno-0-816"></a><a href="#__codelineno-0-816"><span class="linenos" data-linenos="816 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-817"><a id="__codelineno-0-817" name="__codelineno-0-817"></a><a href="#__codelineno-0-817"><span class="linenos" data-linenos="817 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_FILAMENT_SETTING</span><span class="p">)</span>
</span><span id="__span-0-818"><a id="__codelineno-0-818" name="__codelineno-0-818"></a><a href="#__codelineno-0-818"><span class="linenos" data-linenos="818 "></span></a>
</span><span id="__span-0-819"><a id="__codelineno-0-819" name="__codelineno-0-819"></a><a href="#__codelineno-0-819"><span class="linenos" data-linenos="819 "></span></a>    <span class="n">ams_id</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">tray_id</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="__span-0-820"><a id="__codelineno-0-820" name="__codelineno-0-820"></a><a href="#__codelineno-0-820"><span class="linenos" data-linenos="820 "></span></a>    <span class="k">if</span> <span class="n">tray_id</span> <span class="o">==</span> <span class="mi">254</span> <span class="ow">or</span> <span class="n">tray_id</span> <span class="o">==</span> <span class="mi">255</span><span class="p">:</span>
</span><span id="__span-0-821"><a id="__codelineno-0-821" name="__codelineno-0-821"></a><a href="#__codelineno-0-821"><span class="linenos" data-linenos="821 "></span></a>        <span class="n">ams_id</span> <span class="o">=</span> <span class="n">tray_id</span>
</span><span id="__span-0-822"><a id="__codelineno-0-822" name="__codelineno-0-822"></a><a href="#__codelineno-0-822"><span class="linenos" data-linenos="822 "></span></a>        <span class="n">tray_id</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-823"><a id="__codelineno-0-823" name="__codelineno-0-823"></a><a href="#__codelineno-0-823"><span class="linenos" data-linenos="823 "></span></a>
</span><span id="__span-0-824"><a id="__codelineno-0-824" name="__codelineno-0-824"></a><a href="#__codelineno-0-824"><span class="linenos" data-linenos="824 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-825"><a id="__codelineno-0-825" name="__codelineno-0-825"></a><a href="#__codelineno-0-825"><span class="linenos" data-linenos="825 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span>
</span><span id="__span-0-826"><a id="__codelineno-0-826" name="__codelineno-0-826"></a><a href="#__codelineno-0-826"><span class="linenos" data-linenos="826 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;slot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span> <span class="o">%</span> <span class="mi">4</span>
</span><span id="__span-0-827"><a id="__codelineno-0-827" name="__codelineno-0-827"></a><a href="#__codelineno-0-827"><span class="linenos" data-linenos="827 "></span></a>
</span><span id="__span-0-828"><a id="__codelineno-0-828" name="__codelineno-0-828"></a><a href="#__codelineno-0-828"><span class="linenos" data-linenos="828 "></span></a>    <span class="k">if</span> <span class="n">tray_info_idx</span> <span class="o">==</span> <span class="s2">&quot;no_filament&quot;</span><span class="p">:</span>
</span><span id="__span-0-829"><a id="__codelineno-0-829" name="__codelineno-0-829"></a><a href="#__codelineno-0-829"><span class="linenos" data-linenos="829 "></span></a>        <span class="n">tray_info_idx</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-830"><a id="__codelineno-0-830" name="__codelineno-0-830"></a><a href="#__codelineno-0-830"><span class="linenos" data-linenos="830 "></span></a>        <span class="n">tray_id_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-831"><a id="__codelineno-0-831" name="__codelineno-0-831"></a><a href="#__codelineno-0-831"><span class="linenos" data-linenos="831 "></span></a>        <span class="n">tray_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-832"><a id="__codelineno-0-832" name="__codelineno-0-832"></a><a href="#__codelineno-0-832"><span class="linenos" data-linenos="832 "></span></a>        <span class="n">tray_color</span> <span class="o">=</span> <span class="s2">&quot;FFFFFF00&quot;</span>
</span><span id="__span-0-833"><a id="__codelineno-0-833" name="__codelineno-0-833"></a><a href="#__codelineno-0-833"><span class="linenos" data-linenos="833 "></span></a>        <span class="n">nozzle_temp_min</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-834"><a id="__codelineno-0-834" name="__codelineno-0-834"></a><a href="#__codelineno-0-834"><span class="linenos" data-linenos="834 "></span></a>        <span class="n">nozzle_temp_max</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-835"><a id="__codelineno-0-835" name="__codelineno-0-835"></a><a href="#__codelineno-0-835"><span class="linenos" data-linenos="835 "></span></a>
</span><span id="__span-0-836"><a id="__codelineno-0-836" name="__codelineno-0-836"></a><a href="#__codelineno-0-836"><span class="linenos" data-linenos="836 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_info_idx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_info_idx</span>
</span><span id="__span-0-837"><a id="__codelineno-0-837" name="__codelineno-0-837"></a><a href="#__codelineno-0-837"><span class="linenos" data-linenos="837 "></span></a>
</span><span id="__span-0-838"><a id="__codelineno-0-838" name="__codelineno-0-838"></a><a href="#__codelineno-0-838"><span class="linenos" data-linenos="838 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_id_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id_name</span>
</span><span id="__span-0-839"><a id="__codelineno-0-839" name="__codelineno-0-839"></a><a href="#__codelineno-0-839"><span class="linenos" data-linenos="839 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_type</span>
</span><span id="__span-0-840"><a id="__codelineno-0-840" name="__codelineno-0-840"></a><a href="#__codelineno-0-840"><span class="linenos" data-linenos="840 "></span></a>
</span><span id="__span-0-841"><a id="__codelineno-0-841" name="__codelineno-0-841"></a><a href="#__codelineno-0-841"><span class="linenos" data-linenos="841 "></span></a>    <span class="k">if</span> <span class="n">tray_color</span> <span class="ow">and</span> <span class="n">tray_color</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="__span-0-842"><a id="__codelineno-0-842" name="__codelineno-0-842"></a><a href="#__codelineno-0-842"><span class="linenos" data-linenos="842 "></span></a>        <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-843"><a id="__codelineno-0-843" name="__codelineno-0-843"></a><a href="#__codelineno-0-843"><span class="linenos" data-linenos="843 "></span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-844"><a id="__codelineno-0-844" name="__codelineno-0-844"></a><a href="#__codelineno-0-844"><span class="linenos" data-linenos="844 "></span></a>            <span class="n">color</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name_to_hex</span><span class="p">(</span><span class="n">tray_color</span><span class="p">)</span><span class="si">}</span><span class="s2">FF&quot;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</span><span id="__span-0-845"><a id="__codelineno-0-845" name="__codelineno-0-845"></a><a href="#__codelineno-0-845"><span class="linenos" data-linenos="845 "></span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="__span-0-846"><a id="__codelineno-0-846" name="__codelineno-0-846"></a><a href="#__codelineno-0-846"><span class="linenos" data-linenos="846 "></span></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">tray_color</span>
</span><span id="__span-0-847"><a id="__codelineno-0-847" name="__codelineno-0-847"></a><a href="#__codelineno-0-847"><span class="linenos" data-linenos="847 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="__span-0-848"><a id="__codelineno-0-848" name="__codelineno-0-848"></a><a href="#__codelineno-0-848"><span class="linenos" data-linenos="848 "></span></a>
</span><span id="__span-0-849"><a id="__codelineno-0-849" name="__codelineno-0-849"></a><a href="#__codelineno-0-849"><span class="linenos" data-linenos="849 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;nozzle_temp_min&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nozzle_temp_min</span>
</span><span id="__span-0-850"><a id="__codelineno-0-850" name="__codelineno-0-850"></a><a href="#__codelineno-0-850"><span class="linenos" data-linenos="850 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;nozzle_temp_max&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nozzle_temp_max</span>
</span><span id="__span-0-851"><a id="__codelineno-0-851" name="__codelineno-0-851"></a><a href="#__codelineno-0-851"><span class="linenos" data-linenos="851 "></span></a>
</span><span id="__span-0-852"><a id="__codelineno-0-852" name="__codelineno-0-852"></a><a href="#__codelineno-0-852"><span class="linenos" data-linenos="852 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-853"><a id="__codelineno-0-853" name="__codelineno-0-853"></a><a href="#__codelineno-0-853"><span class="linenos" data-linenos="853 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-854"><a id="__codelineno-0-854" name="__codelineno-0-854"></a><a href="#__codelineno-0-854"><span class="linenos" data-linenos="854 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-855"><a id="__codelineno-0-855" name="__codelineno-0-855"></a><a href="#__codelineno-0-855"><span class="linenos" data-linenos="855 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-856"><a id="__codelineno-0-856" name="__codelineno-0-856"></a><a href="#__codelineno-0-856"><span class="linenos" data-linenos="856 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_spool_details - published AMS_FILAMENT_SETTING to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-857"><a id="__codelineno-0-857" name="__codelineno-0-857"></a><a href="#__codelineno-0-857"><span class="linenos" data-linenos="857 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.set_spool_k_factor" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_spool_k_factor</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-deprecated"><code>deprecated</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">set_spool_k_factor</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(tray_id)">tray_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(k_value)">k_value</span></span><span class="p">:</span> <span class="n"><span title="float">float</span></span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(n_coef)">n_coef</span></span><span class="p">:</span> <span class="n"><span title="float">float</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mf">1.399999976158142</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(nozzle_temp)">nozzle_temp</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(bed_temp)">bed_temp</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.set_spool_k_factor(max_volumetric_speed)">max_volumetric_speed</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">



<details class="danger" open>
  <summary>Deprecated</summary>
  <p>This method is deprecated. The closest alternative is <code>select_extrusion_calibration_profile</code>.</p>
</details>        <p>Sets the linear advance k factor for a specific spool / tray</p>
<p>broken in recent firmware -- will require implementing
k factor list management</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-762"><a id="__codelineno-0-762" name="__codelineno-0-762"></a><a href="#__codelineno-0-762"><span class="linenos" data-linenos="762 "></span></a><span class="nd">@deprecated</span><span class="p">(</span>
</span><span id="__span-0-763"><a id="__codelineno-0-763" name="__codelineno-0-763"></a><a href="#__codelineno-0-763"><span class="linenos" data-linenos="763 "></span></a>    <span class="s2">&quot;This method is deprecated. The closest alternative is `select_extrusion_calibration_profile`.&quot;</span>
</span><span id="__span-0-764"><a id="__codelineno-0-764" name="__codelineno-0-764"></a><a href="#__codelineno-0-764"><span class="linenos" data-linenos="764 "></span></a><span class="p">)</span>
</span><span id="__span-0-765"><a id="__codelineno-0-765" name="__codelineno-0-765"></a><a href="#__codelineno-0-765"><span class="linenos" data-linenos="765 "></span></a><span class="k">def</span> <span class="nf">set_spool_k_factor</span><span class="p">(</span>
</span><span id="__span-0-766"><a id="__codelineno-0-766" name="__codelineno-0-766"></a><a href="#__codelineno-0-766"><span class="linenos" data-linenos="766 "></span></a>    <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-0-767"><a id="__codelineno-0-767" name="__codelineno-0-767"></a><a href="#__codelineno-0-767"><span class="linenos" data-linenos="767 "></span></a>    <span class="n">tray_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-0-768"><a id="__codelineno-0-768" name="__codelineno-0-768"></a><a href="#__codelineno-0-768"><span class="linenos" data-linenos="768 "></span></a>    <span class="n">k_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="__span-0-769"><a id="__codelineno-0-769" name="__codelineno-0-769"></a><a href="#__codelineno-0-769"><span class="linenos" data-linenos="769 "></span></a>    <span class="n">n_coef</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mf">1.399999976158142</span><span class="p">,</span>
</span><span id="__span-0-770"><a id="__codelineno-0-770" name="__codelineno-0-770"></a><a href="#__codelineno-0-770"><span class="linenos" data-linenos="770 "></span></a>    <span class="n">nozzle_temp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-771"><a id="__codelineno-0-771" name="__codelineno-0-771"></a><a href="#__codelineno-0-771"><span class="linenos" data-linenos="771 "></span></a>    <span class="n">bed_temp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-772"><a id="__codelineno-0-772" name="__codelineno-0-772"></a><a href="#__codelineno-0-772"><span class="linenos" data-linenos="772 "></span></a>    <span class="n">max_volumetric_speed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-773"><a id="__codelineno-0-773" name="__codelineno-0-773"></a><a href="#__codelineno-0-773"><span class="linenos" data-linenos="773 "></span></a><span class="p">):</span>
</span><span id="__span-0-774"><a id="__codelineno-0-774" name="__codelineno-0-774"></a><a href="#__codelineno-0-774"><span class="linenos" data-linenos="774 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-775"><a id="__codelineno-0-775" name="__codelineno-0-775"></a><a href="#__codelineno-0-775"><span class="linenos" data-linenos="775 "></span></a><span class="sd">    Sets the linear advance k factor for a specific spool / tray</span>
</span><span id="__span-0-776"><a id="__codelineno-0-776" name="__codelineno-0-776"></a><a href="#__codelineno-0-776"><span class="linenos" data-linenos="776 "></span></a>
</span><span id="__span-0-777"><a id="__codelineno-0-777" name="__codelineno-0-777"></a><a href="#__codelineno-0-777"><span class="linenos" data-linenos="777 "></span></a><span class="sd">    broken in recent firmware -- will require implementing</span>
</span><span id="__span-0-778"><a id="__codelineno-0-778" name="__codelineno-0-778"></a><a href="#__codelineno-0-778"><span class="linenos" data-linenos="778 "></span></a><span class="sd">    k factor list management</span>
</span><span id="__span-0-779"><a id="__codelineno-0-779" name="__codelineno-0-779"></a><a href="#__codelineno-0-779"><span class="linenos" data-linenos="779 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-780"><a id="__codelineno-0-780" name="__codelineno-0-780"></a><a href="#__codelineno-0-780"><span class="linenos" data-linenos="780 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">EXTRUSION_CALI_SET</span><span class="p">)</span>
</span><span id="__span-0-781"><a id="__codelineno-0-781" name="__codelineno-0-781"></a><a href="#__codelineno-0-781"><span class="linenos" data-linenos="781 "></span></a>
</span><span id="__span-0-782"><a id="__codelineno-0-782" name="__codelineno-0-782"></a><a href="#__codelineno-0-782"><span class="linenos" data-linenos="782 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;tray_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span>
</span><span id="__span-0-783"><a id="__codelineno-0-783" name="__codelineno-0-783"></a><a href="#__codelineno-0-783"><span class="linenos" data-linenos="783 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;slot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tray_id</span> <span class="o">%</span> <span class="mi">4</span>
</span><span id="__span-0-784"><a id="__codelineno-0-784" name="__codelineno-0-784"></a><a href="#__codelineno-0-784"><span class="linenos" data-linenos="784 "></span></a>
</span><span id="__span-0-785"><a id="__codelineno-0-785" name="__codelineno-0-785"></a><a href="#__codelineno-0-785"><span class="linenos" data-linenos="785 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;k_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">k_value</span>
</span><span id="__span-0-786"><a id="__codelineno-0-786" name="__codelineno-0-786"></a><a href="#__codelineno-0-786"><span class="linenos" data-linenos="786 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;n_coef&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">n_coef</span>
</span><span id="__span-0-787"><a id="__codelineno-0-787" name="__codelineno-0-787"></a><a href="#__codelineno-0-787"><span class="linenos" data-linenos="787 "></span></a>
</span><span id="__span-0-788"><a id="__codelineno-0-788" name="__codelineno-0-788"></a><a href="#__codelineno-0-788"><span class="linenos" data-linenos="788 "></span></a>    <span class="k">if</span> <span class="n">nozzle_temp</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="__span-0-789"><a id="__codelineno-0-789" name="__codelineno-0-789"></a><a href="#__codelineno-0-789"><span class="linenos" data-linenos="789 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;nozzle_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nozzle_temp</span>
</span><span id="__span-0-790"><a id="__codelineno-0-790" name="__codelineno-0-790"></a><a href="#__codelineno-0-790"><span class="linenos" data-linenos="790 "></span></a>    <span class="k">if</span> <span class="n">bed_temp</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="__span-0-791"><a id="__codelineno-0-791" name="__codelineno-0-791"></a><a href="#__codelineno-0-791"><span class="linenos" data-linenos="791 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;bed_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed_temp</span>
</span><span id="__span-0-792"><a id="__codelineno-0-792" name="__codelineno-0-792"></a><a href="#__codelineno-0-792"><span class="linenos" data-linenos="792 "></span></a>    <span class="k">if</span> <span class="n">max_volumetric_speed</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="__span-0-793"><a id="__codelineno-0-793" name="__codelineno-0-793"></a><a href="#__codelineno-0-793"><span class="linenos" data-linenos="793 "></span></a>        <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;max_volumetric_speed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_volumetric_speed</span>
</span><span id="__span-0-794"><a id="__codelineno-0-794" name="__codelineno-0-794"></a><a href="#__codelineno-0-794"><span class="linenos" data-linenos="794 "></span></a>
</span><span id="__span-0-795"><a id="__codelineno-0-795" name="__codelineno-0-795"></a><a href="#__codelineno-0-795"><span class="linenos" data-linenos="795 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-796"><a id="__codelineno-0-796" name="__codelineno-0-796"></a><a href="#__codelineno-0-796"><span class="linenos" data-linenos="796 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-797"><a id="__codelineno-0-797" name="__codelineno-0-797"></a><a href="#__codelineno-0-797"><span class="linenos" data-linenos="797 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-798"><a id="__codelineno-0-798" name="__codelineno-0-798"></a><a href="#__codelineno-0-798"><span class="linenos" data-linenos="798 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-799"><a id="__codelineno-0-799" name="__codelineno-0-799"></a><a href="#__codelineno-0-799"><span class="linenos" data-linenos="799 "></span></a>        <span class="sa">f</span><span class="s2">&quot;set_spool_k_factor - published EXTRUSION_CALI_SET to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-800"><a id="__codelineno-0-800" name="__codelineno-0-800"></a><a href="#__codelineno-0-800"><span class="linenos" data-linenos="800 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.skip_objects" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">skip_objects</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">skip_objects</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.skip_objects(objects)">objects</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>skip a list of objects extracted from the 3mf's plate_x.json file</p>
<h5 id="bpm.bambuprinter.BambuPrinter.skip_objects--parameters">Parameters</h5>
<p>objects : list</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-878"><a id="__codelineno-0-878" name="__codelineno-0-878"></a><a href="#__codelineno-0-878"><span class="linenos" data-linenos="878 "></span></a><span class="k">def</span> <span class="nf">skip_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objects</span><span class="p">):</span>
</span><span id="__span-0-879"><a id="__codelineno-0-879" name="__codelineno-0-879"></a><a href="#__codelineno-0-879"><span class="linenos" data-linenos="879 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-880"><a id="__codelineno-0-880" name="__codelineno-0-880"></a><a href="#__codelineno-0-880"><span class="linenos" data-linenos="880 "></span></a><span class="sd">    skip a list of objects extracted from the 3mf&#39;s plate_x.json file</span>
</span><span id="__span-0-881"><a id="__codelineno-0-881" name="__codelineno-0-881"></a><a href="#__codelineno-0-881"><span class="linenos" data-linenos="881 "></span></a>
</span><span id="__span-0-882"><a id="__codelineno-0-882" name="__codelineno-0-882"></a><a href="#__codelineno-0-882"><span class="linenos" data-linenos="882 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-883"><a id="__codelineno-0-883" name="__codelineno-0-883"></a><a href="#__codelineno-0-883"><span class="linenos" data-linenos="883 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-884"><a id="__codelineno-0-884" name="__codelineno-0-884"></a><a href="#__codelineno-0-884"><span class="linenos" data-linenos="884 "></span></a><span class="sd">    objects : list</span>
</span><span id="__span-0-885"><a id="__codelineno-0-885" name="__codelineno-0-885"></a><a href="#__codelineno-0-885"><span class="linenos" data-linenos="885 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-886"><a id="__codelineno-0-886" name="__codelineno-0-886"></a><a href="#__codelineno-0-886"><span class="linenos" data-linenos="886 "></span></a>    <span class="n">objs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-887"><a id="__codelineno-0-887" name="__codelineno-0-887"></a><a href="#__codelineno-0-887"><span class="linenos" data-linenos="887 "></span></a>    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
</span><span id="__span-0-888"><a id="__codelineno-0-888" name="__codelineno-0-888"></a><a href="#__codelineno-0-888"><span class="linenos" data-linenos="888 "></span></a>        <span class="n">objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
</span><span id="__span-0-889"><a id="__codelineno-0-889" name="__codelineno-0-889"></a><a href="#__codelineno-0-889"><span class="linenos" data-linenos="889 "></span></a>
</span><span id="__span-0-890"><a id="__codelineno-0-890" name="__codelineno-0-890"></a><a href="#__codelineno-0-890"><span class="linenos" data-linenos="890 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SKIP_OBJECTS</span><span class="p">)</span>
</span><span id="__span-0-891"><a id="__codelineno-0-891" name="__codelineno-0-891"></a><a href="#__codelineno-0-891"><span class="linenos" data-linenos="891 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;obj_list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">objs</span>
</span><span id="__span-0-892"><a id="__codelineno-0-892" name="__codelineno-0-892"></a><a href="#__codelineno-0-892"><span class="linenos" data-linenos="892 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-893"><a id="__codelineno-0-893" name="__codelineno-0-893"></a><a href="#__codelineno-0-893"><span class="linenos" data-linenos="893 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-894"><a id="__codelineno-0-894" name="__codelineno-0-894"></a><a href="#__codelineno-0-894"><span class="linenos" data-linenos="894 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-895"><a id="__codelineno-0-895" name="__codelineno-0-895"></a><a href="#__codelineno-0-895"><span class="linenos" data-linenos="895 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-896"><a id="__codelineno-0-896" name="__codelineno-0-896"></a><a href="#__codelineno-0-896"><span class="linenos" data-linenos="896 "></span></a>        <span class="sa">f</span><span class="s2">&quot;skip_objects - published SKIP_OBJECTS to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] bambu_msg: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-897"><a id="__codelineno-0-897" name="__codelineno-0-897"></a><a href="#__codelineno-0-897"><span class="linenos" data-linenos="897 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.start_session" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">start_session</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">start_session</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Initiates a connection to the Bambu Lab printer and provides a stateful
session, with built-in recovery in the event <code>BambuPrinter</code>
becomes disconnected from the machine.</p>
<p>This method is required to be called before any commands or data
collection / callbacks can take place with the machine.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a><a href="#__codelineno-0-163"><span class="linenos" data-linenos="163 "></span></a><span class="k">def</span> <span class="nf">start_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a><a href="#__codelineno-0-164"><span class="linenos" data-linenos="164 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><a href="#__codelineno-0-165"><span class="linenos" data-linenos="165 "></span></a><span class="sd">    Initiates a connection to the Bambu Lab printer and provides a stateful</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><a href="#__codelineno-0-166"><span class="linenos" data-linenos="166 "></span></a><span class="sd">    session, with built-in recovery in the event `BambuPrinter`</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a><a href="#__codelineno-0-167"><span class="linenos" data-linenos="167 "></span></a><span class="sd">    becomes disconnected from the machine.</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a><a href="#__codelineno-0-168"><span class="linenos" data-linenos="168 "></span></a>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a><a href="#__codelineno-0-169"><span class="linenos" data-linenos="169 "></span></a><span class="sd">    This method is required to be called before any commands or data</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a><a href="#__codelineno-0-170"><span class="linenos" data-linenos="170 "></span></a><span class="sd">    collection / callbacks can take place with the machine.</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><a href="#__codelineno-0-171"><span class="linenos" data-linenos="171 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a><a href="#__codelineno-0-172"><span class="linenos" data-linenos="172 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;start_session - starting session&quot;</span><span class="p">)</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a><a href="#__codelineno-0-173"><span class="linenos" data-linenos="173 "></span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><a href="#__codelineno-0-174"><span class="linenos" data-linenos="174 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostname</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a><a href="#__codelineno-0-175"><span class="linenos" data-linenos="175 "></span></a>        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">access_code</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><a href="#__codelineno-0-176"><span class="linenos" data-linenos="176 "></span></a>        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><a href="#__codelineno-0-177"><span class="linenos" data-linenos="177 "></span></a>    <span class="p">):</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><a href="#__codelineno-0-178"><span class="linenos" data-linenos="178 "></span></a>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;hostname, access_code, and serial_number are required&quot;</span><span class="p">)</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a><a href="#__codelineno-0-179"><span class="linenos" data-linenos="179 "></span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><a href="#__codelineno-0-180"><span class="linenos" data-linenos="180 "></span></a>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;a session is already active&quot;</span><span class="p">)</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><a href="#__codelineno-0-181"><span class="linenos" data-linenos="181 "></span></a>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a><a href="#__codelineno-0-182"><span class="linenos" data-linenos="182 "></span></a>    <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">userdata</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">reason_code</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a><a href="#__codelineno-0-183"><span class="linenos" data-linenos="183 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;on_connect - session on_connect&quot;</span><span class="p">)</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a><a href="#__codelineno-0-184"><span class="linenos" data-linenos="184 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">!=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">PAUSED</span><span class="p">:</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a><a href="#__codelineno-0-185"><span class="linenos" data-linenos="185 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">CONNECTED</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a><a href="#__codelineno-0-186"><span class="linenos" data-linenos="186 "></span></a>            <span class="n">client</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report&quot;</span><span class="p">)</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a><a href="#__codelineno-0-187"><span class="linenos" data-linenos="187 "></span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;subscribed to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/report]&quot;</span><span class="p">)</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a><a href="#__codelineno-0-188"><span class="linenos" data-linenos="188 "></span></a>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a><a href="#__codelineno-0-189"><span class="linenos" data-linenos="189 "></span></a>    <span class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">userdata</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">reason_code</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a><a href="#__codelineno-0-190"><span class="linenos" data-linenos="190 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;on_disconnect - session on_disconnect&quot;</span><span class="p">)</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a><a href="#__codelineno-0-191"><span class="linenos" data-linenos="191 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_internalException</span><span class="p">:</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a><a href="#__codelineno-0-192"><span class="linenos" data-linenos="192 "></span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;on_disconnect - an internal exception occurred&quot;</span><span class="p">)</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a><a href="#__codelineno-0-193"><span class="linenos" data-linenos="193 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">QUIT</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a><a href="#__codelineno-0-194"><span class="linenos" data-linenos="194 "></span></a>            <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">_internalException</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a><a href="#__codelineno-0-195"><span class="linenos" data-linenos="195 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">!=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">PAUSED</span><span class="p">:</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a><a href="#__codelineno-0-196"><span class="linenos" data-linenos="196 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">DISCONNECTED</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a><a href="#__codelineno-0-197"><span class="linenos" data-linenos="197 "></span></a>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a><a href="#__codelineno-0-198"><span class="linenos" data-linenos="198 "></span></a>    <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">userdata</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><a href="#__codelineno-0-199"><span class="linenos" data-linenos="199 "></span></a>        <span class="c1"># logger.debug(f&quot;on_message - topic: [{msg.topic}]&quot;)</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a><a href="#__codelineno-0-200"><span class="linenos" data-linenos="200 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lastMessageTime</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recent_update</span><span class="p">:</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a><a href="#__codelineno-0-201"><span class="linenos" data-linenos="201 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_lastMessageTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a><a href="#__codelineno-0-202"><span class="linenos" data-linenos="202 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_on_message</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a><a href="#__codelineno-0-203"><span class="linenos" data-linenos="203 "></span></a>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a><a href="#__codelineno-0-204"><span class="linenos" data-linenos="204 "></span></a>    <span class="k">def</span> <span class="nf">loop_forever</span><span class="p">(</span><span class="n">printer</span><span class="p">:</span> <span class="n">BambuPrinter</span><span class="p">):</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a><a href="#__codelineno-0-205"><span class="linenos" data-linenos="205 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;loop_forever - starting mqtt loop_forever&quot;</span><span class="p">)</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a><a href="#__codelineno-0-206"><span class="linenos" data-linenos="206 "></span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a><a href="#__codelineno-0-207"><span class="linenos" data-linenos="207 "></span></a>            <span class="n">printer</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">loop_forever</span><span class="p">(</span><span class="n">retry_first_connection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a><a href="#__codelineno-0-208"><span class="linenos" data-linenos="208 "></span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a><a href="#__codelineno-0-209"><span class="linenos" data-linenos="209 "></span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;loop_forever - an internal exception occurred&quot;</span><span class="p">)</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a><a href="#__codelineno-0-210"><span class="linenos" data-linenos="210 "></span></a>            <span class="n">printer</span><span class="o">.</span><span class="n">_internalException</span> <span class="o">=</span> <span class="n">e</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a><a href="#__codelineno-0-211"><span class="linenos" data-linenos="211 "></span></a>            <span class="k">if</span> <span class="n">printer</span><span class="o">.</span><span class="n">client</span> <span class="ow">and</span> <span class="n">printer</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a><a href="#__codelineno-0-212"><span class="linenos" data-linenos="212 "></span></a>                <span class="n">printer</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a><a href="#__codelineno-0-213"><span class="linenos" data-linenos="213 "></span></a>        <span class="n">printer</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">QUIT</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a><a href="#__codelineno-0-214"><span class="linenos" data-linenos="214 "></span></a>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a><a href="#__codelineno-0-215"><span class="linenos" data-linenos="215 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">mqtt</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">mqtt</span><span class="o">.</span><span class="n">CallbackAPIVersion</span><span class="o">.</span><span class="n">VERSION2</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a><a href="#__codelineno-0-216"><span class="linenos" data-linenos="216 "></span></a>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a><a href="#__codelineno-0-217"><span class="linenos" data-linenos="217 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">on_connect</span> <span class="o">=</span> <span class="n">on_connect</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a><a href="#__codelineno-0-218"><span class="linenos" data-linenos="218 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">on_disconnect</span> <span class="o">=</span> <span class="n">on_disconnect</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a><a href="#__codelineno-0-219"><span class="linenos" data-linenos="219 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">on_message</span> <span class="o">=</span> <span class="n">on_message</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a><a href="#__codelineno-0-220"><span class="linenos" data-linenos="220 "></span></a>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a><a href="#__codelineno-0-221"><span class="linenos" data-linenos="221 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">tls_set</span><span class="p">(</span><span class="n">tls_version</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLS</span><span class="p">,</span> <span class="n">cert_reqs</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">)</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a><a href="#__codelineno-0-222"><span class="linenos" data-linenos="222 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">tls_insecure_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a><a href="#__codelineno-0-223"><span class="linenos" data-linenos="223 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">reconnect_delay_set</span><span class="p">(</span><span class="n">min_delay</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_delay</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a><a href="#__codelineno-0-224"><span class="linenos" data-linenos="224 "></span></a>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a><a href="#__codelineno-0-225"><span class="linenos" data-linenos="225 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">username_pw_set</span><span class="p">(</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a><a href="#__codelineno-0-226"><span class="linenos" data-linenos="226 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mqtt_username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">access_code</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a><a href="#__codelineno-0-227"><span class="linenos" data-linenos="227 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a><a href="#__codelineno-0-228"><span class="linenos" data-linenos="228 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">user_data_set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mqtt_client_id</span><span class="p">)</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a><a href="#__codelineno-0-229"><span class="linenos" data-linenos="229 "></span></a>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a><a href="#__codelineno-0-230"><span class="linenos" data-linenos="230 "></span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a><a href="#__codelineno-0-231"><span class="linenos" data-linenos="231 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mqtt_port</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a><a href="#__codelineno-0-232"><span class="linenos" data-linenos="232 "></span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a><a href="#__codelineno-0-233"><span class="linenos" data-linenos="233 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_internalException</span> <span class="o">=</span> <span class="n">e</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a><a href="#__codelineno-0-234"><span class="linenos" data-linenos="234 "></span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a><a href="#__codelineno-0-235"><span class="linenos" data-linenos="235 "></span></a>            <span class="sa">f</span><span class="s2">&quot;start_session - unable to connect to printer - reason: [</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">] stacktrace: [</span><span class="si">{</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a><a href="#__codelineno-0-236"><span class="linenos" data-linenos="236 "></span></a>        <span class="p">)</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a><a href="#__codelineno-0-237"><span class="linenos" data-linenos="237 "></span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">QUIT</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a><a href="#__codelineno-0-238"><span class="linenos" data-linenos="238 "></span></a>        <span class="k">return</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a><a href="#__codelineno-0-239"><span class="linenos" data-linenos="239 "></span></a>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a><a href="#__codelineno-0-240"><span class="linenos" data-linenos="240 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a><a href="#__codelineno-0-241"><span class="linenos" data-linenos="241 "></span></a>        <span class="n">target</span><span class="o">=</span><span class="n">loop_forever</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;bambuprinter-session&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="p">,)</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a><a href="#__codelineno-0-242"><span class="linenos" data-linenos="242 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><a href="#__codelineno-0-243"><span class="linenos" data-linenos="243 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_mqtt_client_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a><a href="#__codelineno-0-244"><span class="linenos" data-linenos="244 "></span></a>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a><a href="#__codelineno-0-245"><span class="linenos" data-linenos="245 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_start_watchdog</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.stop_printing" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">stop_printing</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stop_printing</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Requests the printer to stop printing if a job is currently running.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-485"><a id="__codelineno-0-485" name="__codelineno-0-485"></a><a href="#__codelineno-0-485"><span class="linenos" data-linenos="485 "></span></a><span class="k">def</span> <span class="nf">stop_printing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-486"><a id="__codelineno-0-486" name="__codelineno-0-486"></a><a href="#__codelineno-0-486"><span class="linenos" data-linenos="486 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-487"><a id="__codelineno-0-487" name="__codelineno-0-487"></a><a href="#__codelineno-0-487"><span class="linenos" data-linenos="487 "></span></a><span class="sd">    Requests the printer to stop printing if a job is currently running.</span>
</span><span id="__span-0-488"><a id="__codelineno-0-488" name="__codelineno-0-488"></a><a href="#__codelineno-0-488"><span class="linenos" data-linenos="488 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-489"><a id="__codelineno-0-489" name="__codelineno-0-489"></a><a href="#__codelineno-0-489"><span class="linenos" data-linenos="489 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-490"><a id="__codelineno-0-490" name="__codelineno-0-490"></a><a href="#__codelineno-0-490"><span class="linenos" data-linenos="490 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-491"><a id="__codelineno-0-491" name="__codelineno-0-491"></a><a href="#__codelineno-0-491"><span class="linenos" data-linenos="491 "></span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">STOP_PRINT</span><span class="p">),</span>
</span><span id="__span-0-492"><a id="__codelineno-0-492" name="__codelineno-0-492"></a><a href="#__codelineno-0-492"><span class="linenos" data-linenos="492 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-493"><a id="__codelineno-0-493" name="__codelineno-0-493"></a><a href="#__codelineno-0-493"><span class="linenos" data-linenos="493 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-494"><a id="__codelineno-0-494" name="__codelineno-0-494"></a><a href="#__codelineno-0-494"><span class="linenos" data-linenos="494 "></span></a>        <span class="sa">f</span><span class="s2">&quot;stop_printing - published STOP_PRINT to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request]&quot;</span>
</span><span id="__span-0-495"><a id="__codelineno-0-495" name="__codelineno-0-495"></a><a href="#__codelineno-0-495"><span class="linenos" data-linenos="495 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.target_spool" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">target_spool</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-deprecated"><code>deprecated</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">target_spool</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">



<details class="danger" open>
  <summary>Deprecated</summary>
  <p>This property is deprecated (v1.0.0). Use <code>BambuState.target_tray_id</code>.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-2152"><a id="__codelineno-0-2152" name="__codelineno-0-2152"></a><a href="#__codelineno-0-2152"><span class="linenos" data-linenos="2152 "></span></a><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;This property is deprecated (v1.0.0). Use `BambuState.target_tray_id`.&quot;</span><span class="p">)</span>
</span><span id="__span-0-2153"><a id="__codelineno-0-2153" name="__codelineno-0-2153"></a><a href="#__codelineno-0-2153"><span class="linenos" data-linenos="2153 "></span></a><span class="k">def</span> <span class="nf">target_spool</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-2154"><a id="__codelineno-0-2154" name="__codelineno-0-2154"></a><a href="#__codelineno-0-2154"><span class="linenos" data-linenos="2154 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">target_tray_id</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.toJson" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">toJson</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">toJson</span><span class="p">()</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a <code>dict</code> (json document) representing this object's private class
level attributes that are serializable (most are).</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1124"><a id="__codelineno-0-1124" name="__codelineno-0-1124"></a><a href="#__codelineno-0-1124"><span class="linenos" data-linenos="1124 "></span></a><span class="k">def</span> <span class="nf">toJson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-1125"><a id="__codelineno-0-1125" name="__codelineno-0-1125"></a><a href="#__codelineno-0-1125"><span class="linenos" data-linenos="1125 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-1126"><a id="__codelineno-0-1126" name="__codelineno-0-1126"></a><a href="#__codelineno-0-1126"><span class="linenos" data-linenos="1126 "></span></a><span class="sd">    Returns a `dict` (json document) representing this object&#39;s private class</span>
</span><span id="__span-0-1127"><a id="__codelineno-0-1127" name="__codelineno-0-1127"></a><a href="#__codelineno-0-1127"><span class="linenos" data-linenos="1127 "></span></a><span class="sd">    level attributes that are serializable (most are).</span>
</span><span id="__span-0-1128"><a id="__codelineno-0-1128" name="__codelineno-0-1128"></a><a href="#__codelineno-0-1128"><span class="linenos" data-linenos="1128 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-1129"><a id="__codelineno-0-1129" name="__codelineno-0-1129"></a><a href="#__codelineno-0-1129"><span class="linenos" data-linenos="1129 "></span></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">jsonSerializer</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-1130"><a id="__codelineno-0-1130" name="__codelineno-0-1130"></a><a href="#__codelineno-0-1130"><span class="linenos" data-linenos="1130 "></span></a>    <span class="c1"># logger.debug(f&quot;toJson - json: [{response}]&quot;)</span>
</span><span id="__span-0-1131"><a id="__codelineno-0-1131" name="__codelineno-0-1131"></a><a href="#__codelineno-0-1131"><span class="linenos" data-linenos="1131 "></span></a>
</span><span id="__span-0-1132"><a id="__codelineno-0-1132" name="__codelineno-0-1132"></a><a href="#__codelineno-0-1132"><span class="linenos" data-linenos="1132 "></span></a>    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.turn_off_ams_dryer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">turn_off_ams_dryer</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">turn_off_ams_dryer</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_off_ams_dryer(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sends a command to the printer to turn off the AMS dryer.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-986"><a id="__codelineno-0-986" name="__codelineno-0-986"></a><a href="#__codelineno-0-986"><span class="linenos" data-linenos=" 986 "></span></a><span class="k">def</span> <span class="nf">turn_off_ams_dryer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="__span-0-987"><a id="__codelineno-0-987" name="__codelineno-0-987"></a><a href="#__codelineno-0-987"><span class="linenos" data-linenos=" 987 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-988"><a id="__codelineno-0-988" name="__codelineno-0-988"></a><a href="#__codelineno-0-988"><span class="linenos" data-linenos=" 988 "></span></a><span class="sd">    Sends a command to the printer to turn off the AMS dryer.</span>
</span><span id="__span-0-989"><a id="__codelineno-0-989" name="__codelineno-0-989"></a><a href="#__codelineno-0-989"><span class="linenos" data-linenos=" 989 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-990"><a id="__codelineno-0-990" name="__codelineno-0-990"></a><a href="#__codelineno-0-990"><span class="linenos" data-linenos=" 990 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_FILAMENT_DRYING</span><span class="p">)</span>
</span><span id="__span-0-991"><a id="__codelineno-0-991" name="__codelineno-0-991"></a><a href="#__codelineno-0-991"><span class="linenos" data-linenos=" 991 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-992"><a id="__codelineno-0-992" name="__codelineno-0-992"></a><a href="#__codelineno-0-992"><span class="linenos" data-linenos=" 992 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Turn off drying mode</span>
</span><span id="__span-0-993"><a id="__codelineno-0-993" name="__codelineno-0-993"></a><a href="#__codelineno-0-993"><span class="linenos" data-linenos=" 993 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-994"><a id="__codelineno-0-994" name="__codelineno-0-994"></a><a href="#__codelineno-0-994"><span class="linenos" data-linenos=" 994 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-995"><a id="__codelineno-0-995" name="__codelineno-0-995"></a><a href="#__codelineno-0-995"><span class="linenos" data-linenos=" 995 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-996"><a id="__codelineno-0-996" name="__codelineno-0-996"></a><a href="#__codelineno-0-996"><span class="linenos" data-linenos=" 996 "></span></a>
</span><span id="__span-0-997"><a id="__codelineno-0-997" name="__codelineno-0-997"></a><a href="#__codelineno-0-997"><span class="linenos" data-linenos=" 997 "></span></a>    <span class="n">ams</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">u</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">ams_units</span> <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">ams_id</span> <span class="o">==</span> <span class="n">ams_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="__span-0-998"><a id="__codelineno-0-998" name="__codelineno-0-998"></a><a href="#__codelineno-0-998"><span class="linenos" data-linenos=" 998 "></span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">ams</span><span class="p">:</span>
</span><span id="__span-0-999"><a id="__codelineno-0-999" name="__codelineno-0-999"></a><a href="#__codelineno-0-999"><span class="linenos" data-linenos=" 999 "></span></a>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;invalid ams_id provided&quot;</span><span class="p">)</span>
</span><span id="__span-0-1000"><a id="__codelineno-0-1000" name="__codelineno-0-1000"></a><a href="#__codelineno-0-1000"><span class="linenos" data-linenos="1000 "></span></a>
</span><span id="__span-0-1001"><a id="__codelineno-0-1001" name="__codelineno-0-1001"></a><a href="#__codelineno-0-1001"><span class="linenos" data-linenos="1001 "></span></a>    <span class="n">ams</span><span class="o">.</span><span class="n">temp_target</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1002"><a id="__codelineno-0-1002" name="__codelineno-0-1002"></a><a href="#__codelineno-0-1002"><span class="linenos" data-linenos="1002 "></span></a>
</span><span id="__span-0-1003"><a id="__codelineno-0-1003" name="__codelineno-0-1003"></a><a href="#__codelineno-0-1003"><span class="linenos" data-linenos="1003 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-1004"><a id="__codelineno-0-1004" name="__codelineno-0-1004"></a><a href="#__codelineno-0-1004"><span class="linenos" data-linenos="1004 "></span></a>        <span class="sa">f</span><span class="s2">&quot;turn_off_ams_dryer - published AMS_FILAMENT_DRYING to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-1005"><a id="__codelineno-0-1005" name="__codelineno-0-1005"></a><a href="#__codelineno-0-1005"><span class="linenos" data-linenos="1005 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">turn_on_ams_dryer</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">turn_on_ams_dryer</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(target_temp)">target_temp</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(duration)">duration</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(target_humidity)">target_humidity</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(cooling_temp)">cooling_temp</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">45</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(rotate_tray)">rotate_tray</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Sends a command to the printer to turn on the AMS dryer with specified parameters.</p>
<h5 id="bpm.bambuprinter.BambuPrinter.turn_on_ams_dryer--parameters">Parameters</h5>
<ul>
<li>target_temp : int - The target drying temperature.</li>
<li>duration : int - The drying duration in minutes.</li>
<li>target_humidity : int - The target humidity level.</li>
<li>cooling_temp : int - The cooling temperature after drying (default is 45).</li>
<li>rotate_tray : bool - Whether to rotate the tray during drying (default is False).</li>
<li>ams_id : int - The AMS ID to control (default is 0).</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-943"><a id="__codelineno-0-943" name="__codelineno-0-943"></a><a href="#__codelineno-0-943"><span class="linenos" data-linenos="943 "></span></a><span class="k">def</span> <span class="nf">turn_on_ams_dryer</span><span class="p">(</span>
</span><span id="__span-0-944"><a id="__codelineno-0-944" name="__codelineno-0-944"></a><a href="#__codelineno-0-944"><span class="linenos" data-linenos="944 "></span></a>    <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-0-945"><a id="__codelineno-0-945" name="__codelineno-0-945"></a><a href="#__codelineno-0-945"><span class="linenos" data-linenos="945 "></span></a>    <span class="n">target_temp</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-0-946"><a id="__codelineno-0-946" name="__codelineno-0-946"></a><a href="#__codelineno-0-946"><span class="linenos" data-linenos="946 "></span></a>    <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-0-947"><a id="__codelineno-0-947" name="__codelineno-0-947"></a><a href="#__codelineno-0-947"><span class="linenos" data-linenos="947 "></span></a>    <span class="n">target_humidity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-948"><a id="__codelineno-0-948" name="__codelineno-0-948"></a><a href="#__codelineno-0-948"><span class="linenos" data-linenos="948 "></span></a>    <span class="n">cooling_temp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">45</span><span class="p">,</span>
</span><span id="__span-0-949"><a id="__codelineno-0-949" name="__codelineno-0-949"></a><a href="#__codelineno-0-949"><span class="linenos" data-linenos="949 "></span></a>    <span class="n">rotate_tray</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-950"><a id="__codelineno-0-950" name="__codelineno-0-950"></a><a href="#__codelineno-0-950"><span class="linenos" data-linenos="950 "></span></a>    <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-951"><a id="__codelineno-0-951" name="__codelineno-0-951"></a><a href="#__codelineno-0-951"><span class="linenos" data-linenos="951 "></span></a><span class="p">):</span>
</span><span id="__span-0-952"><a id="__codelineno-0-952" name="__codelineno-0-952"></a><a href="#__codelineno-0-952"><span class="linenos" data-linenos="952 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-953"><a id="__codelineno-0-953" name="__codelineno-0-953"></a><a href="#__codelineno-0-953"><span class="linenos" data-linenos="953 "></span></a><span class="sd">    Sends a command to the printer to turn on the AMS dryer with specified parameters.</span>
</span><span id="__span-0-954"><a id="__codelineno-0-954" name="__codelineno-0-954"></a><a href="#__codelineno-0-954"><span class="linenos" data-linenos="954 "></span></a>
</span><span id="__span-0-955"><a id="__codelineno-0-955" name="__codelineno-0-955"></a><a href="#__codelineno-0-955"><span class="linenos" data-linenos="955 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-956"><a id="__codelineno-0-956" name="__codelineno-0-956"></a><a href="#__codelineno-0-956"><span class="linenos" data-linenos="956 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-957"><a id="__codelineno-0-957" name="__codelineno-0-957"></a><a href="#__codelineno-0-957"><span class="linenos" data-linenos="957 "></span></a><span class="sd">    * target_temp : int - The target drying temperature.</span>
</span><span id="__span-0-958"><a id="__codelineno-0-958" name="__codelineno-0-958"></a><a href="#__codelineno-0-958"><span class="linenos" data-linenos="958 "></span></a><span class="sd">    * duration : int - The drying duration in minutes.</span>
</span><span id="__span-0-959"><a id="__codelineno-0-959" name="__codelineno-0-959"></a><a href="#__codelineno-0-959"><span class="linenos" data-linenos="959 "></span></a><span class="sd">    * target_humidity : int - The target humidity level.</span>
</span><span id="__span-0-960"><a id="__codelineno-0-960" name="__codelineno-0-960"></a><a href="#__codelineno-0-960"><span class="linenos" data-linenos="960 "></span></a><span class="sd">    * cooling_temp : int - The cooling temperature after drying (default is 45).</span>
</span><span id="__span-0-961"><a id="__codelineno-0-961" name="__codelineno-0-961"></a><a href="#__codelineno-0-961"><span class="linenos" data-linenos="961 "></span></a><span class="sd">    * rotate_tray : bool - Whether to rotate the tray during drying (default is False).</span>
</span><span id="__span-0-962"><a id="__codelineno-0-962" name="__codelineno-0-962"></a><a href="#__codelineno-0-962"><span class="linenos" data-linenos="962 "></span></a><span class="sd">    * ams_id : int - The AMS ID to control (default is 0).</span>
</span><span id="__span-0-963"><a id="__codelineno-0-963" name="__codelineno-0-963"></a><a href="#__codelineno-0-963"><span class="linenos" data-linenos="963 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-964"><a id="__codelineno-0-964" name="__codelineno-0-964"></a><a href="#__codelineno-0-964"><span class="linenos" data-linenos="964 "></span></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_FILAMENT_DRYING</span><span class="p">)</span>
</span><span id="__span-0-965"><a id="__codelineno-0-965" name="__codelineno-0-965"></a><a href="#__codelineno-0-965"><span class="linenos" data-linenos="965 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-966"><a id="__codelineno-0-966" name="__codelineno-0-966"></a><a href="#__codelineno-0-966"><span class="linenos" data-linenos="966 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Turn on drying mode</span>
</span><span id="__span-0-967"><a id="__codelineno-0-967" name="__codelineno-0-967"></a><a href="#__codelineno-0-967"><span class="linenos" data-linenos="967 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_temp</span>
</span><span id="__span-0-968"><a id="__codelineno-0-968" name="__codelineno-0-968"></a><a href="#__codelineno-0-968"><span class="linenos" data-linenos="968 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duration</span>
</span><span id="__span-0-969"><a id="__codelineno-0-969" name="__codelineno-0-969"></a><a href="#__codelineno-0-969"><span class="linenos" data-linenos="969 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;humidity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_humidity</span>
</span><span id="__span-0-970"><a id="__codelineno-0-970" name="__codelineno-0-970"></a><a href="#__codelineno-0-970"><span class="linenos" data-linenos="970 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;cooling_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cooling_temp</span>
</span><span id="__span-0-971"><a id="__codelineno-0-971" name="__codelineno-0-971"></a><a href="#__codelineno-0-971"><span class="linenos" data-linenos="971 "></span></a>    <span class="n">cmd</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;rotate_tray&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotate_tray</span>
</span><span id="__span-0-972"><a id="__codelineno-0-972" name="__codelineno-0-972"></a><a href="#__codelineno-0-972"><span class="linenos" data-linenos="972 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-973"><a id="__codelineno-0-973" name="__codelineno-0-973"></a><a href="#__codelineno-0-973"><span class="linenos" data-linenos="973 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span><span id="__span-0-974"><a id="__codelineno-0-974" name="__codelineno-0-974"></a><a href="#__codelineno-0-974"><span class="linenos" data-linenos="974 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-975"><a id="__codelineno-0-975" name="__codelineno-0-975"></a><a href="#__codelineno-0-975"><span class="linenos" data-linenos="975 "></span></a>
</span><span id="__span-0-976"><a id="__codelineno-0-976" name="__codelineno-0-976"></a><a href="#__codelineno-0-976"><span class="linenos" data-linenos="976 "></span></a>    <span class="n">ams</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">u</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_printer_state</span><span class="o">.</span><span class="n">ams_units</span> <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">ams_id</span> <span class="o">==</span> <span class="n">ams_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="__span-0-977"><a id="__codelineno-0-977" name="__codelineno-0-977"></a><a href="#__codelineno-0-977"><span class="linenos" data-linenos="977 "></span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">ams</span><span class="p">:</span>
</span><span id="__span-0-978"><a id="__codelineno-0-978" name="__codelineno-0-978"></a><a href="#__codelineno-0-978"><span class="linenos" data-linenos="978 "></span></a>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;invalid ams_id provided&quot;</span><span class="p">)</span>
</span><span id="__span-0-979"><a id="__codelineno-0-979" name="__codelineno-0-979"></a><a href="#__codelineno-0-979"><span class="linenos" data-linenos="979 "></span></a>
</span><span id="__span-0-980"><a id="__codelineno-0-980" name="__codelineno-0-980"></a><a href="#__codelineno-0-980"><span class="linenos" data-linenos="980 "></span></a>    <span class="n">ams</span><span class="o">.</span><span class="n">temp_target</span> <span class="o">=</span> <span class="n">target_temp</span>
</span><span id="__span-0-981"><a id="__codelineno-0-981" name="__codelineno-0-981"></a><a href="#__codelineno-0-981"><span class="linenos" data-linenos="981 "></span></a>
</span><span id="__span-0-982"><a id="__codelineno-0-982" name="__codelineno-0-982"></a><a href="#__codelineno-0-982"><span class="linenos" data-linenos="982 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-983"><a id="__codelineno-0-983" name="__codelineno-0-983"></a><a href="#__codelineno-0-983"><span class="linenos" data-linenos="983 "></span></a>        <span class="sa">f</span><span class="s2">&quot;turn_on_ams_dryer - published AMS_FILAMENT_DRYING to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] command: [</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-984"><a id="__codelineno-0-984" name="__codelineno-0-984"></a><a href="#__codelineno-0-984"><span class="linenos" data-linenos="984 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.unload_filament" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">unload_filament</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">unload_filament</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.unload_filament(ams_id)">ams_id</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Requests the printer to unload whatever filament / spool may be currently loaded.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-343"><a id="__codelineno-0-343" name="__codelineno-0-343"></a><a href="#__codelineno-0-343"><span class="linenos" data-linenos="343 "></span></a><span class="k">def</span> <span class="nf">unload_filament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ams_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="__span-0-344"><a id="__codelineno-0-344" name="__codelineno-0-344"></a><a href="#__codelineno-0-344"><span class="linenos" data-linenos="344 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-345"><a id="__codelineno-0-345" name="__codelineno-0-345"></a><a href="#__codelineno-0-345"><span class="linenos" data-linenos="345 "></span></a><span class="sd">    Requests the printer to unload whatever filament / spool may be currently loaded.</span>
</span><span id="__span-0-346"><a id="__codelineno-0-346" name="__codelineno-0-346"></a><a href="#__codelineno-0-346"><span class="linenos" data-linenos="346 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-347"><a id="__codelineno-0-347" name="__codelineno-0-347"></a><a href="#__codelineno-0-347"><span class="linenos" data-linenos="347 "></span></a>    <span class="n">msg</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">AMS_CHANGE_FILAMENT</span><span class="p">)</span>
</span><span id="__span-0-348"><a id="__codelineno-0-348" name="__codelineno-0-348"></a><a href="#__codelineno-0-348"><span class="linenos" data-linenos="348 "></span></a>    <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;print&quot;</span><span class="p">][</span><span class="s2">&quot;ams_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ams_id</span>
</span><span id="__span-0-349"><a id="__codelineno-0-349" name="__codelineno-0-349"></a><a href="#__codelineno-0-349"><span class="linenos" data-linenos="349 "></span></a>
</span><span id="__span-0-350"><a id="__codelineno-0-350" name="__codelineno-0-350"></a><a href="#__codelineno-0-350"><span class="linenos" data-linenos="350 "></span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
</span><span id="__span-0-351"><a id="__codelineno-0-351" name="__codelineno-0-351"></a><a href="#__codelineno-0-351"><span class="linenos" data-linenos="351 "></span></a>        <span class="sa">f</span><span class="s2">&quot;device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request&quot;</span><span class="p">,</span>
</span><span id="__span-0-352"><a id="__codelineno-0-352" name="__codelineno-0-352"></a><a href="#__codelineno-0-352"><span class="linenos" data-linenos="352 "></span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span>
</span><span id="__span-0-353"><a id="__codelineno-0-353" name="__codelineno-0-353"></a><a href="#__codelineno-0-353"><span class="linenos" data-linenos="353 "></span></a>    <span class="p">)</span>
</span><span id="__span-0-354"><a id="__codelineno-0-354" name="__codelineno-0-354"></a><a href="#__codelineno-0-354"><span class="linenos" data-linenos="354 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="__span-0-355"><a id="__codelineno-0-355" name="__codelineno-0-355"></a><a href="#__codelineno-0-355"><span class="linenos" data-linenos="355 "></span></a>        <span class="sa">f</span><span class="s2">&quot;unload_filament - published AMS_CHANGE_FILAMENT to [device/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">/request] - bambu_msg: [</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">]&quot;</span>
</span><span id="__span-0-356"><a id="__codelineno-0-356" name="__codelineno-0-356"></a><a href="#__codelineno-0-356"><span class="linenos" data-linenos="356 "></span></a>    <span class="p">)</span>
</span></code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bpm.bambuprinter.BambuPrinter.upload_sdcard_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">upload_sdcard_file</span>


</h3>
<div class="language-python doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">upload_sdcard_file</span><span class="p">(</span><span class="n"><span title="bpm.bambuprinter.BambuPrinter.upload_sdcard_file(src)">src</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="bpm.bambuprinter.BambuPrinter.upload_sdcard_file(dest)">dest</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Uploads the local filesystem file to the printer and returns an updated dict of all files on the printer</p>
<h5 id="bpm.bambuprinter.BambuPrinter.upload_sdcard_file--parameters">Parameters</h5>
<ul>
<li>src : str - the full path filename on the host to be uploaded to the printer</li>
<li>dest : str - the full path filename on the printer to upload to</li>
</ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/bpm/bambuprinter.py</code></summary>
              <div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-636"><a id="__codelineno-0-636" name="__codelineno-0-636"></a><a href="#__codelineno-0-636"><span class="linenos" data-linenos="636 "></span></a><span class="k">def</span> <span class="nf">upload_sdcard_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dest</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-0-637"><a id="__codelineno-0-637" name="__codelineno-0-637"></a><a href="#__codelineno-0-637"><span class="linenos" data-linenos="637 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-638"><a id="__codelineno-0-638" name="__codelineno-0-638"></a><a href="#__codelineno-0-638"><span class="linenos" data-linenos="638 "></span></a><span class="sd">    Uploads the local filesystem file to the printer and returns an updated dict of all files on the printer</span>
</span><span id="__span-0-639"><a id="__codelineno-0-639" name="__codelineno-0-639"></a><a href="#__codelineno-0-639"><span class="linenos" data-linenos="639 "></span></a>
</span><span id="__span-0-640"><a id="__codelineno-0-640" name="__codelineno-0-640"></a><a href="#__codelineno-0-640"><span class="linenos" data-linenos="640 "></span></a><span class="sd">    Parameters</span>
</span><span id="__span-0-641"><a id="__codelineno-0-641" name="__codelineno-0-641"></a><a href="#__codelineno-0-641"><span class="linenos" data-linenos="641 "></span></a><span class="sd">    ----------</span>
</span><span id="__span-0-642"><a id="__codelineno-0-642" name="__codelineno-0-642"></a><a href="#__codelineno-0-642"><span class="linenos" data-linenos="642 "></span></a><span class="sd">    * src : str - the full path filename on the host to be uploaded to the printer</span>
</span><span id="__span-0-643"><a id="__codelineno-0-643" name="__codelineno-0-643"></a><a href="#__codelineno-0-643"><span class="linenos" data-linenos="643 "></span></a><span class="sd">    * dest : str - the full path filename on the printer to upload to</span>
</span><span id="__span-0-644"><a id="__codelineno-0-644" name="__codelineno-0-644"></a><a href="#__codelineno-0-644"><span class="linenos" data-linenos="644 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-645"><a id="__codelineno-0-645" name="__codelineno-0-645"></a><a href="#__codelineno-0-645"><span class="linenos" data-linenos="645 "></span></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;upload_sdcard_file - uploading file src: [</span><span class="si">{</span><span class="n">src</span><span class="si">}</span><span class="s2">] dest: [</span><span class="si">{</span><span class="n">dest</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</span><span id="__span-0-646"><a id="__codelineno-0-646" name="__codelineno-0-646"></a><a href="#__codelineno-0-646"><span class="linenos" data-linenos="646 "></span></a>    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">ftp_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">ftps</span><span class="p">:</span>
</span><span id="__span-0-647"><a id="__codelineno-0-647" name="__codelineno-0-647"></a><a href="#__codelineno-0-647"><span class="linenos" data-linenos="647 "></span></a>        <span class="n">ftps</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</span><span id="__span-0-648"><a id="__codelineno-0-648" name="__codelineno-0-648"></a><a href="#__codelineno-0-648"><span class="linenos" data-linenos="648 "></span></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sdcard_contents</span><span class="p">()</span>
</span></code></pre></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>